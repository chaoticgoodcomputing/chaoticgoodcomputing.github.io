function H(n,t){return n==null||t==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function oe(n,t){return n==null||t==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function St(n){let t,e,r;n.length!==2?(t=H,e=(u,l)=>H(n(u),l),r=(u,l)=>n(u)-l):(t=n===H||n===oe?n:Un,e=n,r=n);function i(u,l,s=0,c=u.length){if(s<c){if(t(l,l)!==0)return c;do{let h=s+c>>>1;e(u[h],l)<0?s=h+1:c=h}while(s<c)}return s}function o(u,l,s=0,c=u.length){if(s<c){if(t(l,l)!==0)return c;do{let h=s+c>>>1;e(u[h],l)<=0?s=h+1:c=h}while(s<c)}return s}function a(u,l,s=0,c=u.length){let h=i(u,l,s,c-1);return h>s&&r(u[h-1],l)>-r(u[h],l)?h-1:h}return{left:i,center:a,right:o}}function Un(){return 0}function ie(n){return n===null?NaN:+n}var He=St(H),Xe=He.right,Qn=He.left,Zn=St(ie).center,ae=Xe,Jn=Math.sqrt(50),jn=Math.sqrt(10),to=Math.sqrt(2);function Mt(n,t,e){let r=(t-n)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Jn?10:o>=jn?5:o>=to?2:1,u,l,s;return i<0?(s=Math.pow(10,-i)/a,u=Math.round(n*s),l=Math.round(t*s),u/s<n&&++u,l/s>t&&--l,s=-s):(s=Math.pow(10,i)*a,u=Math.round(n/s),l=Math.round(t/s),u*s<n&&++u,l*s>t&&--l),l<u&&.5<=e&&e<2?Mt(n,t,e*2):[u,l,s]}function At(n,t,e){if(t=+t,n=+n,e=+e,!(e>0))return[];if(n===t)return[n];let r=t<n,[i,o,a]=r?Mt(t,n,e):Mt(n,t,e);if(!(o>=i))return[];let u=o-i+1,l=new Array(u);if(r)if(a<0)for(let s=0;s<u;++s)l[s]=(o-s)/-a;else for(let s=0;s<u;++s)l[s]=(o-s)*a;else if(a<0)for(let s=0;s<u;++s)l[s]=(i+s)/-a;else for(let s=0;s<u;++s)l[s]=(i+s)*a;return l}function nt(n,t,e){return t=+t,n=+n,e=+e,Mt(n,t,e)[2]}function se(n,t,e){t=+t,n=+n,e=+e;let r=t<n,i=r?nt(t,n,e):nt(n,t,e);return(r?-1:1)*(i<0?1/-i:i)}var eo={value:()=>{}};function Ye(){for(var n=0,t=arguments.length,e={},r;n<t;++n){if(!(r=arguments[n]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new Et(e)}function Et(n){this._=n}function ro(n,t){return n.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}Et.prototype=Ye.prototype={constructor:Et,on:function(n,t){var e=this._,r=ro(n+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(n=r[o]).type)&&(i=no(e[i],n.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(n=r[o]).type)e[i]=Ve(e[i],n.name,t);else if(t==null)for(i in e)e[i]=Ve(e[i],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Et(n)},call:function(n,t){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=this._[n],r=0,i=o.length;r<i;++r)o[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(t,e)}};function no(n,t){for(var e=0,r=n.length,i;e<r;++e)if((i=n[e]).name===t)return i.value}function Ve(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=eo,n=n.slice(0,r).concat(n.slice(r+1));break}return e!=null&&n.push({name:t,value:e}),n}var ue=Ye,Nt="http://www.w3.org/1999/xhtml",fe={svg:"http://www.w3.org/2000/svg",xhtml:Nt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function D(n){var t=n+="",e=t.indexOf(":");return e>=0&&(t=n.slice(0,e))!=="xmlns"&&(n=n.slice(e+1)),fe.hasOwnProperty(t)?{space:fe[t],local:n}:n}function oo(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===Nt&&t.documentElement.namespaceURI===Nt?t.createElement(n):t.createElementNS(e,n)}}function io(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function It(n){var t=D(n);return(t.local?io:oo)(t)}function ao(){}function X(n){return n==null?ao:function(){return this.querySelector(n)}}function We(n){typeof n!="function"&&(n=X(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o=t[i],a=o.length,u=r[i]=new Array(a),l,s,c=0;c<a;++c)(l=o[c])&&(s=n.call(l,l.__data__,c,o))&&("__data__"in l&&(s.__data__=l.__data__),u[c]=s);return new y(r,this._parents)}function le(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function so(){return[]}function ot(n){return n==null?so:function(){return this.querySelectorAll(n)}}function uo(n){return function(){return le(n.apply(this,arguments))}}function Ge(n){typeof n=="function"?n=uo(n):n=ot(n);for(var t=this._groups,e=t.length,r=[],i=[],o=0;o<e;++o)for(var a=t[o],u=a.length,l,s=0;s<u;++s)(l=a[s])&&(r.push(n.call(l,l.__data__,s,a)),i.push(l));return new y(r,i)}function it(n){return function(){return this.matches(n)}}function Tt(n){return function(t){return t.matches(n)}}var fo=Array.prototype.find;function lo(n){return function(){return fo.call(this.children,n)}}function co(){return this.firstElementChild}function Ke(n){return this.select(n==null?co:lo(typeof n=="function"?n:Tt(n)))}var ho=Array.prototype.filter;function po(){return Array.from(this.children)}function mo(n){return function(){return ho.call(this.children,n)}}function Ue(n){return this.selectAll(n==null?po:mo(typeof n=="function"?n:Tt(n)))}function Qe(n){typeof n!="function"&&(n=it(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o=t[i],a=o.length,u=r[i]=[],l,s=0;s<a;++s)(l=o[s])&&n.call(l,l.__data__,s,o)&&u.push(l);return new y(r,this._parents)}function zt(n){return new Array(n.length)}function Ze(){return new y(this._enter||this._groups.map(zt),this._parents)}function at(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}at.prototype={constructor:at,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Je(n){return function(){return n}}function xo(n,t,e,r,i,o){for(var a=0,u,l=t.length,s=o.length;a<s;++a)(u=t[a])?(u.__data__=o[a],r[a]=u):e[a]=new at(n,o[a]);for(;a<l;++a)(u=t[a])&&(i[a]=u)}function go(n,t,e,r,i,o,a){var u,l,s=new Map,c=t.length,h=o.length,f=new Array(c),p;for(u=0;u<c;++u)(l=t[u])&&(f[u]=p=a.call(l,l.__data__,u,t)+"",s.has(p)?i[u]=l:s.set(p,l));for(u=0;u<h;++u)p=a.call(n,o[u],u,o)+"",(l=s.get(p))?(r[u]=l,l.__data__=o[u],s.delete(p)):e[u]=new at(n,o[u]);for(u=0;u<c;++u)(l=t[u])&&s.get(f[u])===l&&(i[u]=l)}function yo(n){return n.__data__}function je(n,t){if(!arguments.length)return Array.from(this,yo);var e=t?go:xo,r=this._parents,i=this._groups;typeof n!="function"&&(n=Je(n));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),s=0;s<o;++s){var c=r[s],h=i[s],f=h.length,p=wo(n.call(c,c&&c.__data__,s,r)),g=p.length,w=u[s]=new Array(g),_=a[s]=new Array(g),m=l[s]=new Array(f);e(c,h,w,_,m,p,t);for(var x=0,S=0,Wn,E;x<g;++x)if(Wn=w[x]){for(x>=S&&(S=x+1);!(E=_[S])&&++S<g;);Wn._next=E||null}}return a=new y(a,r),a._enter=u,a._exit=l,a}function wo(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function tr(){return new y(this._exit||this._groups.map(zt),this._parents)}function er(n,t,e){var r=this.enter(),i=this,o=this.exit();return typeof n=="function"?(r=n(r),r&&(r=r.selection())):r=r.append(n+""),t!=null&&(i=t(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function rr(n){for(var t=n.selection?n.selection():n,e=this._groups,r=t._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var s=e[l],c=r[l],h=s.length,f=u[l]=new Array(h),p,g=0;g<h;++g)(p=s[g]||c[g])&&(f[g]=p);for(;l<i;++l)u[l]=e[l];return new y(u,this._parents)}function nr(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r=n[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function or(n){n||(n=vo);function t(h,f){return h&&f?n(h.__data__,f.__data__):!h-!f}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,l=i[o]=new Array(u),s,c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(t)}return new y(i,this._parents).order()}function vo(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function ir(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function ar(){return Array.from(this)}function sr(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ur(){let n=0;for(let t of this)++n;return n}function fr(){return!this.node()}function lr(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i=t[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&n.call(u,u.__data__,o,i);return this}function _o(n){return function(){this.removeAttribute(n)}}function bo(n){return function(){this.removeAttributeNS(n.space,n.local)}}function ko(n,t){return function(){this.setAttribute(n,t)}}function So(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}function Mo(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttribute(n):this.setAttribute(n,e)}}function Ao(n,t){return function(){var e=t.apply(this,arguments);e==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,e)}}function cr(n,t){var e=D(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((t==null?e.local?bo:_o:typeof t=="function"?e.local?Ao:Mo:e.local?So:ko)(e,t))}function Ct(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function Eo(n){return function(){this.style.removeProperty(n)}}function No(n,t,e){return function(){this.style.setProperty(n,t,e)}}function Io(n,t,e){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(n):this.style.setProperty(n,r,e)}}function hr(n,t,e){return arguments.length>1?this.each((t==null?Eo:typeof t=="function"?Io:No)(n,t,e??"")):R(this.node(),n)}function R(n,t){return n.style.getPropertyValue(t)||Ct(n).getComputedStyle(n,null).getPropertyValue(t)}function To(n){return function(){delete this[n]}}function zo(n,t){return function(){this[n]=t}}function Co(n,t){return function(){var e=t.apply(this,arguments);e==null?delete this[n]:this[n]=e}}function pr(n,t){return arguments.length>1?this.each((t==null?To:typeof t=="function"?Co:zo)(n,t)):this.node()[n]}function mr(n){return n.trim().split(/^|\s+/)}function ce(n){return n.classList||new dr(n)}function dr(n){this._node=n,this._names=mr(n.getAttribute("class")||"")}dr.prototype={add:function(n){var t=this._names.indexOf(n);t<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function xr(n,t){for(var e=ce(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function gr(n,t){for(var e=ce(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function Oo(n){return function(){xr(this,n)}}function Do(n){return function(){gr(this,n)}}function Bo(n,t){return function(){(t.apply(this,arguments)?xr:gr)(this,n)}}function yr(n,t){var e=mr(n+"");if(arguments.length<2){for(var r=ce(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof t=="function"?Bo:t?Oo:Do)(e,t))}function $o(){this.textContent=""}function Ro(n){return function(){this.textContent=n}}function qo(n){return function(){var t=n.apply(this,arguments);this.textContent=t??""}}function wr(n){return arguments.length?this.each(n==null?$o:(typeof n=="function"?qo:Ro)(n)):this.node().textContent}function Lo(){this.innerHTML=""}function Po(n){return function(){this.innerHTML=n}}function Fo(n){return function(){var t=n.apply(this,arguments);this.innerHTML=t??""}}function vr(n){return arguments.length?this.each(n==null?Lo:(typeof n=="function"?Fo:Po)(n)):this.node().innerHTML}function Ho(){this.nextSibling&&this.parentNode.appendChild(this)}function _r(){return this.each(Ho)}function Xo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function br(){return this.each(Xo)}function kr(n){var t=typeof n=="function"?n:It(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Vo(){return null}function Sr(n,t){var e=typeof n=="function"?n:It(n),r=t==null?Vo:typeof t=="function"?t:X(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function Yo(){var n=this.parentNode;n&&n.removeChild(this)}function Mr(){return this.each(Yo)}function Wo(){var n=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Go(){var n=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(n,this.nextSibling):n}function Ar(n){return this.select(n?Go:Wo)}function Er(n){return arguments.length?this.property("__data__",n):this.node().__data__}function Ko(n){return function(t){n.call(this,t,this.__data__)}}function Uo(n){return n.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");return r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),{type:t,name:e}})}function Qo(n){return function(){var t=this.__on;if(t){for(var e=0,r=-1,i=t.length,o;e<i;++e)o=t[e],(!n.type||o.type===n.type)&&o.name===n.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Zo(n,t,e){return function(){var r=this.__on,i,o=Ko(t);if(r){for(var a=0,u=r.length;a<u;++a)if((i=r[a]).type===n.type&&i.name===n.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=t;return}}this.addEventListener(n.type,o,e),i={type:n.type,name:n.name,value:t,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Nr(n,t,e){var r=Uo(n+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,c;l<s;++l)for(i=0,c=u[l];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(u=t?Zo:Qo,i=0;i<o;++i)this.each(u(r[i],t,e));return this}function Ir(n,t,e){var r=Ct(n),i=r.CustomEvent;typeof i=="function"?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}function Jo(n,t){return function(){return Ir(this,n,t)}}function jo(n,t){return function(){return Ir(this,n,t.apply(this,arguments))}}function Tr(n,t){return this.each((typeof t=="function"?jo:Jo)(n,t))}function*zr(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var he=[null];function y(n,t){this._groups=n,this._parents=t}function Cr(){return new y([[document.documentElement]],he)}function ti(){return this}y.prototype=Cr.prototype={constructor:y,select:We,selectAll:Ge,selectChild:Ke,selectChildren:Ue,filter:Qe,data:je,enter:Ze,exit:tr,join:er,merge:rr,selection:ti,order:nr,sort:or,call:ir,nodes:ar,node:sr,size:ur,empty:fr,each:lr,attr:cr,style:hr,property:pr,classed:yr,text:wr,html:vr,raise:_r,lower:br,append:kr,insert:Sr,remove:Mr,clone:Ar,datum:Er,on:Nr,dispatch:Tr,[Symbol.iterator]:zr};var B=Cr;function Ot(n){return typeof n=="string"?new y([[document.querySelector(n)]],[document.documentElement]):new y([[n]],he)}function Dt(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function pe(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function ft(){}var st=.7,Rt=1/st,Z="\\s*([+-]?\\d+)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ei=/^#([0-9a-f]{3,8})$/,ri=new RegExp(`^rgb\\(${Z},${Z},${Z}\\)$`),ni=new RegExp(`^rgb\\(${z},${z},${z}\\)$`),oi=new RegExp(`^rgba\\(${Z},${Z},${Z},${ut}\\)$`),ii=new RegExp(`^rgba\\(${z},${z},${z},${ut}\\)$`),ai=new RegExp(`^hsl\\(${ut},${z},${z}\\)$`),si=new RegExp(`^hsla\\(${ut},${z},${z},${ut}\\)$`),Or={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dt(ft,I,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:Dr,formatHex:Dr,formatHex8:ui,formatHsl:fi,formatRgb:Br,toString:Br});function Dr(){return this.rgb().formatHex()}function ui(){return this.rgb().formatHex8()}function fi(){return Fr(this).formatHsl()}function Br(){return this.rgb().formatRgb()}function I(n){var t,e;return n=(n+"").trim().toLowerCase(),(t=ei.exec(n))?(e=t[1].length,t=parseInt(t[1],16),e===6?$r(t):e===3?new A(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):e===8?Bt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):e===4?Bt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ri.exec(n))?new A(t[1],t[2],t[3],1):(t=ni.exec(n))?new A(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oi.exec(n))?Bt(t[1],t[2],t[3],t[4]):(t=ii.exec(n))?Bt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ai.exec(n))?Lr(t[1],t[2]/100,t[3]/100,1):(t=si.exec(n))?Lr(t[1],t[2]/100,t[3]/100,t[4]):Or.hasOwnProperty(n)?$r(Or[n]):n==="transparent"?new A(NaN,NaN,NaN,0):null}function $r(n){return new A(n>>16&255,n>>8&255,n&255,1)}function Bt(n,t,e,r){return r<=0&&(n=t=e=NaN),new A(n,t,e,r)}function li(n){return n instanceof ft||(n=I(n)),n?(n=n.rgb(),new A(n.r,n.g,n.b,n.opacity)):new A}function J(n,t,e,r){return arguments.length===1?li(n):new A(n,t,e,r??1)}function A(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}Dt(A,J,pe(ft,{brighter(n){return n=n==null?Rt:Math.pow(Rt,n),new A(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?st:Math.pow(st,n),new A(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new A(Y(this.r),Y(this.g),Y(this.b),qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rr,formatHex:Rr,formatHex8:ci,formatRgb:qr,toString:qr}));function Rr(){return`#${V(this.r)}${V(this.g)}${V(this.b)}`}function ci(){return`#${V(this.r)}${V(this.g)}${V(this.b)}${V((isNaN(this.opacity)?1:this.opacity)*255)}`}function qr(){let n=qt(this.opacity);return`${n===1?"rgb(":"rgba("}${Y(this.r)}, ${Y(this.g)}, ${Y(this.b)}${n===1?")":`, ${n})`}`}function qt(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Y(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function V(n){return n=Y(n),(n<16?"0":"")+n.toString(16)}function Lr(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||e>=1?n=t=NaN:t<=0&&(n=NaN),new N(n,t,e,r)}function Fr(n){if(n instanceof N)return new N(n.h,n.s,n.l,n.opacity);if(n instanceof ft||(n=I(n)),!n)return new N;if(n instanceof N)return n;n=n.rgb();var t=n.r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),a=NaN,u=o-i,l=(o+i)/2;return u?(t===o?a=(e-r)/u+(e<r)*6:e===o?a=(r-t)/u+2:a=(t-e)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new N(a,u,l,n.opacity)}function Hr(n,t,e,r){return arguments.length===1?Fr(n):new N(n,t,e,r??1)}function N(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}Dt(N,Hr,pe(ft,{brighter(n){return n=n==null?Rt:Math.pow(Rt,n),new N(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?st:Math.pow(st,n),new N(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new A(me(n>=240?n-240:n+120,i,r),me(n,i,r),me(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new N(Pr(this.h),$t(this.s),$t(this.l),qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let n=qt(this.opacity);return`${n===1?"hsl(":"hsla("}${Pr(this.h)}, ${$t(this.s)*100}%, ${$t(this.l)*100}%${n===1?")":`, ${n})`}`}}));function Pr(n){return n=(n||0)%360,n<0?n+360:n}function $t(n){return Math.max(0,Math.min(1,n||0))}function me(n,t,e){return(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)*255}function de(n,t,e,r,i){var o=n*n,a=o*n;return((1-3*n+3*o-a)*t+(4-6*o+3*a)*e+(1+3*n+3*o-3*a)*r+a*i)/6}function Xr(n){var t=n.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),i=n[r],o=n[r+1],a=r>0?n[r-1]:2*i-o,u=r<t-1?n[r+2]:2*o-i;return de((e-r/t)*t,a,i,o,u)}}function Vr(n){var t=n.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*t),i=n[(r+t-1)%t],o=n[r%t],a=n[(r+1)%t],u=n[(r+2)%t];return de((e-r/t)*t,i,o,a,u)}}var lt=n=>()=>n;function hi(n,t){return function(e){return n+e*t}}function pi(n,t,e){return n=Math.pow(n,e),t=Math.pow(t,e)-n,e=1/e,function(r){return Math.pow(n+r*t,e)}}function Yr(n){return(n=+n)==1?Lt:function(t,e){return e-t?pi(t,e,n):lt(isNaN(t)?e:t)}}function Lt(n,t){var e=t-n;return e?hi(n,e):lt(isNaN(n)?t:n)}var W=(function n(t){var e=Yr(t);function r(i,o){var a=e((i=J(i)).r,(o=J(o)).r),u=e(i.g,o.g),l=e(i.b,o.b),s=Lt(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=u(c),i.b=l(c),i.opacity=s(c),i+""}}return r.gamma=n,r})(1);function Wr(n){return function(t){var e=t.length,r=new Array(e),i=new Array(e),o=new Array(e),a,u;for(a=0;a<e;++a)u=J(t[a]),r[a]=u.r||0,i[a]=u.g||0,o[a]=u.b||0;return r=n(r),i=n(i),o=n(o),u.opacity=1,function(l){return u.r=r(l),u.g=i(l),u.b=o(l),u+""}}}var mi=Wr(Xr),di=Wr(Vr);function Gr(n,t){t||(t=[]);var e=n?Math.min(t.length,n.length):0,r=t.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=n[i]*(1-o)+t[i]*o;return r}}function Kr(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Ur(n,t){var e=t?t.length:0,r=n?Math.min(e,n.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=G(n[a],t[a]);for(;a<e;++a)o[a]=t[a];return function(u){for(a=0;a<r;++a)o[a]=i[a](u);return o}}function Qr(n,t){var e=new Date;return n=+n,t=+t,function(r){return e.setTime(n*(1-r)+t*r),e}}function b(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function Zr(n,t){var e={},r={},i;(n===null||typeof n!="object")&&(n={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in n?e[i]=G(n[i],t[i]):r[i]=t[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var ge=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xe=new RegExp(ge.source,"g");function xi(n){return function(){return n}}function gi(n){return function(t){return n(t)+""}}function ct(n,t){var e=ge.lastIndex=xe.lastIndex=0,r,i,o,a=-1,u=[],l=[];for(n=n+"",t=t+"";(r=ge.exec(n))&&(i=xe.exec(t));)(o=i.index)>e&&(o=t.slice(e,o),u[a]?u[a]+=o:u[++a]=o),(r=r[0])===(i=i[0])?u[a]?u[a]+=i:u[++a]=i:(u[++a]=null,l.push({i:a,x:b(r,i)})),e=xe.lastIndex;return e<t.length&&(o=t.slice(e),u[a]?u[a]+=o:u[++a]=o),u.length<2?l[0]?gi(l[0].x):xi(t):(t=l.length,function(s){for(var c=0,h;c<t;++c)u[(h=l[c]).i]=h.x(s);return u.join("")})}function G(n,t){var e=typeof t,r;return t==null||e==="boolean"?lt(t):(e==="number"?b:e==="string"?(r=I(t))?(t=r,W):ct:t instanceof I?W:t instanceof Date?Qr:Kr(t)?Gr:Array.isArray(t)?Ur:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zr:b)(n,t)}function ye(n,t){return n=+n,t=+t,function(e){return Math.round(n*(1-e)+t*e)}}var Jr=180/Math.PI,Pt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function we(n,t,e,r,i,o){var a,u,l;return(a=Math.sqrt(n*n+t*t))&&(n/=a,t/=a),(l=n*e+t*r)&&(e-=n*l,r-=t*l),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,l/=u),n*r<t*e&&(n=-n,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,n)*Jr,skewX:Math.atan(l)*Jr,scaleX:a,scaleY:u}}var Ft;function jr(n){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return t.isIdentity?Pt:we(t.a,t.b,t.c,t.d,t.e,t.f)}function tn(n){return n==null?Pt:(Ft||(Ft=document.createElementNS("http://www.w3.org/2000/svg","g")),Ft.setAttribute("transform",n),(n=Ft.transform.baseVal.consolidate())?(n=n.matrix,we(n.a,n.b,n.c,n.d,n.e,n.f)):Pt)}function en(n,t,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,c,h,f,p,g){if(s!==h||c!==f){var w=p.push("translate(",null,t,null,e);g.push({i:w-4,x:b(s,h)},{i:w-2,x:b(c,f)})}else(h||f)&&p.push("translate("+h+t+f+e)}function a(s,c,h,f){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:b(s,c)})):c&&h.push(i(h)+"rotate("+c+r)}function u(s,c,h,f){s!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:b(s,c)}):c&&h.push(i(h)+"skewX("+c+r)}function l(s,c,h,f,p,g){if(s!==h||c!==f){var w=p.push(i(p)+"scale(",null,",",null,")");g.push({i:w-4,x:b(s,h)},{i:w-2,x:b(c,f)})}else(h!==1||f!==1)&&p.push(i(p)+"scale("+h+","+f+")")}return function(s,c){var h=[],f=[];return s=n(s),c=n(c),o(s.translateX,s.translateY,c.translateX,c.translateY,h,f),a(s.rotate,c.rotate,h,f),u(s.skewX,c.skewX,h,f),l(s.scaleX,s.scaleY,c.scaleX,c.scaleY,h,f),s=c=null,function(p){for(var g=-1,w=f.length,_;++g<w;)h[(_=f[g]).i]=_.x(p);return h.join("")}}}var ve=en(jr,"px, ","px)","deg)"),_e=en(tn,", ",")",")"),j=0,pt=0,ht=0,nn=1e3,Ht,mt,Xt=0,K=0,Vt=0,dt=typeof performance=="object"&&performance.now?performance:Date,on=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function gt(){return K||(on(yi),K=dt.now()+Vt)}function yi(){K=0}function xt(){this._call=this._time=this._next=null}xt.prototype=Yt.prototype={constructor:xt,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?gt():+e)+(t==null?0:+t),!this._next&&mt!==this&&(mt?mt._next=this:Ht=this,mt=this),this._call=n,this._time=e,be()},stop:function(){this._call&&(this._call=null,this._time=1/0,be())}};function Yt(n,t,e){var r=new xt;return r.restart(n,t,e),r}function an(){gt(),++j;for(var n=Ht,t;n;)(t=K-n._time)>=0&&n._call.call(void 0,t),n=n._next;--j}function rn(){K=(Xt=dt.now())+Vt,j=pt=0;try{an()}finally{j=0,vi(),K=0}}function wi(){var n=dt.now(),t=n-Xt;t>nn&&(Vt-=t,Xt=n)}function vi(){for(var n,t=Ht,e,r=1/0;t;)t._call?(r>t._time&&(r=t._time),n=t,t=t._next):(e=t._next,t._next=null,t=n?n._next=e:Ht=e);mt=n,be(r)}function be(n){if(!j){pt&&(pt=clearTimeout(pt));var t=n-K;t>24?(n<1/0&&(pt=setTimeout(rn,n-dt.now()-Vt)),ht&&(ht=clearInterval(ht))):(ht||(Xt=dt.now(),ht=setInterval(wi,nn)),j=1,on(rn))}}function Wt(n,t,e){var r=new xt;return t=t==null?0:+t,r.restart(i=>{r.stop(),n(i+t)},t,e),r}var _i=ue("start","end","cancel","interrupt"),bi=[],fn=0,sn=1,Kt=2,Gt=3,un=4,Ut=5,yt=6;function q(n,t,e,r,i,o){var a=n.__transition;if(!a)n.__transition={};else if(e in a)return;ki(n,e,{name:t,index:r,group:i,on:_i,tween:bi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:fn})}function wt(n,t){var e=v(n,t);if(e.state>fn)throw new Error("too late; already scheduled");return e}function k(n,t){var e=v(n,t);if(e.state>Gt)throw new Error("too late; already running");return e}function v(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function ki(n,t,e){var r=n.__transition,i;r[t]=e,e.timer=Yt(o,0,e.time);function o(s){e.state=sn,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var c,h,f,p;if(e.state!==sn)return l();for(c in r)if(p=r[c],p.name===e.name){if(p.state===Gt)return Wt(a);p.state===un?(p.state=yt,p.timer.stop(),p.on.call("interrupt",n,n.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=yt,p.timer.stop(),p.on.call("cancel",n,n.__data__,p.index,p.group),delete r[c])}if(Wt(function(){e.state===Gt&&(e.state=un,e.timer.restart(u,e.delay,e.time),u(s))}),e.state=Kt,e.on.call("start",n,n.__data__,e.index,e.group),e.state===Kt){for(e.state=Gt,i=new Array(f=e.tween.length),c=0,h=-1;c<f;++c)(p=e.tween[c].value.call(n,n.__data__,e.index,e.group))&&(i[++h]=p);i.length=h+1}}function u(s){for(var c=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(l),e.state=Ut,1),h=-1,f=i.length;++h<f;)i[h].call(n,c);e.state===Ut&&(e.on.call("end",n,n.__data__,e.index,e.group),l())}function l(){e.state=yt,e.timer.stop(),delete r[t];for(var s in r)return;delete n.__transition}}function Qt(n,t){var e=n.__transition,r,i,o=!0,a;if(e){t=t==null?null:t+"";for(a in e){if((r=e[a]).name!==t){o=!1;continue}i=r.state>Kt&&r.state<Ut,r.state=yt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",n,n.__data__,r.index,r.group),delete e[a]}o&&delete n.__transition}}function ln(n){return this.each(function(){Qt(this,n)})}function Si(n,t){var e,r;return function(){var i=k(this,n),o=i.tween;if(o!==e){r=e=o;for(var a=0,u=r.length;a<u;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Mi(n,t,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=k(this,n),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:t,value:e},l=0,s=i.length;l<s;++l)if(i[l].name===t){i[l]=u;break}l===s&&i.push(u)}o.tween=i}}function cn(n,t){var e=this._id;if(n+="",arguments.length<2){for(var r=v(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===n)return a.value;return null}return this.each((t==null?Si:Mi)(e,n,t))}function tt(n,t,e){var r=n._id;return n.each(function(){var i=k(this,r);(i.value||(i.value={}))[t]=e.apply(this,arguments)}),function(i){return v(i,r).value[t]}}function Zt(n,t){var e;return(typeof t=="number"?b:t instanceof I?W:(e=I(t))?(t=e,W):ct)(n,t)}function Ai(n){return function(){this.removeAttribute(n)}}function Ei(n){return function(){this.removeAttributeNS(n.space,n.local)}}function Ni(n,t,e){var r,i=e+"",o;return function(){var a=this.getAttribute(n);return a===i?null:a===r?o:o=t(r=a,e)}}function Ii(n,t,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(n.space,n.local);return a===i?null:a===r?o:o=t(r=a,e)}}function Ti(n,t,e){var r,i,o;return function(){var a,u=e(this),l;return u==null?void this.removeAttribute(n):(a=this.getAttribute(n),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,u)))}}function zi(n,t,e){var r,i,o;return function(){var a,u=e(this),l;return u==null?void this.removeAttributeNS(n.space,n.local):(a=this.getAttributeNS(n.space,n.local),l=u+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,u)))}}function hn(n,t){var e=D(n),r=e==="transform"?_e:Zt;return this.attrTween(n,typeof t=="function"?(e.local?zi:Ti)(e,r,tt(this,"attr."+n,t)):t==null?(e.local?Ei:Ai)(e):(e.local?Ii:Ni)(e,r,t))}function Ci(n,t){return function(e){this.setAttribute(n,t.call(this,e))}}function Oi(n,t){return function(e){this.setAttributeNS(n.space,n.local,t.call(this,e))}}function Di(n,t){var e,r;function i(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Oi(n,o)),e}return i._value=t,i}function Bi(n,t){var e,r;function i(){var o=t.apply(this,arguments);return o!==r&&(e=(r=o)&&Ci(n,o)),e}return i._value=t,i}function pn(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;var r=D(n);return this.tween(e,(r.local?Di:Bi)(r,t))}function $i(n,t){return function(){wt(this,n).delay=+t.apply(this,arguments)}}function Ri(n,t){return t=+t,function(){wt(this,n).delay=t}}function mn(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?$i:Ri)(t,n)):v(this.node(),t).delay}function qi(n,t){return function(){k(this,n).duration=+t.apply(this,arguments)}}function Li(n,t){return t=+t,function(){k(this,n).duration=t}}function dn(n){var t=this._id;return arguments.length?this.each((typeof n=="function"?qi:Li)(t,n)):v(this.node(),t).duration}function Pi(n,t){if(typeof t!="function")throw new Error;return function(){k(this,n).ease=t}}function xn(n){var t=this._id;return arguments.length?this.each(Pi(t,n)):v(this.node(),t).ease}function Fi(n,t){return function(){var e=t.apply(this,arguments);if(typeof e!="function")throw new Error;k(this,n).ease=e}}function gn(n){if(typeof n!="function")throw new Error;return this.each(Fi(this._id,n))}function yn(n){typeof n!="function"&&(n=it(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o=t[i],a=o.length,u=r[i]=[],l,s=0;s<a;++s)(l=o[s])&&n.call(l,l.__data__,s,o)&&u.push(l);return new M(r,this._parents,this._name,this._id)}function wn(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,r=t.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l=t[u],s=e[u],c=l.length,h=a[u]=new Array(c),f,p=0;p<c;++p)(f=l[p]||s[p])&&(h[p]=f);for(;u<r;++u)a[u]=t[u];return new M(a,this._parents,this._name,this._id)}function Hi(n){return(n+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||t==="start"})}function Xi(n,t,e){var r,i,o=Hi(t)?wt:k;return function(){var a=o(this,n),u=a.on;u!==r&&(i=(r=u).copy()).on(t,e),a.on=i}}function vn(n,t){var e=this._id;return arguments.length<2?v(this.node(),e).on.on(n):this.each(Xi(e,n,t))}function Vi(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function _n(){return this.on("end.remove",Vi(this._id))}function bn(n){var t=this._name,e=this._id;typeof n!="function"&&(n=X(n));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u=r[a],l=u.length,s=o[a]=new Array(l),c,h,f=0;f<l;++f)(c=u[f])&&(h=n.call(c,c.__data__,f,u))&&("__data__"in c&&(h.__data__=c.__data__),s[f]=h,q(s[f],t,e,f,s,v(c,e)));return new M(o,this._parents,t,e)}function kn(n){var t=this._name,e=this._id;typeof n!="function"&&(n=ot(n));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l=r[u],s=l.length,c,h=0;h<s;++h)if(c=l[h]){for(var f=n.call(c,c.__data__,h,l),p,g=v(c,e),w=0,_=f.length;w<_;++w)(p=f[w])&&q(p,t,e,w,f,g);o.push(f),a.push(c)}return new M(o,a,t,e)}var Yi=B.prototype.constructor;function Sn(){return new Yi(this._groups,this._parents)}function Wi(n,t){var e,r,i;return function(){var o=R(this,n),a=(this.style.removeProperty(n),R(this,n));return o===a?null:o===e&&a===r?i:i=t(e=o,r=a)}}function Mn(n){return function(){this.style.removeProperty(n)}}function Gi(n,t,e){var r,i=e+"",o;return function(){var a=R(this,n);return a===i?null:a===r?o:o=t(r=a,e)}}function Ki(n,t,e){var r,i,o;return function(){var a=R(this,n),u=e(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(n),R(this,n))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,u))}}function Ui(n,t){var e,r,i,o="style."+t,a="end."+o,u;return function(){var l=k(this,n),s=l.on,c=l.value[o]==null?u||(u=Mn(t)):void 0;(s!==e||i!==c)&&(r=(e=s).copy()).on(a,i=c),l.on=r}}function An(n,t,e){var r=(n+="")=="transform"?ve:Zt;return t==null?this.styleTween(n,Wi(n,r)).on("end.style."+n,Mn(n)):typeof t=="function"?this.styleTween(n,Ki(n,r,tt(this,"style."+n,t))).each(Ui(this._id,n)):this.styleTween(n,Gi(n,r,t),e).on("end.style."+n,null)}function Qi(n,t,e){return function(r){this.style.setProperty(n,t.call(this,r),e)}}function Zi(n,t,e){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Qi(n,a,e)),r}return o._value=t,o}function En(n,t,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Zi(n,t,e??""))}function Ji(n){return function(){this.textContent=n}}function ji(n){return function(){var t=n(this);this.textContent=t??""}}function Nn(n){return this.tween("text",typeof n=="function"?ji(tt(this,"text",n)):Ji(n==null?"":n+""))}function ta(n){return function(t){this.textContent=n.call(this,t)}}function ea(n){var t,e;function r(){var i=n.apply(this,arguments);return i!==e&&(t=(e=i)&&ta(i)),t}return r._value=n,r}function In(n){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(n==null)return this.tween(t,null);if(typeof n!="function")throw new Error;return this.tween(t,ea(n))}function Tn(){for(var n=this._name,t=this._id,e=Jt(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,s=0;s<u;++s)if(l=a[s]){var c=v(l,t);q(l,n,e,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new M(r,this._parents,n,e)}function zn(){var n,t,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var u={value:a},l={value:function(){--i===0&&o()}};e.each(function(){var s=k(this,r),c=s.on;c!==n&&(t=(n=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),s.on=t}),i===0&&o()})}var ra=0;function M(n,t,e,r){this._groups=n,this._parents=t,this._name=e,this._id=r}function Cn(n){return B().transition(n)}function Jt(){return++ra}var $=B.prototype;M.prototype=Cn.prototype={constructor:M,select:bn,selectAll:kn,selectChild:$.selectChild,selectChildren:$.selectChildren,filter:yn,merge:wn,selection:Sn,transition:Tn,call:$.call,nodes:$.nodes,node:$.node,size:$.size,empty:$.empty,each:$.each,on:vn,attr:hn,attrTween:pn,style:An,styleTween:En,text:Nn,textTween:In,remove:_n,tween:cn,delay:mn,duration:dn,ease:xn,easeVarying:gn,end:zn,[Symbol.iterator]:$[Symbol.iterator]};function jt(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var na={time:null,delay:0,duration:250,ease:jt};function oa(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))throw new Error(`transition ${t} not found`);return e}function On(n){var t,e;n instanceof M?(t=n._id,n=n._name):(t=Jt(),(e=na).time=gt(),n=n==null?null:n+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],u=a.length,l,s=0;s<u;++s)(l=a[s])&&q(l,n,t,s,a,e||oa(l,t));return new M(r,this._parents,n,t)}B.prototype.interrupt=ln,B.prototype.transition=On;var{abs:Xc,max:Vc,min:Yc}=Math;function Dn(n){return[+n[0],+n[1]]}function ia(n){return[Dn(n[0]),Dn(n[1])]}var Wc={name:"x",handles:["w","e"].map(ke),input:function(n,t){return n==null?null:[[+n[0],t[0][1]],[+n[1],t[1][1]]]},output:function(n){return n&&[n[0][0],n[1][0]]}},Gc={name:"y",handles:["n","s"].map(ke),input:function(n,t){return n==null?null:[[t[0][0],+n[0]],[t[1][0],+n[1]]]},output:function(n){return n&&[n[0][1],n[1][1]]}},Kc={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ke),input:function(n){return n==null?null:ia(n)},output:function(n){return n}};function ke(n){return{type:n}}function Bn(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function U(n,t){if((e=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var e,r=n.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+n.slice(e+1)]}function C(n){return n=U(Math.abs(n)),n?n[1]:NaN}function $n(n,t){return function(e,r){for(var i=e.length,o=[],a=0,u=n[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(e.substring(i-=u,i+u)),!((l+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(t)}}function Rn(n){return function(t){return t.replace(/[0-9]/g,function(e){return n[+e]})}}var aa=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function L(n){if(!(t=aa.exec(n)))throw new Error("invalid format: "+n);var t;return new te({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}L.prototype=te.prototype;function te(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}te.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qn(n){n:for(var t=n.length,e=1,r=-1,i;e<t;++e)switch(n[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+n[e])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Se;function Ln(n,t){var e=U(n,t);if(!e)return n+"";var r=e[0],i=e[1],o=i-(Se=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+U(n,Math.max(0,t+o-1))[0]}function Me(n,t){var e=U(n,t);if(!e)return n+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Ae={"%":(n,t)=>(n*100).toFixed(t),b:n=>Math.round(n).toString(2),c:n=>n+"",d:Bn,e:(n,t)=>n.toExponential(t),f:(n,t)=>n.toFixed(t),g:(n,t)=>n.toPrecision(t),o:n=>Math.round(n).toString(8),p:(n,t)=>Me(n*100,t),r:Me,s:Ln,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Ee(n){return n}var Pn=Array.prototype.map,Fn=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Hn(n){var t=n.grouping===void 0||n.thousands===void 0?Ee:$n(Pn.call(n.grouping,Number),n.thousands+""),e=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",o=n.numerals===void 0?Ee:Rn(Pn.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",u=n.minus===void 0?"\u2212":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function s(h){h=L(h);var f=h.fill,p=h.align,g=h.sign,w=h.symbol,_=h.zero,m=h.width,x=h.comma,S=h.precision,Wn=h.trim,E=h.type;E==="n"?(x=!0,E="g"):Ae[E]||(S===void 0&&(S=12),Wn=!0,E="g"),(_||f==="0"&&p==="=")&&(_=!0,f="0",p="=");var Pe=w==="$"?e:w==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",Le=w==="$"?r:/[%p]/.test(E)?a:"",_t=Ae[E],Fe=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function bt(d){var F=Pe,T=Le,Q,kt,Kn;if(E==="c")T=_t(d)+T,d="";else{d=+d;var Gn=d<0||1/d<0;if(d=isNaN(d)?l:_t(Math.abs(d),S),Wn&&(d=qn(d)),Gn&&+d==0&&g!=="+"&&(Gn=!1),F=(Gn?g==="("?g:u:g==="-"||g==="("?"":g)+F,T=(E==="s"?Fn[8+Se/3]:"")+T+(Gn&&g==="("?")":""),Fe){for(Q=-1,kt=d.length;++Q<kt;)if(Kn=d.charCodeAt(Q),48>Kn||Kn>57){T=(Kn===46?i+d.slice(Q+1):d.slice(Q))+T,d=d.slice(0,Q);break}}}x&&!_&&(d=t(d,1/0));var rt=F.length+d.length+T.length,O=rt<m?new Array(m-rt+1).join(f):"";switch(x&&_&&(d=t(O+d,O.length?m-T.length:1/0),O=""),p){case"<":d=F+d+T+O;break;case"=":d=F+O+d+T;break;case"^":d=O.slice(0,rt=O.length>>1)+F+d+T+O.slice(rt);break;default:d=O+F+d+T;break}return o(d)}return bt.toString=function(){return h+""},bt}function c(h,f){var p=s((h=L(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(C(f)/3)))*3,w=Math.pow(10,-g),_=Fn[8+g/3];return function(m){return p(w*m)+_}}return{format:s,formatPrefix:c}}var ee,re,ne;Ne({thousands:",",grouping:[3],currency:["$",""]});function Ne(n){return ee=Hn(n),re=ee.format,ne=ee.formatPrefix,ee}function Ie(n){return Math.max(0,-C(Math.abs(n)))}function Te(n,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(C(t)/3)))*3-C(Math.abs(n)))}function ze(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,C(t)-C(n))+1}function Xn(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n);break}return this}function Ce(n){return function(){return n}}function Oe(n){return+n}var Vn=[0,1];function et(n){return n}function De(n,t){return(t-=n=+n)?function(e){return(e-n)/t}:Ce(isNaN(t)?NaN:.5)}function sa(n,t){var e;return n>t&&(e=n,n=t,t=e),function(r){return Math.max(n,Math.min(t,r))}}function ua(n,t,e){var r=n[0],i=n[1],o=t[0],a=t[1];return i<r?(r=De(i,r),o=e(a,o)):(r=De(r,i),o=e(o,a)),function(u){return o(r(u))}}function fa(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=De(n[a],n[a+1]),o[a]=e(t[a],t[a+1]);return function(u){var l=ae(n,u,1,r)-1;return o[l](i[l](u))}}function Yn(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function la(){var n=Vn,t=Vn,e=G,r,i,o,a=et,u,l,s;function c(){var f=Math.min(n.length,t.length);return a!==et&&(a=sa(n[0],n[f-1])),u=f>2?fa:ua,l=s=null,h}function h(f){return f==null||isNaN(f=+f)?o:(l||(l=u(n.map(r),t,e)))(r(a(f)))}return h.invert=function(f){return a(i((s||(s=u(t,n.map(r),b)))(f)))},h.domain=function(f){return arguments.length?(n=Array.from(f,Oe),c()):n.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),c()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),e=ye,c()},h.clamp=function(f){return arguments.length?(a=f?!0:et,c()):a!==et},h.interpolate=function(f){return arguments.length?(e=f,c()):e},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,p){return r=f,i=p,c()}}function Be(){return la()(et,et)}function $e(n,t,e,r){var i=se(n,t,e),o;switch(r=L(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(t));return r.precision==null&&!isNaN(o=Te(i,a))&&(r.precision=o),ne(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=ze(i,Math.max(Math.abs(n),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ie(i))&&(r.precision=o-(r.type==="%")*2);break}}return re(r)}function ca(n){var t=n.domain;return n.ticks=function(e){var r=t();return At(r[0],r[r.length-1],e??10)},n.tickFormat=function(e,r){var i=t();return $e(i[0],i[i.length-1],e??10,r)},n.nice=function(e){e==null&&(e=10);var r=t(),i=0,o=r.length-1,a=r[i],u=r[o],l,s,c=10;for(u<a&&(s=a,a=u,u=s,s=i,i=o,o=s);c-- >0;){if(s=nt(a,u,e),s===l)return r[i]=a,r[o]=u,t(r);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;l=s}return n},n}function vt(){var n=Be();return n.copy=function(){return Yn(n,vt())},Xn.apply(n,arguments),ca(n)}function P(n,t,e){this.k=n,this.x=t,this.y=e}P.prototype={constructor:P,scale:function(n){return n===1?this:new P(this.k*n,this.x,this.y)},translate:function(n,t){return n===0&t===0?this:new P(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Re=new P(1,0,0);qe.prototype=P.prototype;function qe(n){for(;!n.__zoom;)if(!(n=n.parentNode))return Re;return n.__zoom}function ha(n){let t=new WeakMap;function e(i){let o=t.get(i);o&&(o(),t.delete(i))}function r(){document.querySelectorAll(n.selector).forEach(i=>{e(i);let o=n.initialize(i);o&&t.set(i,o)})}return{start(){document.addEventListener("nav",r),window.addEventListener("load",r),window.addCleanup(()=>{document.removeEventListener("nav",r),window.removeEventListener("load",r)}),r()}}}function pa(){let n=[],t=document.querySelector("article"),e=t?new Blob([t.innerHTML]).size:0,r=new Blob([document.documentElement.outerHTML]).size-e,i=performance.getEntriesByType("resource"),o=window.location.origin,a=0,u=0,l=0,s=0,c=0;return i.forEach(h=>{let f=h.transferSize||h.encodedBodySize||0,p=h.name;p.includes("-extension://")||(p.endsWith("/postscript.js")?a=f:p.includes(".css")?u+=f:p.includes("/static/widgets/")&&p.endsWith(".js")?l+=f:p.includes(".js")&&(p.startsWith("http")&&!p.startsWith(o)?s+=f:c+=f))}),n.push({category:"Article",bytes:e,color:"#4A90E2"},{category:"Other HTML",bytes:r,color:"#7B68EE"},{category:"postscript.js",bytes:a,color:"#FFB347"},{category:"CSS",bytes:u,color:"#E94B3C"},{category:"Widget Scripts",bytes:l,color:"#9B59B6"},{category:"External JS",bytes:s,color:"#FF6B6B"},{category:"Other JS",bytes:c,color:"#B0B0B0"}),n.filter(h=>h.bytes>0)}function ma(n,t){let e=Ot(n).select("svg.asset-chart"),r=Ot(n).select(".asset-legend"),i=n.querySelector(".asset-title");e.selectAll("*").remove(),r.selectAll("*").remove();let o=n.offsetWidth-32,a=60,u={top:10,right:10,bottom:10,left:10},l=o-u.left-u.right,s=a-u.top-u.bottom,c=t.reduce((m,x)=>m+x.bytes,0),h=(c/1024).toFixed(1);i&&(i.textContent=`This Webpage: ${h} kilobytes`);let f=t.map(m=>({...m,percent:m.bytes/c*100,kb:(m.bytes/1024).toFixed(1)})).sort((m,x)=>x.bytes-m.bytes),p=vt().domain([0,100]).range([0,l]),g=e.attr("width",o).attr("height",a).append("g").attr("transform",`translate(${u.left},${u.top})`),w=0;f.forEach(m=>{let x=p(m.percent);g.append("rect").attr("x",w).attr("y",0).attr("width",x).attr("height",s).attr("fill",m.color).attr("stroke","#fff").attr("stroke-width",1),m.percent>8&&g.append("text").attr("x",w+x/2).attr("y",s/2).attr("dy","0.35em").attr("text-anchor","middle").attr("fill","#fff").attr("font-size","12px").attr("font-weight","bold").text(`${m.percent.toFixed(0)}%`),w+=x});let _=r.append("div").attr("class","asset-legend-items").selectAll(".legend-item").data(f).enter().append("div").attr("class","legend-item");_.append("span").attr("class","legend-color").style("background-color",m=>m.color),_.append("span").attr("class","legend-label").text(m=>`${m.category}: ${m.kb} KB (${m.percent.toFixed(1)}%)`)}var da=ha({selector:".widget-page-assets",initialize:n=>{let t=n.querySelector(".asset-status"),e=n.querySelector(".asset-chart-container");t&&(t.style.display="flex"),e&&(e.style.display="none");let r=setTimeout(()=>{let i=pa();ma(n,i),t&&(t.style.display="none"),e&&(e.style.display="block")},1e4);return()=>{clearTimeout(r)}}});da.start();
