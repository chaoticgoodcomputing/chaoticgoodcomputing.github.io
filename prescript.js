(function(){function n(){let e=window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";return localStorage.getItem("theme")??e}function c(e){let d=new CustomEvent("themechange",{detail:{theme:e}});document.dispatchEvent(d)}function o(e){document.documentElement.setAttribute("saved-theme",e),localStorage.setItem("theme",e),c(e)}function a(){let e=document.documentElement.getAttribute("saved-theme")==="dark"?"light":"dark";o(e)}function t(e){let d=e.matches?"dark":"light";o(d)}var m=n();document.documentElement.setAttribute("saved-theme",m);function r(){for(let d of document.getElementsByClassName("darkmode"))d.addEventListener("click",a),window.addCleanup(()=>d.removeEventListener("click",a));let e=window.matchMedia("(prefers-color-scheme: dark)");e.addEventListener("change",t),window.addCleanup(()=>e.removeEventListener("change",t))}document.addEventListener("nav",r)})(),(function(){var n=!1;function c(t){let m=new CustomEvent("readermodechange",{detail:{mode:t}});document.dispatchEvent(m)}function o(){n=!n;let t=n?"on":"off";document.documentElement.setAttribute("reader-mode",t),c(t)}function a(){for(let t of document.getElementsByClassName("readermode"))t.addEventListener("click",o),window.addCleanup(()=>t.removeEventListener("click",o));document.documentElement.setAttribute("reader-mode",n?"on":"off")}document.addEventListener("nav",a)})();
