(function(){var ve='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 010 1.5h-1.5a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-1.5a.75.75 0 011.5 0v1.5A1.75 1.75 0 019.25 16h-7.5A1.75 1.75 0 010 14.25v-7.5z"></path><path fill-rule="evenodd" d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0114.25 11h-7.5A1.75 1.75 0 015 9.25v-7.5zm1.75-.25a.25.25 0 00-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-7.5a.25.25 0 00-.25-.25h-7.5z"></path></svg>',kt='<svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true"><path fill-rule="evenodd" fill="rgb(63, 185, 80)" d="M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z"></path></svg>';function Rt(K){return(K.dataset.clipboard?JSON.parse(K.dataset.clipboard):K.innerText).replace(/\n\n/g,`
`)}function rt(K){let we=document.createElement("button");return we.className="clipboard-button",we.type="button",we.innerHTML=ve,we.ariaLabel="Copy source",we}function G(K,we){navigator.clipboard.writeText(we).then(()=>{K.blur(),K.innerHTML=kt,setTimeout(()=>{K.innerHTML=ve,K.style.borderColor=""},2e3)},Pe=>console.error(Pe))}function lt(){let K=document.getElementsByTagName("pre");for(let we=0;we<K.length;we++){let Pe=K[we].getElementsByTagName("code")[0];if(Pe){let Ne=Rt(Pe),dt=rt(Ne),pt=()=>G(dt,Ne);dt.addEventListener("click",pt),window.addCleanup(()=>dt.removeEventListener("click",pt)),K[we].prepend(dt)}}}document.addEventListener("nav",lt)})(),(function(){function ve(){let kt=document.getElementById("mobile-sidebar-toggle"),Rt=document.getElementById("mobile-sidebar-backdrop"),rt=document.getElementById("mobile-sidebar-container");if(!kt||!Rt||!rt)return;function G(){rt&&(rt.classList.contains("open")?K():lt())}function lt(){!rt||!Rt||!kt||(rt.classList.add("open"),Rt.classList.add("visible"),kt.setAttribute("aria-expanded","true"),document.body.style.overflow="hidden")}function K(){!rt||!Rt||!kt||(rt.classList.remove("open"),Rt.classList.remove("visible"),kt.setAttribute("aria-expanded","false"),document.body.style.overflow="")}kt.addEventListener("click",G),Rt.addEventListener("click",K),window.addEventListener("beforeunload",K),document.addEventListener("keydown",we=>{we.key==="Escape"&&rt.classList.contains("open")&&K()}),window.addCleanup(()=>{kt.removeEventListener("click",G),Rt.removeEventListener("click",K),K()})}document.addEventListener("nav",()=>{ve();let kt=document.getElementById("mobile-sidebar-container");kt&&kt.classList.contains("open")&&(kt.classList.remove("open"),document.getElementById("mobile-sidebar-backdrop")?.classList.remove("visible"),document.body.style.overflow="")})})(),(function(){var ve=class{cache=new Map;parseIconId(rt){let G=rt.split(":");if(G.length!==2)return console.warn(`Invalid icon identifier format: ${rt}. Expected "provider:icon-name"`),null;let[lt,K]=G;return lt!=="mdi"&&lt!=="custom"?(console.warn(`Unknown icon provider: ${lt}. Supported: mdi, custom`),null):{provider:lt,iconName:K}}getIconUrl(rt,G){switch(rt){case"mdi":return`https://cdn.jsdelivr.net/npm/@mdi/svg@7.4.47/svg/${G}.svg`;case"custom":return`/static/icons/${G}.svg`;default:throw new Error(`No URL builder for provider: ${rt}`)}}async fetchIcon(rt){let G=this.parseIconId(rt);if(!G)return null;let lt=this.getIconUrl(G.provider,G.iconName);try{let K=await fetch(lt);return K.ok?await K.text():(console.warn(`Failed to fetch icon ${rt} from ${lt}: ${K.status}`),null)}catch(K){return console.warn(`Error fetching icon ${rt}:`,K),null}}async getIcon(rt){if(this.cache.has(rt))return this.cache.get(rt);let G=await this.fetchIcon(rt);if(!G)return null;G=G.replace(/\sfill="[^"]*"/g,""),G=G.replace(/<path\s/g,'<path fill="white" '),G=G.replace(/<circle\s/g,'<circle fill="white" '),G=G.replace(/<rect\s/g,'<rect fill="white" '),G=G.replace(/<ellipse\s/g,'<ellipse fill="white" '),G=G.replace(/<polygon\s/g,'<polygon fill="white" '),G=G.replace(/<polyline\s/g,'<polyline fill="white" ');let lt=`data:image/svg+xml;base64,${btoa(G)}`,K={svgContent:G,dataUri:lt};return this.cache.set(rt,K),K}async preloadIcons(rt){await Promise.all(rt.map(G=>this.getIcon(G)))}clearCache(){this.cache.clear()}},kt=new ve;async function Rt(rt){let G=(rt||document).querySelectorAll("ul.tags[data-showtags='true']");if(G.length!==0)try{console.log("TagList: Fetching TagIndex...");let lt=await fetchTagData;console.log("TagList: TagIndex loaded");for(let K of G){let we=K.dataset.showcount==="true",Pe=K.dataset.showsubtags==="true",Ne=K.dataset.currentslug||"",dt=[];if(Pe&&Ne){let wt=Ne.replace(/^tags\//,"").replace(/\/index$/,"").replace(/\/+$/,""),at=lt.tags[wt];at&&(dt=at.children)}else{let wt=K.querySelectorAll("li.tag-item");dt=Array.from(wt).map(at=>at.dataset.tag).filter(at=>!!at)}if(Pe){K.innerHTML="";for(let wt of dt){let at=document.createElement("li");at.className="tag-item",at.dataset.tag=wt;let jt=document.createElement("a");jt.className="internal tag-link",jt.href="#";let ct=document.createElement("span");ct.className="tag-icon-badge";let Kt=document.createElement("span");Kt.className="tag-name";let Gt=document.createElement("span");Gt.className="tag-count",jt.append(ct,Kt,Gt),at.appendChild(jt),K.appendChild(at)}}let pt=new Set,_t=K.querySelectorAll("li.tag-item");for(let wt of _t){let at=wt.dataset.tag;if(!at)continue;let jt=lt.tags[at];jt?.icon&&pt.add(jt.icon)}pt.size>0&&await kt.preloadIcons(Array.from(pt));for(let wt of _t){let at=wt.dataset.tag;if(!at)continue;let jt=lt.tags[at];if(!jt)continue;let ct=wt.querySelector("a.tag-link");if(!ct)continue;ct.href=`/tags/${at}/`;let Kt=ct.querySelector(".tag-icon-badge"),Gt=jt.color||"#888888";if(Kt.style.borderColor=Gt,Kt.setAttribute("title",at),jt.icon){let Wt=await kt.getIcon(jt.icon);if(Wt){Kt.innerHTML=Wt.svgContent;let Ce=Kt.querySelector("svg");Ce&&(Ce.setAttribute("width","18"),Ce.setAttribute("height","18"),Ce.style.fill=Gt)}}let _e=ct.querySelector(".tag-name"),be=at.split("/").pop()||at;if(_e.textContent=be,we){let Wt=ct.querySelector(".tag-count");Wt.textContent=`(${jt.totalPostCount})`}else ct.querySelector(".tag-count")?.remove()}}console.log("TagList: Setup complete")}catch(lt){console.error("Error initializing TagList:",lt),lt instanceof Error&&(console.error("Error message:",lt.message),console.error("Error stack:",lt.stack))}}window.setupTagList=Rt,document.addEventListener("nav",async rt=>{await Rt()}),Rt()})(),(function(){var ve=Object.create,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyNames,G=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,K=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),we=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of rt(e))!lt.call(t,l)&&l!==r&&kt(t,l,{get:()=>e[l],enumerable:!(a=Rt(e,l))||a.enumerable});return t},Pe=(t,e,r)=>(r=t!=null?ve(G(t)):{},we(e||!t||!t.__esModule?kt(r,"default",{value:t,enumerable:!0}):r,t)),Ne=K((t,e)=>{"use strict";e.exports=a;function r(c){return c instanceof Buffer?Buffer.from(c):new c.constructor(c.buffer.slice(),c.byteOffset,c.length)}function a(c){if(c=c||{},c.circles)return l(c);let h=new Map;if(h.set(Date,O=>new Date(O)),h.set(Map,(O,A)=>new Map(w(Array.from(O),A))),h.set(Set,(O,A)=>new Set(w(Array.from(O),A))),c.constructorHandlers)for(let O of c.constructorHandlers)h.set(O[0],O[1]);let d=null;return c.proto?x:g;function w(O,A){let _=Object.keys(O),P=new Array(_.length);for(let $=0;$<_.length;$++){let S=_[$],L=O[S];typeof L!="object"||L===null?P[S]=L:L.constructor!==Object&&(d=h.get(L.constructor))?P[S]=d(L,A):ArrayBuffer.isView(L)?P[S]=r(L):P[S]=A(L)}return P}function g(O){if(typeof O!="object"||O===null)return O;if(Array.isArray(O))return w(O,g);if(O.constructor!==Object&&(d=h.get(O.constructor)))return d(O,g);let A={};for(let _ in O){if(Object.hasOwnProperty.call(O,_)===!1)continue;let P=O[_];typeof P!="object"||P===null?A[_]=P:P.constructor!==Object&&(d=h.get(P.constructor))?A[_]=d(P,g):ArrayBuffer.isView(P)?A[_]=r(P):A[_]=g(P)}return A}function x(O){if(typeof O!="object"||O===null)return O;if(Array.isArray(O))return w(O,x);if(O.constructor!==Object&&(d=h.get(O.constructor)))return d(O,x);let A={};for(let _ in O){let P=O[_];typeof P!="object"||P===null?A[_]=P:P.constructor!==Object&&(d=h.get(P.constructor))?A[_]=d(P,x):ArrayBuffer.isView(P)?A[_]=r(P):A[_]=x(P)}return A}}function l(c){let h=[],d=[],w=new Map;if(w.set(Date,_=>new Date(_)),w.set(Map,(_,P)=>new Map(x(Array.from(_),P))),w.set(Set,(_,P)=>new Set(x(Array.from(_),P))),c.constructorHandlers)for(let _ of c.constructorHandlers)w.set(_[0],_[1]);let g=null;return c.proto?A:O;function x(_,P){let $=Object.keys(_),S=new Array($.length);for(let L=0;L<$.length;L++){let Z=$[L],vt=_[Z];if(typeof vt!="object"||vt===null)S[Z]=vt;else if(vt.constructor!==Object&&(g=w.get(vt.constructor)))S[Z]=g(vt,P);else if(ArrayBuffer.isView(vt))S[Z]=r(vt);else{let F=h.indexOf(vt);F!==-1?S[Z]=d[F]:S[Z]=P(vt)}}return S}function O(_){if(typeof _!="object"||_===null)return _;if(Array.isArray(_))return x(_,O);if(_.constructor!==Object&&(g=w.get(_.constructor)))return g(_,O);let P={};h.push(_),d.push(P);for(let $ in _){if(Object.hasOwnProperty.call(_,$)===!1)continue;let S=_[$];if(typeof S!="object"||S===null)P[$]=S;else if(S.constructor!==Object&&(g=w.get(S.constructor)))P[$]=g(S,O);else if(ArrayBuffer.isView(S))P[$]=r(S);else{let L=h.indexOf(S);L!==-1?P[$]=d[L]:P[$]=O(S)}}return h.pop(),d.pop(),P}function A(_){if(typeof _!="object"||_===null)return _;if(Array.isArray(_))return x(_,A);if(_.constructor!==Object&&(g=w.get(_.constructor)))return g(_,A);let P={};h.push(_),d.push(P);for(let $ in _){let S=_[$];if(typeof S!="object"||S===null)P[$]=S;else if(S.constructor!==Object&&(g=w.get(S.constructor)))P[$]=g(S,A);else if(ArrayBuffer.isView(S))P[$]=r(S);else{let L=h.indexOf(S);L!==-1?P[$]=d[L]:P[$]=A(S)}}return h.pop(),d.pop(),P}}});function dt(t,e){if(!t)return;function r(l){l.target===this&&(l.preventDefault(),l.stopPropagation(),e())}function a(l){l.key.startsWith("Esc")&&(l.preventDefault(),e())}t?.addEventListener("click",r),window.addCleanup(()=>t?.removeEventListener("click",r)),document.addEventListener("keydown",a),window.addCleanup(()=>document.removeEventListener("keydown",a))}function pt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}var _t=Object.hasOwnProperty,wt=Pe(Ne(),1),at=(0,wt.default)();function jt(t){return t.document.body.dataset.slug}function ct(t){let e=_e(Gt(t,"index"),!0);return e.length===0?"/":e}function Kt(t,e){return t===e||t.endsWith("/"+e)}function Gt(t,e){return Kt(t,e)&&(t=t.slice(0,-e.length)),t}function _e(t,e){return t.startsWith("/")&&(t=t.substring(1)),!e&&t.endsWith("/")&&(t=t.slice(0,-1)),t}var be="graph-visited";function Wt(){return new Set(JSON.parse(localStorage.getItem(be)??"[]"))}function Ce(t){let e=Wt();e.add(t),localStorage.setItem(be,JSON.stringify([...e]))}var Me=class{cache=new Map;parseIconId(t){let e=t.split(":");if(e.length!==2)return console.warn(`Invalid icon identifier format: ${t}. Expected "provider:icon-name"`),null;let[r,a]=e;return r!=="mdi"&&r!=="custom"?(console.warn(`Unknown icon provider: ${r}. Supported: mdi, custom`),null):{provider:r,iconName:a}}getIconUrl(t,e){switch(t){case"mdi":return`https://cdn.jsdelivr.net/npm/@mdi/svg@7.4.47/svg/${e}.svg`;case"custom":return`/static/icons/${e}.svg`;default:throw new Error(`No URL builder for provider: ${t}`)}}async fetchIcon(t){let e=this.parseIconId(t);if(!e)return null;let r=this.getIconUrl(e.provider,e.iconName);try{let a=await fetch(r);return a.ok?await a.text():(console.warn(`Failed to fetch icon ${t} from ${r}: ${a.status}`),null)}catch(a){return console.warn(`Error fetching icon ${t}:`,a),null}}async getIcon(t){if(this.cache.has(t))return this.cache.get(t);let e=await this.fetchIcon(t);if(!e)return null;e=e.replace(/\sfill="[^"]*"/g,""),e=e.replace(/<path\s/g,'<path fill="white" '),e=e.replace(/<circle\s/g,'<circle fill="white" '),e=e.replace(/<rect\s/g,'<rect fill="white" '),e=e.replace(/<ellipse\s/g,'<ellipse fill="white" '),e=e.replace(/<polygon\s/g,'<polygon fill="white" '),e=e.replace(/<polyline\s/g,'<polyline fill="white" ');let r=`data:image/svg+xml;base64,${btoa(e)}`,a={svgContent:e,dataUri:r};return this.cache.set(t,a),a}async preloadIcons(t){await Promise.all(t.map(e=>this.getIcon(e)))}clearCache(){this.cache.clear()}},Ke=new Me;function Le(t){return JSON.parse(t.dataset.cfg)}async function fe(){let t=await fetchData;return new Map(Object.entries(t).map(([e,r])=>[ct(e),r]))}function Ft(t){return t.trim().replace(/\/+$/,"")}var Qt=null;async function je(){if(Qt)return Qt;let t=await fetchTagData;return Qt=t,t}function Oe(t){let e=`tags/${t}`;return e.endsWith("/")?e:e+"/"}function He(t){return t.replace(/^tags\//,"").replace(/\/$/,"")}function an(t,e){return e.tags[t]?.color??"#888888"}function cn(t,e){return e.tags[t]?.icon??null}function tn(t,e){let r=new Map;for(let a of t){let l=He(a),c=an(l,e);r.set(a,c)}return r}function We(t,e){let r=new Map;for(let a of t){let l=He(a),c=e.tags[l]?.totalPostCount??0;r.set(a,c)}return r}function Mn(t){let e=new Set;for(let r in t.tags){let a=t.tags[r].icon;a&&e.add(a)}return Array.from(e)}function sn(t,e){if(!t||t.length===0)return null;let r=t.map(Ft);for(let a of e.iconConfigOrder){let l=Ft(a);if(r.includes(l)){let c=cn(a,e);if(c)return c}}return null}function Sn(t,e,r,a){let l=e*.5,c=e*2,h=(Math.max(l,Math.min(c,t))-l)/(c-l);return a-h*(a-r)}function hn(t,e,r,a){let l=[],c=new Set,h=new Set(t.keys()),d=new Set;for(let[g,x]of t.entries()){let O=x.links??[];for(let A of O)h.has(A)&&l.push({source:g,target:A,type:"post-post"})}if(!r)return{links:l,tags:[]};let w=new Set;for(let[g,x]of t.entries()){let O=(x.tags??[]).filter(A=>!a.includes(A));for(let A of O){let _=e.tags[A];if(!_)continue;let P=[A,..._.ancestors];for(let S of P){let L=Oe(S);if(c.add(L),!w.has(S)){let Z=e.tags[S];if(Z&&Z.parent){let vt=Oe(Z.parent),F=Oe(S),Ot=`${vt}\u2192${F}`;d.has(Ot)||(l.push({source:vt,target:F,type:"tag-tag"}),d.add(Ot))}w.add(S)}}let $=Oe(A);l.push({source:g,target:$,type:"tag-post"})}}return{links:l,tags:Array.from(c)}}function en(t,e,r,a,l,c){let h=new Set,d=[t,"__SENTINEL"],w=l;if(w>=0)for(;w>=0&&d.length>0;){let g=d.shift();if(g==="__SENTINEL")w--,d.push("__SENTINEL");else{h.add(g);let x=e.filter(A=>A.source===g),O=e.filter(A=>A.target===g);d.push(...x.map(A=>A.target),...O.map(A=>A.source))}}else r.forEach(g=>h.add(g)),c&&a.forEach(g=>h.add(g));return h}function xn(t,e){return[...t].map(r=>{if(r.startsWith("tags/")){let a=(r.endsWith("/")?r.slice(0,-1):r).substring(5).split("/"),l=a[a.length-1];return{id:r,text:"#"+l,tags:e.get(r)?.tags??[]}}return{id:r,text:e.get(r)?.title??r,tags:e.get(r)?.tags??[]}})}function zn(t,e,r){return{nodes:t,links:e.filter(a=>r.has(a.source)&&r.has(a.target)).map(a=>({source:t.find(l=>l.id===a.source),target:t.find(l=>l.id===a.target),type:a.type}))}}var Bn={value:()=>{}};function Dn(){for(var t=0,e=arguments.length,r={},a;t<e;++t){if(!(a=arguments[t]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new An(r)}function An(t){this._=t}function On(t,e){return t.trim().split(/^|\s+/).map(function(r){var a="",l=r.indexOf(".");if(l>=0&&(a=r.slice(l+1),r=r.slice(0,l)),r&&!e.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}An.prototype=Dn.prototype={constructor:An,on:function(t,e){var r=this._,a=On(t+"",r),l,c=-1,h=a.length;if(arguments.length<2){for(;++c<h;)if((l=(t=a[c]).type)&&(l=N(r[l],t.name)))return l;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++c<h;)if(l=(t=a[c]).type)r[l]=Y(r[l],t.name,e);else if(e==null)for(l in r)r[l]=Y(r[l],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new An(t)},call:function(t,e){if((l=arguments.length-2)>0)for(var r=new Array(l),a=0,l,c;a<l;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(c=this._[t],a=0,l=c.length;a<l;++a)c[a].value.apply(e,r)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var a=this._[t],l=0,c=a.length;l<c;++l)a[l].value.apply(e,r)}};function N(t,e){for(var r=0,a=t.length,l;r<a;++r)if((l=t[r]).name===e)return l.value}function Y(t,e,r){for(var a=0,l=t.length;a<l;++a)if(t[a].name===e){t[a]=Bn,t=t.slice(0,a).concat(t.slice(a+1));break}return r!=null&&t.push({name:e,value:r}),t}var nt=Dn,xt="http://www.w3.org/1999/xhtml",Lt={svg:"http://www.w3.org/2000/svg",xhtml:xt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ct(t){var e=t+="",r=e.indexOf(":");return r>=0&&(e=t.slice(0,r))!=="xmlns"&&(t=t.slice(r+1)),Lt.hasOwnProperty(e)?{space:Lt[e],local:t}:t}function qt(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===xt&&e.documentElement.namespaceURI===xt?e.createElement(t):e.createElementNS(r,t)}}function Mt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function St(t){var e=Ct(t);return(e.local?Mt:qt)(e)}function Jt(){}function de(t){return t==null?Jt:function(){return this.querySelector(t)}}function E(t){typeof t!="function"&&(t=de(t));for(var e=this._groups,r=e.length,a=new Array(r),l=0;l<r;++l)for(var c=e[l],h=c.length,d=a[l]=new Array(h),w,g,x=0;x<h;++x)(w=c[x])&&(g=t.call(w,w.__data__,x,c))&&("__data__"in w&&(g.__data__=w.__data__),d[x]=g);return new Ue(a,this._parents)}function D(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function q(){return[]}function X(t){return t==null?q:function(){return this.querySelectorAll(t)}}function gt(t){return function(){return D(t.apply(this,arguments))}}function it(t){typeof t=="function"?t=gt(t):t=X(t);for(var e=this._groups,r=e.length,a=[],l=[],c=0;c<r;++c)for(var h=e[c],d=h.length,w,g=0;g<d;++g)(w=h[g])&&(a.push(t.call(w,w.__data__,g,h)),l.push(w));return new Ue(a,l)}function mt(t){return function(){return this.matches(t)}}function ie(t){return function(e){return e.matches(t)}}var se=Array.prototype.find;function Ie(t){return function(){return se.call(this.children,t)}}function Ve(){return this.firstElementChild}function Ut(t){return this.select(t==null?Ve:Ie(typeof t=="function"?t:ie(t)))}var ye=Array.prototype.filter;function bt(){return Array.from(this.children)}function zt(t){return function(){return ye.call(this.children,t)}}function xe(t){return this.selectAll(t==null?bt:zt(typeof t=="function"?t:ie(t)))}function oe(t){typeof t!="function"&&(t=mt(t));for(var e=this._groups,r=e.length,a=new Array(r),l=0;l<r;++l)for(var c=e[l],h=c.length,d=a[l]=[],w,g=0;g<h;++g)(w=c[g])&&t.call(w,w.__data__,g,c)&&d.push(w);return new Ue(a,this._parents)}function pe(t){return new Array(t.length)}function fn(){return new Ue(this._enter||this._groups.map(pe),this._parents)}function De(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}De.prototype={constructor:De,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function jn(t){return function(){return t}}function nn(t,e,r,a,l,c){for(var h=0,d,w=e.length,g=c.length;h<g;++h)(d=e[h])?(d.__data__=c[h],a[h]=d):r[h]=new De(t,c[h]);for(;h<w;++h)(d=e[h])&&(l[h]=d)}function At(t,e,r,a,l,c,h){var d,w,g=new Map,x=e.length,O=c.length,A=new Array(x),_;for(d=0;d<x;++d)(w=e[d])&&(A[d]=_=h.call(w,w.__data__,d,e)+"",g.has(_)?l[d]=w:g.set(_,w));for(d=0;d<O;++d)_=h.call(t,c[d],d,c)+"",(w=g.get(_))?(a[d]=w,w.__data__=c[d],g.delete(_)):r[d]=new De(t,c[d]);for(d=0;d<x;++d)(w=e[d])&&g.get(A[d])===w&&(l[d]=w)}function mr(t){return t.__data__}function Lr(t,e){if(!arguments.length)return Array.from(this,mr);var r=e?At:nn,a=this._parents,l=this._groups;typeof t!="function"&&(t=jn(t));for(var c=l.length,h=new Array(c),d=new Array(c),w=new Array(c),g=0;g<c;++g){var x=a[g],O=l[g],A=O.length,_=Rn(t.call(x,x&&x.__data__,g,a)),P=_.length,$=d[g]=new Array(P),S=h[g]=new Array(P),L=w[g]=new Array(A);r(x,O,$,S,L,_,e);for(var Z=0,vt=0,F,Ot;Z<P;++Z)if(F=$[Z]){for(Z>=vt&&(vt=Z+1);!(Ot=S[vt])&&++vt<P;);F._next=Ot||null}}return h=new Ue(h,a),h._enter=d,h._exit=w,h}function Rn(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Gn(){return new Ue(this._exit||this._groups.map(pe),this._parents)}function ar(t,e,r){var a=this.enter(),l=this,c=this.exit();return typeof t=="function"?(a=t(a),a&&(a=a.selection())):a=a.append(t+""),e!=null&&(l=e(l),l&&(l=l.selection())),r==null?c.remove():r(c),a&&l?a.merge(l).order():l}function yr(t){for(var e=t.selection?t.selection():t,r=this._groups,a=e._groups,l=r.length,c=a.length,h=Math.min(l,c),d=new Array(l),w=0;w<h;++w)for(var g=r[w],x=a[w],O=g.length,A=d[w]=new Array(O),_,P=0;P<O;++P)(_=g[P]||x[P])&&(A[P]=_);for(;w<l;++w)d[w]=r[w];return new Ue(d,this._parents)}function Qn(){for(var t=this._groups,e=-1,r=t.length;++e<r;)for(var a=t[e],l=a.length-1,c=a[l],h;--l>=0;)(h=a[l])&&(c&&h.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(h,c),c=h);return this}function sr(t){t||(t=lr);function e(O,A){return O&&A?t(O.__data__,A.__data__):!O-!A}for(var r=this._groups,a=r.length,l=new Array(a),c=0;c<a;++c){for(var h=r[c],d=h.length,w=l[c]=new Array(d),g,x=0;x<d;++x)(g=h[x])&&(w[x]=g);w.sort(e)}return new Ue(l,this._parents).order()}function lr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function vr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function wr(){return Array.from(this)}function Zn(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],l=0,c=a.length;l<c;++l){var h=a[l];if(h)return h}return null}function Tn(){let t=0;for(let e of this)++t;return t}function Fn(){return!this.node()}function br(t){for(var e=this._groups,r=0,a=e.length;r<a;++r)for(var l=e[r],c=0,h=l.length,d;c<h;++c)(d=l[c])&&t.call(d,d.__data__,c,l);return this}function Cr(t){return function(){this.removeAttribute(t)}}function ur(t){return function(){this.removeAttributeNS(t.space,t.local)}}function En(t,e){return function(){this.setAttribute(t,e)}}function cr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function hr(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttribute(t):this.setAttribute(t,r)}}function Hn(t,e){return function(){var r=e.apply(this,arguments);r==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function Ln(t,e){var r=Ct(t);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((e==null?r.local?ur:Cr:typeof e=="function"?r.local?Hn:hr:r.local?cr:En)(r,e))}function xr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Mr(t){return function(){this.style.removeProperty(t)}}function jr(t,e,r){return function(){this.style.setProperty(t,e,r)}}function Tr(t,e,r){return function(){var a=e.apply(this,arguments);a==null?this.style.removeProperty(t):this.style.setProperty(t,a,r)}}function Pr(t,e,r){return arguments.length>1?this.each((e==null?Mr:typeof e=="function"?Tr:jr)(t,e,r??"")):Pn(this.node(),t)}function Pn(t,e){return t.style.getPropertyValue(e)||xr(t).getComputedStyle(t,null).getPropertyValue(e)}function Nr(t){return function(){delete this[t]}}function Ir(t,e){return function(){this[t]=e}}function $r(t,e){return function(){var r=e.apply(this,arguments);r==null?delete this[t]:this[t]=r}}function Wr(t,e){return arguments.length>1?this.each((e==null?Nr:typeof e=="function"?$r:Ir)(t,e)):this.node()[t]}function Xr(t){return t.trim().split(/^|\s+/)}function Vn(t){return t.classList||new ci(t)}function ci(t){this._node=t,this._names=Xr(t.getAttribute("class")||"")}ci.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _r(t,e){for(var r=Vn(t),a=-1,l=e.length;++a<l;)r.add(e[a])}function Yr(t,e){for(var r=Vn(t),a=-1,l=e.length;++a<l;)r.remove(e[a])}function Kr(t){return function(){_r(this,t)}}function qr(t){return function(){Yr(this,t)}}function Jr(t,e){return function(){(e.apply(this,arguments)?_r:Yr)(this,t)}}function zr(t,e){var r=Xr(t+"");if(arguments.length<2){for(var a=Vn(this.node()),l=-1,c=r.length;++l<c;)if(!a.contains(r[l]))return!1;return!0}return this.each((typeof e=="function"?Jr:e?Kr:qr)(r,e))}function Br(){this.textContent=""}function Dr(t){return function(){this.textContent=t}}function Gr(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function m(t){return arguments.length?this.each(t==null?Br:(typeof t=="function"?Gr:Dr)(t)):this.node().textContent}function b(){this.innerHTML=""}function C(t){return function(){this.innerHTML=t}}function I(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function H(t){return arguments.length?this.each(t==null?b:(typeof t=="function"?I:C)(t)):this.node().innerHTML}function U(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){return this.each(U)}function tt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ft(){return this.each(tt)}function yt(t){var e=typeof t=="function"?t:St(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function $t(){return null}function ot(t,e){var r=typeof t=="function"?t:St(t),a=e==null?$t:typeof e=="function"?e:de(e);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function Pt(){var t=this.parentNode;t&&t.removeChild(this)}function Q(){return this.each(Pt)}function ht(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Et(t){return this.select(t?Bt:ht)}function ae(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ae(t){return function(e){t.call(this,e,this.__data__)}}function Ee(t){return t.trim().split(/^|\s+/).map(function(e){var r="",a=e.indexOf(".");return a>=0&&(r=e.slice(a+1),e=e.slice(0,a)),{type:e,name:r}})}function Re(t){return function(){var e=this.__on;if(e){for(var r=0,a=-1,l=e.length,c;r<l;++r)c=e[r],(!t.type||c.type===t.type)&&c.name===t.name?this.removeEventListener(c.type,c.listener,c.options):e[++a]=c;++a?e.length=a:delete this.__on}}}function rn(t,e,r){return function(){var a=this.__on,l,c=Ae(e);if(a){for(var h=0,d=a.length;h<d;++h)if((l=a[h]).type===t.type&&l.name===t.name){this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=c,l.options=r),l.value=e;return}}this.addEventListener(t.type,c,r),l={type:t.type,name:t.name,value:e,listener:c,options:r},a?a.push(l):this.__on=[l]}}function Un(t,e,r){var a=Ee(t+""),l,c=a.length,h;if(arguments.length<2){var d=this.node().__on;if(d){for(var w=0,g=d.length,x;w<g;++w)for(l=0,x=d[w];l<c;++l)if((h=a[l]).type===x.type&&h.name===x.name)return x.value}return}for(d=e?rn:Re,l=0;l<c;++l)this.each(d(a[l],e,r));return this}function tr(t,e,r){var a=xr(t),l=a.CustomEvent;typeof l=="function"?l=new l(e,r):(l=a.document.createEvent("Event"),r?(l.initEvent(e,r.bubbles,r.cancelable),l.detail=r.detail):l.initEvent(e,!1,!1)),t.dispatchEvent(l)}function er(t,e){return function(){return tr(this,t,e)}}function Wn(t,e){return function(){return tr(this,t,e.apply(this,arguments))}}function Xe(t,e){return this.each((typeof e=="function"?Wn:er)(t,e))}function*Xn(){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var a=t[e],l=0,c=a.length,h;l<c;++l)(h=a[l])&&(yield h)}var Yn=[null];function Ue(t,e){this._groups=t,this._parents=e}function dn(){return new Ue([[document.documentElement]],Yn)}function Cn(){return this}Ue.prototype=dn.prototype={constructor:Ue,select:E,selectAll:it,selectChild:Ut,selectChildren:xe,filter:oe,data:Lr,enter:fn,exit:Gn,join:ar,merge:yr,selection:Cn,order:Qn,sort:sr,call:vr,nodes:wr,node:Zn,size:Tn,empty:Fn,each:br,attr:Ln,style:Pr,property:Wr,classed:zr,text:m,html:H,raise:J,lower:ft,append:yt,insert:ot,remove:Q,clone:Et,datum:ae,on:Un,dispatch:Xe,[Symbol.iterator]:Xn};var on=dn;function ze(t){return typeof t=="string"?new Ue([[document.querySelector(t)]],[document.documentElement]):new Ue([[t]],Yn)}function _n(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ye(t,e){if(t=_n(t),e===void 0&&(e=t.currentTarget),e){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=t.clientX,a.y=t.clientY,a=a.matrixTransform(e.getScreenCTM().inverse()),[a.x,a.y]}if(e.getBoundingClientRect){var l=e.getBoundingClientRect();return[t.clientX-l.left-e.clientLeft,t.clientY-l.top-e.clientTop]}}return[t.pageX,t.pageY]}var Qr={passive:!1},Ar={capture:!0,passive:!1};function Zr(t){t.stopImmediatePropagation()}function fr(t){t.preventDefault(),t.stopImmediatePropagation()}function hi(t){var e=t.document.documentElement,r=ze(t).on("dragstart.drag",fr,Ar);"onselectstart"in e?r.on("selectstart.drag",fr,Ar):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function fi(t,e){var r=t.document.documentElement,a=ze(t).on("dragstart.drag",null);e&&(a.on("click.drag",fr,Ar),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Rr=t=>()=>t;function Fr(t,{sourceEvent:e,subject:r,target:a,identifier:l,active:c,x:h,y:d,dx:w,dy:g,dispatch:x}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:w,enumerable:!0,configurable:!0},dy:{value:g,enumerable:!0,configurable:!0},_:{value:x}})}Fr.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function Oi(t){return!t.ctrlKey&&!t.button}function Li(){return this.parentNode}function n(t,e){return e??{x:t.x,y:t.y}}function o(){return navigator.maxTouchPoints||"ontouchstart"in this}function i(){var t=Oi,e=Li,r=n,a=o,l={},c=nt("start","drag","end"),h=0,d,w,g,x,O=0;function A(F){F.on("mousedown.drag",_).filter(a).on("touchstart.drag",S).on("touchmove.drag",L,Qr).on("touchend.drag touchcancel.drag",Z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(F,Ot){if(!(x||!t.call(this,F,Ot))){var Vt=vt(this,e.call(this,F,Ot),F,Ot,"mouse");Vt&&(ze(F.view).on("mousemove.drag",P,Ar).on("mouseup.drag",$,Ar),hi(F.view),Zr(F),g=!1,d=F.clientX,w=F.clientY,Vt("start",F))}}function P(F){if(fr(F),!g){var Ot=F.clientX-d,Vt=F.clientY-w;g=Ot*Ot+Vt*Vt>O}l.mouse("drag",F)}function $(F){ze(F.view).on("mousemove.drag mouseup.drag",null),fi(F.view,g),fr(F),l.mouse("end",F)}function S(F,Ot){if(t.call(this,F,Ot)){var Vt=F.changedTouches,Xt=e.call(this,F,Ot),re=Vt.length,Se,ue;for(Se=0;Se<re;++Se)(ue=vt(this,Xt,F,Ot,Vt[Se].identifier,Vt[Se]))&&(Zr(F),ue("start",F,Vt[Se]))}}function L(F){var Ot=F.changedTouches,Vt=Ot.length,Xt,re;for(Xt=0;Xt<Vt;++Xt)(re=l[Ot[Xt].identifier])&&(fr(F),re("drag",F,Ot[Xt]))}function Z(F){var Ot=F.changedTouches,Vt=Ot.length,Xt,re;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),Xt=0;Xt<Vt;++Xt)(re=l[Ot[Xt].identifier])&&(Zr(F),re("end",F,Ot[Xt]))}function vt(F,Ot,Vt,Xt,re,Se){var ue=c.copy(),qe=Ye(Se||Vt,Ot),Ge,Qe,V;if((V=r.call(F,new Fr("beforestart",{sourceEvent:Vt,target:A,identifier:re,active:h,x:qe[0],y:qe[1],dx:0,dy:0,dispatch:ue}),Xt))!=null)return Ge=V.x-qe[0]||0,Qe=V.y-qe[1]||0,function It(et,Dt,te){var ce=qe,he;switch(et){case"start":l[re]=It,he=h++;break;case"end":delete l[re],--h;case"drag":qe=Ye(te||Dt,Ot),he=h;break}ue.call(et,F,new Fr(et,{sourceEvent:Dt,subject:V,target:A,identifier:re,active:he,x:qe[0]+Ge,y:qe[1]+Qe,dx:qe[0]-ce[0],dy:qe[1]-ce[1],dispatch:ue}),Xt)}}return A.filter=function(F){return arguments.length?(t=typeof F=="function"?F:Rr(!!F),A):t},A.container=function(F){return arguments.length?(e=typeof F=="function"?F:Rr(F),A):e},A.subject=function(F){return arguments.length?(r=typeof F=="function"?F:Rr(F),A):r},A.touchable=function(F){return arguments.length?(a=typeof F=="function"?F:Rr(!!F),A):a},A.on=function(){var F=c.on.apply(c,arguments);return F===c?A:F},A.clickDistance=function(F){return arguments.length?(O=(F=+F)*F,A):Math.sqrt(O)},A}function u(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function s(t,e){var r=Object.create(t.prototype);for(var a in e)r[a]=e[a];return r}function f(){}var p=.7,y=1/p,v="\\s*([+-]?\\d+)\\s*",k="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",T="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j=/^#([0-9a-f]{3,8})$/,W=new RegExp(`^rgb\\(${v},${v},${v}\\)$`),M=new RegExp(`^rgb\\(${T},${T},${T}\\)$`),R=new RegExp(`^rgba\\(${v},${v},${v},${k}\\)$`),z=new RegExp(`^rgba\\(${T},${T},${T},${k}\\)$`),B=new RegExp(`^hsl\\(${k},${T},${T}\\)$`),ut=new RegExp(`^hsla\\(${k},${T},${T},${k}\\)$`),st={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};u(f,Yt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Tt,formatHex:Tt,formatHex8:Zt,formatHsl:ge,formatRgb:ne,toString:ne});function Tt(){return this.rgb().formatHex()}function Zt(){return this.rgb().formatHex8()}function ge(){return dr(this).formatHsl()}function ne(){return this.rgb().formatRgb()}function Yt(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=j.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Nt(e):r===3?new le(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ee(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ee(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W.exec(t))?new le(e[1],e[2],e[3],1):(e=M.exec(t))?new le(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=R.exec(t))?ee(e[1],e[2],e[3],e[4]):(e=z.exec(t))?ee(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=B.exec(t))?ti(e[1],e[2]/100,e[3]/100,1):(e=ut.exec(t))?ti(e[1],e[2]/100,e[3]/100,e[4]):st.hasOwnProperty(t)?Nt(st[t]):t==="transparent"?new le(NaN,NaN,NaN,0):null}function Nt(t){return new le(t>>16&255,t>>8&255,t&255,1)}function ee(t,e,r,a){return a<=0&&(t=e=r=NaN),new le(t,e,r,a)}function $e(t){return t instanceof f||(t=Yt(t)),t?(t=t.rgb(),new le(t.r,t.g,t.b,t.opacity)):new le}function me(t,e,r,a){return arguments.length===1?$e(t):new le(t,e,r,a??1)}function le(t,e,r,a){this.r=+t,this.g=+e,this.b=+r,this.opacity=+a}u(le,me,s(f,{brighter(t){return t=t==null?y:Math.pow(y,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?p:Math.pow(p,t),new le(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new le(Nn(this.r),Nn(this.g),Nn(this.b),gn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatHex8:pn,formatRgb:Fe,toString:Fe}));function Je(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}`}function pn(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}${mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fe(){let t=gn(this.opacity);return`${t===1?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${t===1?")":`, ${t})`}`}function gn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Nn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mn(t){return t=Nn(t),(t<16?"0":"")+t.toString(16)}function ti(t,e,r,a){return a<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ln(t,e,r,a)}function dr(t){if(t instanceof ln)return new ln(t.h,t.s,t.l,t.opacity);if(t instanceof f||(t=Yt(t)),!t)return new ln;if(t instanceof ln)return t;t=t.rgb();var e=t.r/255,r=t.g/255,a=t.b/255,l=Math.min(e,r,a),c=Math.max(e,r,a),h=NaN,d=c-l,w=(c+l)/2;return d?(e===c?h=(r-a)/d+(r<a)*6:r===c?h=(a-e)/d+2:h=(e-r)/d+4,d/=w<.5?c+l:2-c-l,h*=60):d=w>0&&w<1?0:h,new ln(h,d,w,t.opacity)}function Er(t,e,r,a){return arguments.length===1?dr(t):new ln(t,e,r,a??1)}function ln(t,e,r,a){this.h=+t,this.s=+e,this.l=+r,this.opacity=+a}u(ln,Er,s(f,{brighter(t){return t=t==null?y:Math.pow(y,t),new ln(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?p:Math.pow(p,t),new ln(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*e,l=2*r-a;return new le(Be(t>=240?t-240:t+120,l,a),Be(t,l,a),Be(t<120?t+240:t-120,l,a),this.opacity)},clamp(){return new ln(kr(this.h),Ht(this.s),Ht(this.l),gn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=gn(this.opacity);return`${t===1?"hsl(":"hsla("}${kr(this.h)}, ${Ht(this.s)*100}%, ${Ht(this.l)*100}%${t===1?")":`, ${t})`}`}}));function kr(t){return t=(t||0)%360,t<0?t+360:t}function Ht(t){return Math.max(0,Math.min(1,t||0))}function Be(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}function ei(t,e,r,a,l){var c=t*t,h=c*t;return((1-3*t+3*c-h)*e+(4-6*c+3*h)*r+(1+3*t+3*c-3*h)*a+h*l)/6}function Ao(t){var e=t.length-1;return function(r){var a=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),l=t[a],c=t[a+1],h=a>0?t[a-1]:2*l-c,d=a<e-1?t[a+2]:2*c-l;return ei((r-a/e)*e,h,l,c,d)}}function Eo(t){var e=t.length;return function(r){var a=Math.floor(((r%=1)<0?++r:r)*e),l=t[(a+e-1)%e],c=t[a%e],h=t[(a+1)%e],d=t[(a+2)%e];return ei((r-a/e)*e,l,c,h,d)}}var Gi=t=>()=>t;function ko(t,e){return function(r){return t+r*e}}function So(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(a){return Math.pow(t+a*e,r)}}function Oo(t){return(t=+t)==1?Qi:function(e,r){return r-e?So(e,r,t):Gi(isNaN(e)?r:e)}}function Qi(t,e){var r=e-t;return r?ko(t,r):Gi(isNaN(t)?e:t)}var Zi=(function t(e){var r=Oo(e);function a(l,c){var h=r((l=me(l)).r,(c=me(c)).r),d=r(l.g,c.g),w=r(l.b,c.b),g=Qi(l.opacity,c.opacity);return function(x){return l.r=h(x),l.g=d(x),l.b=w(x),l.opacity=g(x),l+""}}return a.gamma=t,a})(1);function to(t){return function(e){var r=e.length,a=new Array(r),l=new Array(r),c=new Array(r),h,d;for(h=0;h<r;++h)d=me(e[h]),a[h]=d.r||0,l[h]=d.g||0,c[h]=d.b||0;return a=t(a),l=t(l),c=t(c),d.opacity=1,function(w){return d.r=a(w),d.g=l(w),d.b=c(w),d+""}}}var ul=to(Ao),cl=to(Eo);function pr(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}var Ci=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mi=new RegExp(Ci.source,"g");function Lo(t){return function(){return t}}function Co(t){return function(e){return t(e)+""}}function Mo(t,e){var r=Ci.lastIndex=Mi.lastIndex=0,a,l,c,h=-1,d=[],w=[];for(t=t+"",e=e+"";(a=Ci.exec(t))&&(l=Mi.exec(e));)(c=l.index)>r&&(c=e.slice(r,c),d[h]?d[h]+=c:d[++h]=c),(a=a[0])===(l=l[0])?d[h]?d[h]+=l:d[++h]=l:(d[++h]=null,w.push({i:h,x:pr(a,l)})),r=Mi.lastIndex;return r<e.length&&(c=e.slice(r),d[h]?d[h]+=c:d[++h]=c),d.length<2?w[0]?Co(w[0].x):Lo(e):(e=w.length,function(g){for(var x=0,O;x<e;++x)d[(O=w[x]).i]=O.x(g);return d.join("")})}var eo=180/Math.PI,ji={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function no(t,e,r,a,l,c){var h,d,w;return(h=Math.sqrt(t*t+e*e))&&(t/=h,e/=h),(w=t*r+e*a)&&(r-=t*w,a-=e*w),(d=Math.sqrt(r*r+a*a))&&(r/=d,a/=d,w/=d),t*a<e*r&&(t=-t,e=-e,w=-w,h=-h),{translateX:l,translateY:c,rotate:Math.atan2(e,t)*eo,skewX:Math.atan(w)*eo,scaleX:h,scaleY:d}}var di;function jo(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ji:no(e.a,e.b,e.c,e.d,e.e,e.f)}function To(t){return t==null?ji:(di||(di=document.createElementNS("http://www.w3.org/2000/svg","g")),di.setAttribute("transform",t),(t=di.transform.baseVal.consolidate())?(t=t.matrix,no(t.a,t.b,t.c,t.d,t.e,t.f)):ji)}function ro(t,e,r,a){function l(g){return g.length?g.pop()+" ":""}function c(g,x,O,A,_,P){if(g!==O||x!==A){var $=_.push("translate(",null,e,null,r);P.push({i:$-4,x:pr(g,O)},{i:$-2,x:pr(x,A)})}else(O||A)&&_.push("translate("+O+e+A+r)}function h(g,x,O,A){g!==x?(g-x>180?x+=360:x-g>180&&(g+=360),A.push({i:O.push(l(O)+"rotate(",null,a)-2,x:pr(g,x)})):x&&O.push(l(O)+"rotate("+x+a)}function d(g,x,O,A){g!==x?A.push({i:O.push(l(O)+"skewX(",null,a)-2,x:pr(g,x)}):x&&O.push(l(O)+"skewX("+x+a)}function w(g,x,O,A,_,P){if(g!==O||x!==A){var $=_.push(l(_)+"scale(",null,",",null,")");P.push({i:$-4,x:pr(g,O)},{i:$-2,x:pr(x,A)})}else(O!==1||A!==1)&&_.push(l(_)+"scale("+O+","+A+")")}return function(g,x){var O=[],A=[];return g=t(g),x=t(x),c(g.translateX,g.translateY,x.translateX,x.translateY,O,A),h(g.rotate,x.rotate,O,A),d(g.skewX,x.skewX,O,A),w(g.scaleX,g.scaleY,x.scaleX,x.scaleY,O,A),g=x=null,function(_){for(var P=-1,$=A.length,S;++P<$;)O[(S=A[P]).i]=S.x(_);return O.join("")}}}var Po=ro(jo,"px, ","px)","deg)"),No=ro(To,", ",")",")"),Io=1e-12;function io(t){return((t=Math.exp(t))+1/t)/2}function $o(t){return((t=Math.exp(t))-1/t)/2}function qo(t){return((t=Math.exp(2*t))-1)/(t+1)}var zo=(function t(e,r,a){function l(c,h){var d=c[0],w=c[1],g=c[2],x=h[0],O=h[1],A=h[2],_=x-d,P=O-w,$=_*_+P*P,S,L;if($<Io)L=Math.log(A/g)/e,S=function(Xt){return[d+Xt*_,w+Xt*P,g*Math.exp(e*Xt*L)]};else{var Z=Math.sqrt($),vt=(A*A-g*g+a*$)/(2*g*r*Z),F=(A*A-g*g-a*$)/(2*A*r*Z),Ot=Math.log(Math.sqrt(vt*vt+1)-vt),Vt=Math.log(Math.sqrt(F*F+1)-F);L=(Vt-Ot)/e,S=function(Xt){var re=Xt*L,Se=io(Ot),ue=g/(r*Z)*(Se*qo(e*re+Ot)-$o(Ot));return[d+ue*_,w+ue*P,g*Se/io(e*re+Ot)]}}return S.duration=L*1e3*e/Math.SQRT2,S}return l.rho=function(c){var h=Math.max(.001,+c),d=h*h,w=d*d;return t(h,d,w)},l})(Math.SQRT2,2,4),Hr=0,ni=0,ri=0,oo=1e3,pi,ii,gi=0,Sr=0,mi=0,oi=typeof performance=="object"&&performance.now?performance:Date,ao=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ti(){return Sr||(ao(Bo),Sr=oi.now()+mi)}function Bo(){Sr=0}function yi(){this._call=this._time=this._next=null}yi.prototype=Pi.prototype={constructor:yi,restart:function(t,e,r){if(typeof t!="function")throw new TypeError("callback is not a function");r=(r==null?Ti():+r)+(e==null?0:+e),!this._next&&ii!==this&&(ii?ii._next=this:pi=this,ii=this),this._call=t,this._time=r,Ni()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ni())}};function Pi(t,e,r){var a=new yi;return a.restart(t,e,r),a}function Do(){Ti(),++Hr;for(var t=pi,e;t;)(e=Sr-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Hr}function so(){Sr=(gi=oi.now())+mi,Hr=ni=0;try{Do()}finally{Hr=0,Fo(),Sr=0}}function Ro(){var t=oi.now(),e=t-gi;e>oo&&(mi-=e,gi=t)}function Fo(){for(var t,e=pi,r,a=1/0;e;)e._call?(a>e._time&&(a=e._time),t=e,e=e._next):(r=e._next,e._next=null,e=t?t._next=r:pi=r);ii=t,Ni(a)}function Ni(t){if(!Hr){ni&&(ni=clearTimeout(ni));var e=t-Sr;e>24?(t<1/0&&(ni=setTimeout(so,t-oi.now()-mi)),ri&&(ri=clearInterval(ri))):(ri||(gi=oi.now(),ri=setInterval(Ro,oo)),Hr=1,ao(so))}}function lo(t,e,r){var a=new yi;return e=e==null?0:+e,a.restart(l=>{a.stop(),t(l+e)},e,r),a}var Ho=nt("start","end","cancel","interrupt"),Vo=[],uo=0,co=1,Ii=2,vi=3,ho=4,$i=5,wi=6;function bi(t,e,r,a,l,c){var h=t.__transition;if(!h)t.__transition={};else if(r in h)return;Uo(t,r,{name:e,index:a,group:l,on:Ho,tween:Vo,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:uo})}function qi(t,e){var r=In(t,e);if(r.state>uo)throw new Error("too late; already scheduled");return r}function Kn(t,e){var r=In(t,e);if(r.state>vi)throw new Error("too late; already running");return r}function In(t,e){var r=t.__transition;if(!r||!(r=r[e]))throw new Error("transition not found");return r}function Uo(t,e,r){var a=t.__transition,l;a[e]=r,r.timer=Pi(c,0,r.time);function c(g){r.state=co,r.timer.restart(h,r.delay,r.time),r.delay<=g&&h(g-r.delay)}function h(g){var x,O,A,_;if(r.state!==co)return w();for(x in a)if(_=a[x],_.name===r.name){if(_.state===vi)return lo(h);_.state===ho?(_.state=wi,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete a[x]):+x<e&&(_.state=wi,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete a[x])}if(lo(function(){r.state===vi&&(r.state=ho,r.timer.restart(d,r.delay,r.time),d(g))}),r.state=Ii,r.on.call("start",t,t.__data__,r.index,r.group),r.state===Ii){for(r.state=vi,l=new Array(A=r.tween.length),x=0,O=-1;x<A;++x)(_=r.tween[x].value.call(t,t.__data__,r.index,r.group))&&(l[++O]=_);l.length=O+1}}function d(g){for(var x=g<r.duration?r.ease.call(null,g/r.duration):(r.timer.restart(w),r.state=$i,1),O=-1,A=l.length;++O<A;)l[O].call(t,x);r.state===$i&&(r.on.call("end",t,t.__data__,r.index,r.group),w())}function w(){r.state=wi,r.timer.stop(),delete a[e];for(var g in a)return;delete t.__transition}}function xi(t,e){var r=t.__transition,a,l,c=!0,h;if(r){e=e==null?null:e+"";for(h in r){if((a=r[h]).name!==e){c=!1;continue}l=a.state>Ii&&a.state<$i,a.state=wi,a.timer.stop(),a.on.call(l?"interrupt":"cancel",t,t.__data__,a.index,a.group),delete r[h]}c&&delete t.__transition}}function Wo(t){return this.each(function(){xi(this,t)})}function Xo(t,e){var r,a;return function(){var l=Kn(this,t),c=l.tween;if(c!==r){a=r=c;for(var h=0,d=a.length;h<d;++h)if(a[h].name===e){a=a.slice(),a.splice(h,1);break}}l.tween=a}}function Yo(t,e,r){var a,l;if(typeof r!="function")throw new Error;return function(){var c=Kn(this,t),h=c.tween;if(h!==a){l=(a=h).slice();for(var d={name:e,value:r},w=0,g=l.length;w<g;++w)if(l[w].name===e){l[w]=d;break}w===g&&l.push(d)}c.tween=l}}function Ko(t,e){var r=this._id;if(t+="",arguments.length<2){for(var a=In(this.node(),r).tween,l=0,c=a.length,h;l<c;++l)if((h=a[l]).name===t)return h.value;return null}return this.each((e==null?Xo:Yo)(r,t,e))}function zi(t,e,r){var a=t._id;return t.each(function(){var l=Kn(this,a);(l.value||(l.value={}))[e]=r.apply(this,arguments)}),function(l){return In(l,a).value[e]}}function fo(t,e){var r;return(typeof e=="number"?pr:e instanceof Yt?Zi:(r=Yt(e))?(e=r,Zi):Mo)(t,e)}function Jo(t){return function(){this.removeAttribute(t)}}function Go(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qo(t,e,r){var a,l=r+"",c;return function(){var h=this.getAttribute(t);return h===l?null:h===a?c:c=e(a=h,r)}}function Zo(t,e,r){var a,l=r+"",c;return function(){var h=this.getAttributeNS(t.space,t.local);return h===l?null:h===a?c:c=e(a=h,r)}}function ta(t,e,r){var a,l,c;return function(){var h,d=r(this),w;return d==null?void this.removeAttribute(t):(h=this.getAttribute(t),w=d+"",h===w?null:h===a&&w===l?c:(l=w,c=e(a=h,d)))}}function ea(t,e,r){var a,l,c;return function(){var h,d=r(this),w;return d==null?void this.removeAttributeNS(t.space,t.local):(h=this.getAttributeNS(t.space,t.local),w=d+"",h===w?null:h===a&&w===l?c:(l=w,c=e(a=h,d)))}}function na(t,e){var r=Ct(t),a=r==="transform"?No:fo;return this.attrTween(t,typeof e=="function"?(r.local?ea:ta)(r,a,zi(this,"attr."+t,e)):e==null?(r.local?Go:Jo)(r):(r.local?Zo:Qo)(r,a,e))}function ra(t,e){return function(r){this.setAttribute(t,e.call(this,r))}}function ia(t,e){return function(r){this.setAttributeNS(t.space,t.local,e.call(this,r))}}function oa(t,e){var r,a;function l(){var c=e.apply(this,arguments);return c!==a&&(r=(a=c)&&ia(t,c)),r}return l._value=e,l}function aa(t,e){var r,a;function l(){var c=e.apply(this,arguments);return c!==a&&(r=(a=c)&&ra(t,c)),r}return l._value=e,l}function sa(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;var a=Ct(t);return this.tween(r,(a.local?oa:aa)(a,e))}function la(t,e){return function(){qi(this,t).delay=+e.apply(this,arguments)}}function ua(t,e){return e=+e,function(){qi(this,t).delay=e}}function ca(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?la:ua)(e,t)):In(this.node(),e).delay}function ha(t,e){return function(){Kn(this,t).duration=+e.apply(this,arguments)}}function fa(t,e){return e=+e,function(){Kn(this,t).duration=e}}function da(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ha:fa)(e,t)):In(this.node(),e).duration}function pa(t,e){if(typeof e!="function")throw new Error;return function(){Kn(this,t).ease=e}}function ga(t){var e=this._id;return arguments.length?this.each(pa(e,t)):In(this.node(),e).ease}function ma(t,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;Kn(this,t).ease=r}}function ya(t){if(typeof t!="function")throw new Error;return this.each(ma(this._id,t))}function va(t){typeof t!="function"&&(t=mt(t));for(var e=this._groups,r=e.length,a=new Array(r),l=0;l<r;++l)for(var c=e[l],h=c.length,d=a[l]=[],w,g=0;g<h;++g)(w=c[g])&&t.call(w,w.__data__,g,c)&&d.push(w);return new nr(a,this._parents,this._name,this._id)}function wa(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,r=t._groups,a=e.length,l=r.length,c=Math.min(a,l),h=new Array(a),d=0;d<c;++d)for(var w=e[d],g=r[d],x=w.length,O=h[d]=new Array(x),A,_=0;_<x;++_)(A=w[_]||g[_])&&(O[_]=A);for(;d<a;++d)h[d]=e[d];return new nr(h,this._parents,this._name,this._id)}function ba(t){return(t+"").trim().split(/^|\s+/).every(function(e){var r=e.indexOf(".");return r>=0&&(e=e.slice(0,r)),!e||e==="start"})}function xa(t,e,r){var a,l,c=ba(e)?qi:Kn;return function(){var h=c(this,t),d=h.on;d!==a&&(l=(a=d).copy()).on(e,r),h.on=l}}function _a(t,e){var r=this._id;return arguments.length<2?In(this.node(),r).on.on(t):this.each(xa(r,t,e))}function Aa(t){return function(){var e=this.parentNode;for(var r in this.__transition)if(+r!==t)return;e&&e.removeChild(this)}}function Ea(){return this.on("end.remove",Aa(this._id))}function ka(t){var e=this._name,r=this._id;typeof t!="function"&&(t=de(t));for(var a=this._groups,l=a.length,c=new Array(l),h=0;h<l;++h)for(var d=a[h],w=d.length,g=c[h]=new Array(w),x,O,A=0;A<w;++A)(x=d[A])&&(O=t.call(x,x.__data__,A,d))&&("__data__"in x&&(O.__data__=x.__data__),g[A]=O,bi(g[A],e,r,A,g,In(x,r)));return new nr(c,this._parents,e,r)}function Sa(t){var e=this._name,r=this._id;typeof t!="function"&&(t=X(t));for(var a=this._groups,l=a.length,c=[],h=[],d=0;d<l;++d)for(var w=a[d],g=w.length,x,O=0;O<g;++O)if(x=w[O]){for(var A=t.call(x,x.__data__,O,w),_,P=In(x,r),$=0,S=A.length;$<S;++$)(_=A[$])&&bi(_,e,r,$,A,P);c.push(A),h.push(x)}return new nr(c,h,e,r)}var Oa=on.prototype.constructor;function La(){return new Oa(this._groups,this._parents)}function Ca(t,e){var r,a,l;return function(){var c=Pn(this,t),h=(this.style.removeProperty(t),Pn(this,t));return c===h?null:c===r&&h===a?l:l=e(r=c,a=h)}}function po(t){return function(){this.style.removeProperty(t)}}function Ma(t,e,r){var a,l=r+"",c;return function(){var h=Pn(this,t);return h===l?null:h===a?c:c=e(a=h,r)}}function ja(t,e,r){var a,l,c;return function(){var h=Pn(this,t),d=r(this),w=d+"";return d==null&&(w=d=(this.style.removeProperty(t),Pn(this,t))),h===w?null:h===a&&w===l?c:(l=w,c=e(a=h,d))}}function Ta(t,e){var r,a,l,c="style."+e,h="end."+c,d;return function(){var w=Kn(this,t),g=w.on,x=w.value[c]==null?d||(d=po(e)):void 0;(g!==r||l!==x)&&(a=(r=g).copy()).on(h,l=x),w.on=a}}function Pa(t,e,r){var a=(t+="")=="transform"?Po:fo;return e==null?this.styleTween(t,Ca(t,a)).on("end.style."+t,po(t)):typeof e=="function"?this.styleTween(t,ja(t,a,zi(this,"style."+t,e))).each(Ta(this._id,t)):this.styleTween(t,Ma(t,a,e),r).on("end.style."+t,null)}function Na(t,e,r){return function(a){this.style.setProperty(t,e.call(this,a),r)}}function Ia(t,e,r){var a,l;function c(){var h=e.apply(this,arguments);return h!==l&&(a=(l=h)&&Na(t,h,r)),a}return c._value=e,c}function $a(t,e,r){var a="style."+(t+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(e==null)return this.tween(a,null);if(typeof e!="function")throw new Error;return this.tween(a,Ia(t,e,r??""))}function qa(t){return function(){this.textContent=t}}function za(t){return function(){var e=t(this);this.textContent=e??""}}function Ba(t){return this.tween("text",typeof t=="function"?za(zi(this,"text",t)):qa(t==null?"":t+""))}function Da(t){return function(e){this.textContent=t.call(this,e)}}function Ra(t){var e,r;function a(){var l=t.apply(this,arguments);return l!==r&&(e=(r=l)&&Da(l)),e}return a._value=t,a}function Fa(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ra(t))}function Ha(){for(var t=this._name,e=this._id,r=go(),a=this._groups,l=a.length,c=0;c<l;++c)for(var h=a[c],d=h.length,w,g=0;g<d;++g)if(w=h[g]){var x=In(w,e);bi(w,t,r,g,h,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new nr(a,this._parents,t,r)}function Va(){var t,e,r=this,a=r._id,l=r.size();return new Promise(function(c,h){var d={value:h},w={value:function(){--l===0&&c()}};r.each(function(){var g=Kn(this,a),x=g.on;x!==t&&(e=(t=x).copy(),e._.cancel.push(d),e._.interrupt.push(d),e._.end.push(w)),g.on=e}),l===0&&c()})}var Ua=0;function nr(t,e,r,a){this._groups=t,this._parents=e,this._name=r,this._id=a}function Wa(t){return on().transition(t)}function go(){return++Ua}var rr=on.prototype;nr.prototype=Wa.prototype={constructor:nr,select:ka,selectAll:Sa,selectChild:rr.selectChild,selectChildren:rr.selectChildren,filter:va,merge:wa,selection:La,transition:Ha,call:rr.call,nodes:rr.nodes,node:rr.node,size:rr.size,empty:rr.empty,each:rr.each,on:_a,attr:na,attrTween:sa,style:Pa,styleTween:$a,text:Ba,textTween:Fa,remove:Ea,tween:Ko,delay:ca,duration:da,ease:ga,easeVarying:ya,end:Va,[Symbol.iterator]:rr[Symbol.iterator]};function Xa(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Ya={time:null,delay:0,duration:250,ease:Xa};function Ka(t,e){for(var r;!(r=t.__transition)||!(r=r[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return r}function Ja(t){var e,r;t instanceof nr?(e=t._id,t=t._name):(e=go(),(r=Ya).time=Ti(),t=t==null?null:t+"");for(var a=this._groups,l=a.length,c=0;c<l;++c)for(var h=a[c],d=h.length,w,g=0;g<d;++g)(w=h[g])&&bi(w,t,e,g,h,r||Ka(w,e));return new nr(a,this._parents,t,e)}on.prototype.interrupt=Wo,on.prototype.transition=Ja;var{abs:hl,max:fl,min:dl}=Math;function mo(t){return[+t[0],+t[1]]}function Ga(t){return[mo(t[0]),mo(t[1])]}var pl={name:"x",handles:["w","e"].map(Bi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},gl={name:"y",handles:["n","s"].map(Bi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},ml={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Bi),input:function(t){return t==null?null:Ga(t)},output:function(t){return t}};function Bi(t){return{type:t}}function Qa(t,e){var r,a=1;t==null&&(t=0),e==null&&(e=0);function l(){var c,h=r.length,d,w=0,g=0;for(c=0;c<h;++c)d=r[c],w+=d.x,g+=d.y;for(w=(w/h-t)*a,g=(g/h-e)*a,c=0;c<h;++c)d=r[c],d.x-=w,d.y-=g}return l.initialize=function(c){r=c},l.x=function(c){return arguments.length?(t=+c,l):t},l.y=function(c){return arguments.length?(e=+c,l):e},l.strength=function(c){return arguments.length?(a=+c,l):a},l}function Za(t){let e=+this._x.call(null,t),r=+this._y.call(null,t);return yo(this.cover(e,r),e,r,t)}function yo(t,e,r,a){if(isNaN(e)||isNaN(r))return t;var l,c=t._root,h={data:a},d=t._x0,w=t._y0,g=t._x1,x=t._y1,O,A,_,P,$,S,L,Z;if(!c)return t._root=h,t;for(;c.length;)if(($=e>=(O=(d+g)/2))?d=O:g=O,(S=r>=(A=(w+x)/2))?w=A:x=A,l=c,!(c=c[L=S<<1|$]))return l[L]=h,t;if(_=+t._x.call(null,c.data),P=+t._y.call(null,c.data),e===_&&r===P)return h.next=c,l?l[L]=h:t._root=h,t;do l=l?l[L]=new Array(4):t._root=new Array(4),($=e>=(O=(d+g)/2))?d=O:g=O,(S=r>=(A=(w+x)/2))?w=A:x=A;while((L=S<<1|$)===(Z=(P>=A)<<1|_>=O));return l[Z]=c,l[L]=h,t}function ts(t){var e,r,a=t.length,l,c,h=new Array(a),d=new Array(a),w=1/0,g=1/0,x=-1/0,O=-1/0;for(r=0;r<a;++r)isNaN(l=+this._x.call(null,e=t[r]))||isNaN(c=+this._y.call(null,e))||(h[r]=l,d[r]=c,l<w&&(w=l),l>x&&(x=l),c<g&&(g=c),c>O&&(O=c));if(w>x||g>O)return this;for(this.cover(w,g).cover(x,O),r=0;r<a;++r)yo(this,h[r],d[r],t[r]);return this}function es(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,a=this._y0,l=this._x1,c=this._y1;if(isNaN(r))l=(r=Math.floor(t))+1,c=(a=Math.floor(e))+1;else{for(var h=l-r||1,d=this._root,w,g;r>t||t>=l||a>e||e>=c;)switch(g=(e<a)<<1|t<r,w=new Array(4),w[g]=d,d=w,h*=2,g){case 0:l=r+h,c=a+h;break;case 1:r=l-h,c=a+h;break;case 2:l=r+h,a=c-h;break;case 3:r=l-h,a=c-h;break}this._root&&this._root.length&&(this._root=d)}return this._x0=r,this._y0=a,this._x1=l,this._y1=c,this}function ns(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function rs(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function yn(t,e,r,a,l){this.node=t,this.x0=e,this.y0=r,this.x1=a,this.y1=l}function is(t,e,r){var a,l=this._x0,c=this._y0,h,d,w,g,x=this._x1,O=this._y1,A=[],_=this._root,P,$;for(_&&A.push(new yn(_,l,c,x,O)),r==null?r=1/0:(l=t-r,c=e-r,x=t+r,O=e+r,r*=r);P=A.pop();)if(!(!(_=P.node)||(h=P.x0)>x||(d=P.y0)>O||(w=P.x1)<l||(g=P.y1)<c))if(_.length){var S=(h+w)/2,L=(d+g)/2;A.push(new yn(_[3],S,L,w,g),new yn(_[2],h,L,S,g),new yn(_[1],S,d,w,L),new yn(_[0],h,d,S,L)),($=(e>=L)<<1|t>=S)&&(P=A[A.length-1],A[A.length-1]=A[A.length-1-$],A[A.length-1-$]=P)}else{var Z=t-+this._x.call(null,_.data),vt=e-+this._y.call(null,_.data),F=Z*Z+vt*vt;if(F<r){var Ot=Math.sqrt(r=F);l=t-Ot,c=e-Ot,x=t+Ot,O=e+Ot,a=_.data}}return a}function os(t){if(isNaN(x=+this._x.call(null,t))||isNaN(O=+this._y.call(null,t)))return this;var e,r=this._root,a,l,c,h=this._x0,d=this._y0,w=this._x1,g=this._y1,x,O,A,_,P,$,S,L;if(!r)return this;if(r.length)for(;;){if((P=x>=(A=(h+w)/2))?h=A:w=A,($=O>=(_=(d+g)/2))?d=_:g=_,e=r,!(r=r[S=$<<1|P]))return this;if(!r.length)break;(e[S+1&3]||e[S+2&3]||e[S+3&3])&&(a=e,L=S)}for(;r.data!==t;)if(l=r,!(r=r.next))return this;return(c=r.next)&&delete r.next,l?(c?l.next=c:delete l.next,this):e?(c?e[S]=c:delete e[S],(r=e[0]||e[1]||e[2]||e[3])&&r===(e[3]||e[2]||e[1]||e[0])&&!r.length&&(a?a[L]=r:this._root=r),this):(this._root=c,this)}function as(t){for(var e=0,r=t.length;e<r;++e)this.remove(t[e]);return this}function ss(){return this._root}function ls(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function us(t){var e=[],r,a=this._root,l,c,h,d,w;for(a&&e.push(new yn(a,this._x0,this._y0,this._x1,this._y1));r=e.pop();)if(!t(a=r.node,c=r.x0,h=r.y0,d=r.x1,w=r.y1)&&a.length){var g=(c+d)/2,x=(h+w)/2;(l=a[3])&&e.push(new yn(l,g,x,d,w)),(l=a[2])&&e.push(new yn(l,c,x,g,w)),(l=a[1])&&e.push(new yn(l,g,h,d,x)),(l=a[0])&&e.push(new yn(l,c,h,g,x))}return this}function cs(t){var e=[],r=[],a;for(this._root&&e.push(new yn(this._root,this._x0,this._y0,this._x1,this._y1));a=e.pop();){var l=a.node;if(l.length){var c,h=a.x0,d=a.y0,w=a.x1,g=a.y1,x=(h+w)/2,O=(d+g)/2;(c=l[0])&&e.push(new yn(c,h,d,x,O)),(c=l[1])&&e.push(new yn(c,x,d,w,O)),(c=l[2])&&e.push(new yn(c,h,O,x,g)),(c=l[3])&&e.push(new yn(c,x,O,w,g))}r.push(a)}for(;a=r.pop();)t(a.node,a.x0,a.y0,a.x1,a.y1);return this}function hs(t){return t[0]}function fs(t){return arguments.length?(this._x=t,this):this._x}function ds(t){return t[1]}function ps(t){return arguments.length?(this._y=t,this):this._y}function Di(t,e,r){var a=new Ri(e??hs,r??ds,NaN,NaN,NaN,NaN);return t==null?a:a.addAll(t)}function Ri(t,e,r,a,l,c){this._x=t,this._y=e,this._x0=r,this._y0=a,this._x1=l,this._y1=c,this._root=void 0}function vo(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var vn=Di.prototype=Ri.prototype;vn.copy=function(){var t=new Ri(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,r,a;if(!e)return t;if(!e.length)return t._root=vo(e),t;for(r=[{source:e,target:t._root=new Array(4)}];e=r.pop();)for(var l=0;l<4;++l)(a=e.source[l])&&(a.length?r.push({source:a,target:e.target[l]=new Array(4)}):e.target[l]=vo(a));return t},vn.add=Za,vn.addAll=ts,vn.cover=es,vn.data=ns,vn.extent=rs,vn.find=is,vn.remove=os,vn.removeAll=as,vn.root=ss,vn.size=ls,vn.visit=us,vn.visitAfter=cs,vn.x=fs,vn.y=ps;function $n(t){return function(){return t}}function gr(t){return(t()-.5)*1e-6}function gs(t){return t.x+t.vx}function ms(t){return t.y+t.vy}function ys(t){var e,r,a,l=1,c=1;typeof t!="function"&&(t=$n(t==null?1:+t));function h(){for(var g,x=e.length,O,A,_,P,$,S,L=0;L<c;++L)for(O=Di(e,gs,ms).visitAfter(d),g=0;g<x;++g)A=e[g],$=r[A.index],S=$*$,_=A.x+A.vx,P=A.y+A.vy,O.visit(Z);function Z(vt,F,Ot,Vt,Xt){var re=vt.data,Se=vt.r,ue=$+Se;if(re){if(re.index>A.index){var qe=_-re.x-re.vx,Ge=P-re.y-re.vy,Qe=qe*qe+Ge*Ge;Qe<ue*ue&&(qe===0&&(qe=gr(a),Qe+=qe*qe),Ge===0&&(Ge=gr(a),Qe+=Ge*Ge),Qe=(ue-(Qe=Math.sqrt(Qe)))/Qe*l,A.vx+=(qe*=Qe)*(ue=(Se*=Se)/(S+Se)),A.vy+=(Ge*=Qe)*ue,re.vx-=qe*(ue=1-ue),re.vy-=Ge*ue)}return}return F>_+ue||Vt<_-ue||Ot>P+ue||Xt<P-ue}}function d(g){if(g.data)return g.r=r[g.data.index];for(var x=g.r=0;x<4;++x)g[x]&&g[x].r>g.r&&(g.r=g[x].r)}function w(){if(e){var g,x=e.length,O;for(r=new Array(x),g=0;g<x;++g)O=e[g],r[O.index]=+t(O,g,e)}}return h.initialize=function(g,x){e=g,a=x,w()},h.iterations=function(g){return arguments.length?(c=+g,h):c},h.strength=function(g){return arguments.length?(l=+g,h):l},h.radius=function(g){return arguments.length?(t=typeof g=="function"?g:$n(+g),w(),h):t},h}function vs(t){return t.index}function wo(t,e){var r=t.get(e);if(!r)throw new Error("node not found: "+e);return r}function ws(t){var e=vs,r=O,a,l=$n(30),c,h,d,w,g,x=1;t==null&&(t=[]);function O(S){return 1/Math.min(d[S.source.index],d[S.target.index])}function A(S){for(var L=0,Z=t.length;L<x;++L)for(var vt=0,F,Ot,Vt,Xt,re,Se,ue;vt<Z;++vt)F=t[vt],Ot=F.source,Vt=F.target,Xt=Vt.x+Vt.vx-Ot.x-Ot.vx||gr(g),re=Vt.y+Vt.vy-Ot.y-Ot.vy||gr(g),Se=Math.sqrt(Xt*Xt+re*re),Se=(Se-c[vt])/Se*S*a[vt],Xt*=Se,re*=Se,Vt.vx-=Xt*(ue=w[vt]),Vt.vy-=re*ue,Ot.vx+=Xt*(ue=1-ue),Ot.vy+=re*ue}function _(){if(h){var S,L=h.length,Z=t.length,vt=new Map(h.map((Ot,Vt)=>[e(Ot,Vt,h),Ot])),F;for(S=0,d=new Array(L);S<Z;++S)F=t[S],F.index=S,typeof F.source!="object"&&(F.source=wo(vt,F.source)),typeof F.target!="object"&&(F.target=wo(vt,F.target)),d[F.source.index]=(d[F.source.index]||0)+1,d[F.target.index]=(d[F.target.index]||0)+1;for(S=0,w=new Array(Z);S<Z;++S)F=t[S],w[S]=d[F.source.index]/(d[F.source.index]+d[F.target.index]);a=new Array(Z),P(),c=new Array(Z),$()}}function P(){if(h)for(var S=0,L=t.length;S<L;++S)a[S]=+r(t[S],S,t)}function $(){if(h)for(var S=0,L=t.length;S<L;++S)c[S]=+l(t[S],S,t)}return A.initialize=function(S,L){h=S,g=L,_()},A.links=function(S){return arguments.length?(t=S,_(),A):t},A.id=function(S){return arguments.length?(e=S,A):e},A.iterations=function(S){return arguments.length?(x=+S,A):x},A.strength=function(S){return arguments.length?(r=typeof S=="function"?S:$n(+S),P(),A):r},A.distance=function(S){return arguments.length?(l=typeof S=="function"?S:$n(+S),$(),A):l},A}function bs(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}function xs(t){return t.x}function _s(t){return t.y}var As=10,Es=Math.PI*(3-Math.sqrt(5));function ks(t){var e,r=1,a=.001,l=1-Math.pow(a,1/300),c=0,h=.6,d=new Map,w=Pi(O),g=nt("tick","end"),x=bs();t==null&&(t=[]);function O(){A(),g.call("tick",e),r<a&&(w.stop(),g.call("end",e))}function A($){var S,L=t.length,Z;$===void 0&&($=1);for(var vt=0;vt<$;++vt)for(r+=(c-r)*l,d.forEach(function(F){F(r)}),S=0;S<L;++S)Z=t[S],Z.fx==null?Z.x+=Z.vx*=h:(Z.x=Z.fx,Z.vx=0),Z.fy==null?Z.y+=Z.vy*=h:(Z.y=Z.fy,Z.vy=0);return e}function _(){for(var $=0,S=t.length,L;$<S;++$){if(L=t[$],L.index=$,L.fx!=null&&(L.x=L.fx),L.fy!=null&&(L.y=L.fy),isNaN(L.x)||isNaN(L.y)){var Z=As*Math.sqrt(.5+$),vt=$*Es;L.x=Z*Math.cos(vt),L.y=Z*Math.sin(vt)}(isNaN(L.vx)||isNaN(L.vy))&&(L.vx=L.vy=0)}}function P($){return $.initialize&&$.initialize(t,x),$}return _(),e={tick:A,restart:function(){return w.restart(O),e},stop:function(){return w.stop(),e},nodes:function($){return arguments.length?(t=$,_(),d.forEach(P),e):t},alpha:function($){return arguments.length?(r=+$,e):r},alphaMin:function($){return arguments.length?(a=+$,e):a},alphaDecay:function($){return arguments.length?(l=+$,e):+l},alphaTarget:function($){return arguments.length?(c=+$,e):c},velocityDecay:function($){return arguments.length?(h=1-$,e):1-h},randomSource:function($){return arguments.length?(x=$,d.forEach(P),e):x},force:function($,S){return arguments.length>1?(S==null?d.delete($):d.set($,P(S)),e):d.get($)},find:function($,S,L){var Z=0,vt=t.length,F,Ot,Vt,Xt,re;for(L==null?L=1/0:L*=L,Z=0;Z<vt;++Z)Xt=t[Z],F=$-Xt.x,Ot=S-Xt.y,Vt=F*F+Ot*Ot,Vt<L&&(re=Xt,L=Vt);return re},on:function($,S){return arguments.length>1?(g.on($,S),e):g.on($)}}}function Ss(){var t,e,r,a,l=$n(-30),c,h=1,d=1/0,w=.81;function g(_){var P,$=t.length,S=Di(t,xs,_s).visitAfter(O);for(a=_,P=0;P<$;++P)e=t[P],S.visit(A)}function x(){if(t){var _,P=t.length,$;for(c=new Array(P),_=0;_<P;++_)$=t[_],c[$.index]=+l($,_,t)}}function O(_){var P=0,$,S,L=0,Z,vt,F;if(_.length){for(Z=vt=F=0;F<4;++F)($=_[F])&&(S=Math.abs($.value))&&(P+=$.value,L+=S,Z+=S*$.x,vt+=S*$.y);_.x=Z/L,_.y=vt/L}else{$=_,$.x=$.data.x,$.y=$.data.y;do P+=c[$.data.index];while($=$.next)}_.value=P}function A(_,P,$,S){if(!_.value)return!0;var L=_.x-e.x,Z=_.y-e.y,vt=S-P,F=L*L+Z*Z;if(vt*vt/w<F)return F<d&&(L===0&&(L=gr(r),F+=L*L),Z===0&&(Z=gr(r),F+=Z*Z),F<h&&(F=Math.sqrt(h*F)),e.vx+=L*_.value*a/F,e.vy+=Z*_.value*a/F),!0;if(!(_.length||F>=d)){(_.data!==e||_.next)&&(L===0&&(L=gr(r),F+=L*L),Z===0&&(Z=gr(r),F+=Z*Z),F<h&&(F=Math.sqrt(h*F)));do _.data!==e&&(vt=c[_.data.index]*a/F,e.vx+=L*vt,e.vy+=Z*vt);while(_=_.next)}}return g.initialize=function(_,P){t=_,r=P,x()},g.strength=function(_){return arguments.length?(l=typeof _=="function"?_:$n(+_),x(),g):l},g.distanceMin=function(_){return arguments.length?(h=_*_,g):Math.sqrt(h)},g.distanceMax=function(_){return arguments.length?(d=_*_,g):Math.sqrt(d)},g.theta=function(_){return arguments.length?(w=_*_,g):Math.sqrt(w)},g}function Os(t,e,r){var a,l=$n(.1),c,h;typeof t!="function"&&(t=$n(+t)),e==null&&(e=0),r==null&&(r=0);function d(g){for(var x=0,O=a.length;x<O;++x){var A=a[x],_=A.x-e||1e-6,P=A.y-r||1e-6,$=Math.sqrt(_*_+P*P),S=(h[x]-$)*c[x]*g/$;A.vx+=_*S,A.vy+=P*S}}function w(){if(a){var g,x=a.length;for(c=new Array(x),h=new Array(x),g=0;g<x;++g)h[g]=+t(a[g],g,a),c[g]=isNaN(h[g])?0:+l(a[g],g,a)}}return d.initialize=function(g){a=g,w()},d.strength=function(g){return arguments.length?(l=typeof g=="function"?g:$n(+g),w(),d):l},d.radius=function(g){return arguments.length?(t=typeof g=="function"?g:$n(+g),w(),d):t},d.x=function(g){return arguments.length?(e=+g,d):e},d.y=function(g){return arguments.length?(r=+g,d):r},d}var _i=t=>()=>t;function Ls(t,{sourceEvent:e,target:r,transform:a,dispatch:l}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:l}})}function ir(t,e,r){this.k=t,this.x=e,this.y=r}ir.prototype={constructor:ir,scale:function(t){return t===1?this:new ir(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ir(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Fi=new ir(1,0,0);Cs.prototype=ir.prototype;function Cs(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Fi;return t.__zoom}function Hi(t){t.stopImmediatePropagation()}function ai(t){t.preventDefault(),t.stopImmediatePropagation()}function Ms(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function js(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function bo(){return this.__zoom||Fi}function Ts(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Ps(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ns(t,e,r){var a=t.invertX(e[0][0])-r[0][0],l=t.invertX(e[1][0])-r[1][0],c=t.invertY(e[0][1])-r[0][1],h=t.invertY(e[1][1])-r[1][1];return t.translate(l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l),h>c?(c+h)/2:Math.min(0,c)||Math.max(0,h))}function Is(){var t=Ms,e=js,r=Ns,a=Ts,l=Ps,c=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],d=250,w=zo,g=nt("start","zoom","end"),x,O,A,_=500,P=150,$=0,S=10;function L(V){V.property("__zoom",bo).on("wheel.zoom",re,{passive:!1}).on("mousedown.zoom",Se).on("dblclick.zoom",ue).filter(l).on("touchstart.zoom",qe).on("touchmove.zoom",Ge).on("touchend.zoom touchcancel.zoom",Qe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}L.transform=function(V,It,et,Dt){var te=V.selection?V.selection():V;te.property("__zoom",bo),V!==te?Ot(V,It,et,Dt):te.interrupt().each(function(){Vt(this,arguments).event(Dt).start().zoom(null,typeof It=="function"?It.apply(this,arguments):It).end()})},L.scaleBy=function(V,It,et,Dt){L.scaleTo(V,function(){var te=this.__zoom.k,ce=typeof It=="function"?It.apply(this,arguments):It;return te*ce},et,Dt)},L.scaleTo=function(V,It,et,Dt){L.transform(V,function(){var te=e.apply(this,arguments),ce=this.__zoom,he=et==null?F(te):typeof et=="function"?et.apply(this,arguments):et,ke=ce.invert(he),Te=typeof It=="function"?It.apply(this,arguments):It;return r(vt(Z(ce,Te),he,ke),te,h)},et,Dt)},L.translateBy=function(V,It,et,Dt){L.transform(V,function(){return r(this.__zoom.translate(typeof It=="function"?It.apply(this,arguments):It,typeof et=="function"?et.apply(this,arguments):et),e.apply(this,arguments),h)},null,Dt)},L.translateTo=function(V,It,et,Dt,te){L.transform(V,function(){var ce=e.apply(this,arguments),he=this.__zoom,ke=Dt==null?F(ce):typeof Dt=="function"?Dt.apply(this,arguments):Dt;return r(Fi.translate(ke[0],ke[1]).scale(he.k).translate(typeof It=="function"?-It.apply(this,arguments):-It,typeof et=="function"?-et.apply(this,arguments):-et),ce,h)},Dt,te)};function Z(V,It){return It=Math.max(c[0],Math.min(c[1],It)),It===V.k?V:new ir(It,V.x,V.y)}function vt(V,It,et){var Dt=It[0]-et[0]*V.k,te=It[1]-et[1]*V.k;return Dt===V.x&&te===V.y?V:new ir(V.k,Dt,te)}function F(V){return[(+V[0][0]+ +V[1][0])/2,(+V[0][1]+ +V[1][1])/2]}function Ot(V,It,et,Dt){V.on("start.zoom",function(){Vt(this,arguments).event(Dt).start()}).on("interrupt.zoom end.zoom",function(){Vt(this,arguments).event(Dt).end()}).tween("zoom",function(){var te=this,ce=arguments,he=Vt(te,ce).event(Dt),ke=e.apply(te,ce),Te=et==null?F(ke):typeof et=="function"?et.apply(te,ce):et,kn=Math.max(ke[1][0]-ke[0][0],ke[1][1]-ke[0][1]),Ze=te.__zoom,un=typeof It=="function"?It.apply(te,ce):It,qn=w(Ze.invert(Te).concat(kn/Ze.k),un.invert(Te).concat(kn/un.k));return function(wn){if(wn===1)wn=un;else{var bn=qn(wn),or=kn/bn[2];wn=new ir(or,Te[0]-bn[0]*or,Te[1]-bn[1]*or)}he.zoom(null,wn)}})}function Vt(V,It,et){return!et&&V.__zooming||new Xt(V,It)}function Xt(V,It){this.that=V,this.args=It,this.active=0,this.sourceEvent=null,this.extent=e.apply(V,It),this.taps=0}Xt.prototype={event:function(V){return V&&(this.sourceEvent=V),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(V,It){return this.mouse&&V!=="mouse"&&(this.mouse[1]=It.invert(this.mouse[0])),this.touch0&&V!=="touch"&&(this.touch0[1]=It.invert(this.touch0[0])),this.touch1&&V!=="touch"&&(this.touch1[1]=It.invert(this.touch1[0])),this.that.__zoom=It,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(V){var It=ze(this.that).datum();g.call(V,this.that,new Ls(V,{sourceEvent:this.sourceEvent,target:L,type:V,transform:this.that.__zoom,dispatch:g}),It)}};function re(V,...It){if(!t.apply(this,arguments))return;var et=Vt(this,It).event(V),Dt=this.__zoom,te=Math.max(c[0],Math.min(c[1],Dt.k*Math.pow(2,a.apply(this,arguments)))),ce=Ye(V);if(et.wheel)(et.mouse[0][0]!==ce[0]||et.mouse[0][1]!==ce[1])&&(et.mouse[1]=Dt.invert(et.mouse[0]=ce)),clearTimeout(et.wheel);else{if(Dt.k===te)return;et.mouse=[ce,Dt.invert(ce)],xi(this),et.start()}ai(V),et.wheel=setTimeout(he,P),et.zoom("mouse",r(vt(Z(Dt,te),et.mouse[0],et.mouse[1]),et.extent,h));function he(){et.wheel=null,et.end()}}function Se(V,...It){if(A||!t.apply(this,arguments))return;var et=V.currentTarget,Dt=Vt(this,It,!0).event(V),te=ze(V.view).on("mousemove.zoom",Te,!0).on("mouseup.zoom",kn,!0),ce=Ye(V,et),he=V.clientX,ke=V.clientY;hi(V.view),Hi(V),Dt.mouse=[ce,this.__zoom.invert(ce)],xi(this),Dt.start();function Te(Ze){if(ai(Ze),!Dt.moved){var un=Ze.clientX-he,qn=Ze.clientY-ke;Dt.moved=un*un+qn*qn>$}Dt.event(Ze).zoom("mouse",r(vt(Dt.that.__zoom,Dt.mouse[0]=Ye(Ze,et),Dt.mouse[1]),Dt.extent,h))}function kn(Ze){te.on("mousemove.zoom mouseup.zoom",null),fi(Ze.view,Dt.moved),ai(Ze),Dt.event(Ze).end()}}function ue(V,...It){if(t.apply(this,arguments)){var et=this.__zoom,Dt=Ye(V.changedTouches?V.changedTouches[0]:V,this),te=et.invert(Dt),ce=et.k*(V.shiftKey?.5:2),he=r(vt(Z(et,ce),Dt,te),e.apply(this,It),h);ai(V),d>0?ze(this).transition().duration(d).call(Ot,he,Dt,V):ze(this).call(L.transform,he,Dt,V)}}function qe(V,...It){if(t.apply(this,arguments)){var et=V.touches,Dt=et.length,te=Vt(this,It,V.changedTouches.length===Dt).event(V),ce,he,ke,Te;for(Hi(V),he=0;he<Dt;++he)ke=et[he],Te=Ye(ke,this),Te=[Te,this.__zoom.invert(Te),ke.identifier],te.touch0?!te.touch1&&te.touch0[2]!==Te[2]&&(te.touch1=Te,te.taps=0):(te.touch0=Te,ce=!0,te.taps=1+!!x);x&&(x=clearTimeout(x)),ce&&(te.taps<2&&(O=Te[0],x=setTimeout(function(){x=null},_)),xi(this),te.start())}}function Ge(V,...It){if(this.__zooming){var et=Vt(this,It).event(V),Dt=V.changedTouches,te=Dt.length,ce,he,ke,Te;for(ai(V),ce=0;ce<te;++ce)he=Dt[ce],ke=Ye(he,this),et.touch0&&et.touch0[2]===he.identifier?et.touch0[0]=ke:et.touch1&&et.touch1[2]===he.identifier&&(et.touch1[0]=ke);if(he=et.that.__zoom,et.touch1){var kn=et.touch0[0],Ze=et.touch0[1],un=et.touch1[0],qn=et.touch1[1],wn=(wn=un[0]-kn[0])*wn+(wn=un[1]-kn[1])*wn,bn=(bn=qn[0]-Ze[0])*bn+(bn=qn[1]-Ze[1])*bn;he=Z(he,Math.sqrt(wn/bn)),ke=[(kn[0]+un[0])/2,(kn[1]+un[1])/2],Te=[(Ze[0]+qn[0])/2,(Ze[1]+qn[1])/2]}else if(et.touch0)ke=et.touch0[0],Te=et.touch0[1];else return;et.zoom("touch",r(vt(he,ke,Te),et.extent,h))}}function Qe(V,...It){if(this.__zooming){var et=Vt(this,It).event(V),Dt=V.changedTouches,te=Dt.length,ce,he;for(Hi(V),A&&clearTimeout(A),A=setTimeout(function(){A=null},_),ce=0;ce<te;++ce)he=Dt[ce],et.touch0&&et.touch0[2]===he.identifier?delete et.touch0:et.touch1&&et.touch1[2]===he.identifier&&delete et.touch1;if(et.touch1&&!et.touch0&&(et.touch0=et.touch1,delete et.touch1),et.touch0)et.touch0[1]=this.__zoom.invert(et.touch0[0]);else if(et.end(),et.taps===2&&(he=Ye(he,this),Math.hypot(O[0]-he[0],O[1]-he[1])<S)){var ke=ze(this).on("dblclick.zoom");ke&&ke.apply(this,arguments)}}}return L.wheelDelta=function(V){return arguments.length?(a=typeof V=="function"?V:_i(+V),L):a},L.filter=function(V){return arguments.length?(t=typeof V=="function"?V:_i(!!V),L):t},L.touchable=function(V){return arguments.length?(l=typeof V=="function"?V:_i(!!V),L):l},L.extent=function(V){return arguments.length?(e=typeof V=="function"?V:_i([[+V[0][0],+V[0][1]],[+V[1][0],+V[1][1]]]),L):e},L.scaleExtent=function(V){return arguments.length?(c[0]=+V[0],c[1]=+V[1],L):[c[0],c[1]]},L.translateExtent=function(V){return arguments.length?(h[0][0]=+V[0][0],h[1][0]=+V[1][0],h[0][1]=+V[0][1],h[1][1]=+V[1][1],L):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},L.constrain=function(V){return arguments.length?(r=V,L):r},L.duration=function(V){return arguments.length?(d=+V,L):d},L.interpolate=function(V){return arguments.length?(w=V,L):w},L.on=function(){var V=g.on.apply(g,arguments);return V===g?L:V},L.clickDistance=function(V){return arguments.length?($=(V=+V)*V,L):Math.sqrt($)},L.tapDistance=function(V){return arguments.length?(S=+V,L):S},L}function $s(t,e,r){return a=>{let l=a.id.startsWith("tags/")?e.tags:e.posts;if(a.id.startsWith("tags/")){let h=r.get(a.id)||0;return l+2*Math.sqrt(h)}let c=t.links.filter(h=>h.source.id===a.id||h.target.id===a.id).length;return l+Math.sqrt(c)}}function qs(t,e,r,a,l,c,h,d){let w=h>d?"x":"y",g=Math.max(h,d),x=Math.min(h,d);t.nodes.forEach(A=>{w==="x"?(A.x=(Math.random()-.5)*g*.8,A.y=(Math.random()-.5)*x*.3):(A.x=(Math.random()-.5)*x*.3,A.y=(Math.random()-.5)*g*.8)});let O=ks(t.nodes).force("charge",Ss().strength(-100*r.repelForce)).force("center",Qa().strength(r.centerForce)).force("link",ws(t.links).distance(A=>{switch(A.type){case"tag-tag":return a.tagTag;case"tag-post":return a.tagPost;case"post-post":return a.postPost;default:return 30}}).strength(A=>{switch(A.type){case"tag-tag":return l.tagTag;case"tag-post":return l.tagPost;case"post-post":return l.postPost;default:return 1}})).force("collide",ys(e).iterations(3));if(c){let A=Math.min(h,d)/2*.8;O.force("radial",Os(A).strength(.2))}return O}var zs=class{tweens=new Map;set(t,e){this.tweens.get(t)?.stop(),this.tweens.set(t,e)}get(t){return this.tweens.get(t)}clear(){this.tweens.forEach(t=>t.stop()),this.tweens.clear()}updateAll(t){this.tweens.forEach(e=>e.update(t))}};function Bs(t,e){let r=document.createElement("canvas"),a=r.getContext("2d"),l=window.devicePixelRatio||1;return r.style.width=`${t}px`,r.style.height=`${e}px`,r.width=t*l,r.height=e*l,a.scale(l,l),{canvas:r,ctx:a,width:t,height:e,dpr:l,destroy:()=>{r.remove()}}}var Ai={};async function Ds(t,e){return Ai[e]!==void 0?Ai[e]:new Promise(r=>{let a=new Image;a.onload=()=>{Ai[e]=a,r(a)},a.onerror=l=>{console.warn("Failed to load icon image:",l),Ai[e]=null,r(null)},a.src=t})}function Rs(){return["--secondary","--tertiary","--gray","--light","--lightgray","--dark","--darkgray","--bodyFont"].reduce((t,e)=>(t[e]=getComputedStyle(document.documentElement).getPropertyValue(e),t),{})}function Fs(t,e,r,a){return l=>l.id===t?r["--secondary"]:l.id.startsWith("tags/")?a.get(l.id)??r["--tertiary"]:e.has(l.id)?r["--tertiary"]:r["--gray"]}async function Hs(t,e,r,a,l){let{node:c,nodeRadius:h,color:d,computedStyleMap:w,scale:g,opacityScale:x,fontSize:O,slug:A,labelAnchorConfig:_,tagIndex:P}=t,$=c.id,S=$.startsWith("tags/"),L=S||$===A?1:Math.max((g*x-1)/3.75,0),Z=h(c),vt=_.baseY+(Z-2)*_.scaleFactor,F={text:c.text,alpha:L,scale:1/g,fontSize:O*15,color:w["--dark"],fontFamily:w["--bodyFont"],anchor:{x:.5,y:vt},x:0,y:0,initialAlpha:L},Ot=L,Vt=d(c),Xt=S?w["--gray"]:Vt,re={simulationData:c,label:F,color:Vt,alpha:1,active:!1,radius:Z,fillColor:Xt,strokeColor:S?Vt:void 0,strokeWidth:S?2:void 0},Se=null;if(S){let ue=$.substring(5);ue.endsWith("/")&&(ue=ue.substring(0,ue.length-1)),Se=cn(ue,P)}else Se=sn(c.tags,P);if(Se){let ue=Se;Ke.getIcon(ue).then(qe=>{qe&&Ds(qe.dataUri,ue).then(Ge=>{if(!Ge)return;let Qe=Z*1.4;re.iconImage=Ge,re.iconSize=Qe})})}return{nodeRenderData:re}}function Vs(t,e){return{simulationData:t,color:e["--lightgray"],alpha:1,active:!1}}var si=Object.freeze({Linear:Object.freeze({None:function(t){return t},In:function(t){return t},Out:function(t){return t},InOut:function(t){return t}}),Quadratic:Object.freeze({In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}}),Cubic:Object.freeze({In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}}),Quartic:Object.freeze({In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}}),Quintic:Object.freeze({In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}}),Sinusoidal:Object.freeze({In:function(t){return 1-Math.sin((1-t)*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return .5*(1-Math.sin(Math.PI*(.5-t)))}}),Exponential:Object.freeze({In:function(t){return t===0?0:Math.pow(1024,t-1)},Out:function(t){return t===1?1:1-Math.pow(2,-10*t)},InOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}}),Circular:Object.freeze({In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}}),Elastic:Object.freeze({In:function(t){return t===0?0:t===1?1:-Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI)},Out:function(t){return t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t-.1)*5*Math.PI)+1},InOut:function(t){return t===0?0:t===1?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin((t-1.1)*5*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin((t-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(t){var e=1.70158;return t===1?1:t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return t===0?0:--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)}}),Bounce:Object.freeze({In:function(t){return 1-si.Bounce.Out(1-t)},Out:function(t){return t<.36363636363636365?7.5625*t*t:t<.7272727272727273?7.5625*(t-=.5454545454545454)*t+.75:t<.9090909090909091?7.5625*(t-=.8181818181818182)*t+.9375:7.5625*(t-=.9545454545454546)*t+.984375},InOut:function(t){return t<.5?si.Bounce.In(t*2)*.5:si.Bounce.Out(t*2-1)*.5+.5}}),generatePow:function(t){return t===void 0&&(t=4),t=t<Number.EPSILON?Number.EPSILON:t,t=t>1e4?1e4:t,{In:function(e){return Math.pow(e,t)},Out:function(e){return 1-Math.pow(1-e,t)},InOut:function(e){return e<.5?Math.pow(e*2,t)/2:(1-Math.pow(2-e*2,t))/2+.5}}}}),li=function(){return performance.now()},Ei=(function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,e)}return t.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(r){return e._tweens[r]})},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(){for(var e,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];for(var l=0,c=r;l<c.length;l++){var h=c[l];(e=h._group)===null||e===void 0||e.remove(h),h._group=this,this._tweens[h.getId()]=h,this._tweensAddedDuringUpdate[h.getId()]=h}},t.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var a=0,l=e;a<l.length;a++){var c=l[a];c._group=void 0,delete this._tweens[c.getId()],delete this._tweensAddedDuringUpdate[c.getId()]}},t.prototype.allStopped=function(){return this.getAll().every(function(e){return!e.isPlaying()})},t.prototype.update=function(e,r){e===void 0&&(e=li()),r===void 0&&(r=!0);var a=Object.keys(this._tweens);if(a.length!==0)for(;a.length>0;){this._tweensAddedDuringUpdate={};for(var l=0;l<a.length;l++){var c=this._tweens[a[l]],h=!r;c&&c.update(e,h)===!1&&!r&&this.remove(c)}a=Object.keys(this._tweensAddedDuringUpdate)}},t})(),Vr={Linear:function(t,e){var r=t.length-1,a=r*e,l=Math.floor(a),c=Vr.Utils.Linear;return e<0?c(t[0],t[1],a):e>1?c(t[r],t[r-1],r-a):c(t[l],t[l+1>r?r:l+1],a-l)},Bezier:function(t,e){for(var r=0,a=t.length-1,l=Math.pow,c=Vr.Utils.Bernstein,h=0;h<=a;h++)r+=l(1-e,a-h)*l(e,h)*t[h]*c(a,h);return r},CatmullRom:function(t,e){var r=t.length-1,a=r*e,l=Math.floor(a),c=Vr.Utils.CatmullRom;return t[0]===t[r]?(e<0&&(l=Math.floor(a=r*(1+e))),c(t[(l-1+r)%r],t[l],t[(l+1)%r],t[(l+2)%r],a-l)):e<0?t[0]-(c(t[0],t[0],t[1],t[1],-a)-t[0]):e>1?t[r]-(c(t[r],t[r],t[r-1],t[r-1],a-r)-t[r]):c(t[l?l-1:0],t[l],t[r<l+1?r:l+1],t[r<l+2?r:l+2],a-l)},Utils:{Linear:function(t,e,r){return(e-t)*r+t},Bernstein:function(t,e){var r=Vr.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(function(){var t=[1];return function(e){var r=1;if(t[e])return t[e];for(var a=e;a>1;a--)r*=a;return t[e]=r,r}})(),CatmullRom:function(t,e,r,a,l){var c=(r-t)*.5,h=(a-e)*.5,d=l*l,w=l*d;return(2*e-2*r+c+h)*w+(-3*e+3*r-2*c-h)*d+c*l+e}}},xo=(function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t})(),Vi=new Ei,ki=(function(){function t(e,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=si.Linear.None,this._interpolationFunction=Vr.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=xo.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=e,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Vi,Vi.add(this))}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.getDuration=function(){return this._duration},t.prototype.to=function(e,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},t.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},t.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},t.prototype.start=function(e,r){if(e===void 0&&(e=li()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var a in this._valuesStartRepeat)this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var l={};for(var c in this._valuesEnd)l[c]=this._valuesEnd[c];this._valuesEnd=l}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},t.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},t.prototype._setupProperties=function(e,r,a,l,c){for(var h in a){var d=e[h],w=Array.isArray(d),g=w?"array":typeof d,x=!w&&Array.isArray(a[h]);if(!(g==="undefined"||g==="function")){if(x){var O=a[h];if(O.length===0)continue;for(var A=[d],_=0,P=O.length;_<P;_+=1){var $=this._handleRelativeValue(d,O[_]);if(isNaN($)){x=!1,console.warn("Found invalid interpolation list. Skipping.");break}A.push($)}x&&(a[h]=A)}if((g==="object"||w)&&d&&!x){r[h]=w?[]:{};var S=d;for(var L in S)r[h][L]=S[L];l[h]=w?[]:{};var O=a[h];if(!this._isDynamic){var Z={};for(var L in O)Z[L]=O[L];a[h]=O=Z}this._setupProperties(S,r[h],O,l[h],c)}else(typeof r[h]>"u"||c)&&(r[h]=d),w||(r[h]*=1),x?l[h]=a[h].slice().reverse():l[h]=r[h]||0}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},t.prototype.pause=function(e){return e===void 0&&(e=li()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this)},t.prototype.resume=function(e){return e===void 0&&(e=li()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this)},t.prototype.stopChainedTweens=function(){for(var e=0,r=this._chainedTweens.length;e<r;e++)this._chainedTweens[e].stop();return this},t.prototype.group=function(e){return e?(e.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},t.prototype.remove=function(){var e;return(e=this._group)===null||e===void 0||e.remove(this),this},t.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},t.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},t.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},t.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},t.prototype.easing=function(e){return e===void 0&&(e=si.Linear.None),this._easingFunction=e,this},t.prototype.interpolation=function(e){return e===void 0&&(e=Vr.Linear),this._interpolationFunction=e,this},t.prototype.chain=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this._chainedTweens=e,this},t.prototype.onStart=function(e){return this._onStartCallback=e,this},t.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},t.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},t.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},t.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},t.prototype.onStop=function(e){return this._onStopCallback=e,this},t.prototype.update=function(e,r){var a=this,l;if(e===void 0&&(e=li()),r===void 0&&(r=t.autoStartOnUpdate),this._isPaused)return!0;var c;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(e,!0);else return!1;if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var h=e-this._startTime,d=this._duration+((l=this._repeatDelayTime)!==null&&l!==void 0?l:this._delayTime),w=this._duration+this._repeat*d,g=function(){if(a._duration===0||h>w)return 1;var $=Math.trunc(h/d),S=h-$*d,L=Math.min(S/a._duration,1);return L===0&&h===a._duration?1:L},x=g(),O=this._easingFunction(x);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,O),this._onUpdateCallback&&this._onUpdateCallback(this._object,x),this._duration===0||h>=this._duration)if(this._repeat>0){var A=Math.min(Math.trunc((h-this._duration)/d)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=A);for(c in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[c]=="string"&&(this._valuesStartRepeat[c]=this._valuesStartRepeat[c]+parseFloat(this._valuesEnd[c])),this._yoyo&&this._swapEndStartRepeatValues(c),this._valuesStart[c]=this._valuesStartRepeat[c];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=d*A,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var _=0,P=this._chainedTweens.length;_<P;_++)this._chainedTweens[_].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(e,r,a,l){for(var c in a)if(r[c]!==void 0){var h=r[c]||0,d=a[c],w=Array.isArray(e[c]),g=Array.isArray(d),x=!w&&g;x?e[c]=this._interpolationFunction(d,l):typeof d=="object"&&d?this._updateProperties(e[c],h,d,l):(d=this._handleRelativeValue(h,d),typeof d=="number"&&(e[c]=h+(d-h)*l))}},t.prototype._handleRelativeValue=function(e,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?e+parseFloat(r):parseFloat(r)},t.prototype._swapEndStartRepeatValues=function(e){var r=this._valuesStartRepeat[e],a=this._valuesEnd[e];typeof a=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(a):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=r},t.autoStartOnUpdate=!1,t})(),yl=xo.nextId,Jn=Vi,vl=Jn.getAll.bind(Jn),wl=Jn.removeAll.bind(Jn),bl=Jn.add.bind(Jn),xl=Jn.remove.bind(Jn),_l=Jn.update.bind(Jn);function Us(t,e,r,a){t.get("link")?.stop();let l=new Ei;for(let c of e){let h=1;r&&(h=c.active?1:.2),c.color=c.active?a["--gray"]:a["--lightgray"],l.add(new ki(c).to({alpha:h},200))}l.getAll().forEach(c=>c.start()),t.set("link",{update:l.update.bind(l),stop(){l.getAll().forEach(c=>c.stop())}})}function Ws(t,e,r,a){t.get("label")?.stop();let l=new Ei,c=1/a,h=c*1.1;for(let d of e){let w=d.simulationData.id;r===w?l.add(new ki(d.label).to({alpha:1,scale:h},100)):l.add(new ki(d.label).to({alpha:d.label.initialAlpha,scale:c},100))}l.getAll().forEach(d=>d.start()),t.set("label",{update:l.update.bind(l),stop(){l.getAll().forEach(d=>d.stop())}})}function Xs(t,e,r,a){t.get("hover")?.stop();let l=new Ei;for(let c of e){let h=1;r!==null&&a&&(h=c.active?1:.2),l.add(new ki(c).to({alpha:h},200))}l.getAll().forEach(c=>c.start()),t.set("hover",{update:l.update.bind(l),stop(){l.getAll().forEach(c=>c.stop())}})}function Ys(t,e,r,a,l,c,h){Us(t,e,a,l),Ws(t,r,a,c),Xs(t,r,a,h)}function Ks(t,e,r,a){if(t.save(),t.globalAlpha=e.alpha,t.beginPath(),t.arc(r,a,e.radius,0,2*Math.PI),t.fillStyle=e.fillColor,t.fill(),e.strokeColor&&e.strokeWidth&&(t.strokeStyle=e.strokeColor,t.lineWidth=e.strokeWidth,t.stroke()),e.iconImage&&e.iconSize){let l=r-e.iconSize/2,c=a-e.iconSize/2;t.drawImage(e.iconImage,l,c,e.iconSize,e.iconSize)}t.restore()}function Js(t,e,r,a,l){t.save(),t.globalAlpha=e.alpha;let c=e.fontSize*e.scale;t.font=`${c}px ${e.fontFamily}`,t.fillStyle=e.color,t.textAlign="center",t.textBaseline="top";let h=a+l+2;t.fillText(e.text,r,h),t.restore()}function Gs(t,e,r,a,l,c,h){t.save(),t.globalAlpha=h,t.strokeStyle=e.color,t.lineWidth=1,t.beginPath(),t.moveTo(r,a),t.lineTo(l,c),t.stroke(),t.restore()}function Qs(t,e,r,a,l,c,h,d,w){let{ctx:g}=a,x=!1;function O(A){if(!x){g.clearRect(0,0,l,c),g.save(),g.translate(w.x,w.y),g.scale(w.k,w.k);for(let _ of e){let P=_.simulationData,$=P.source.x+l/2,S=P.source.y+c/2,L=P.target.x+l/2,Z=P.target.y+c/2,vt=L-$,F=Z-S,Ot=Math.sqrt(vt*vt+F*F),Vt=P.type==="tag-tag"?h.tagTag:P.type==="tag-post"?h.tagPost:h.postPost,Xt=P.type==="tag-tag"?d.tagTag:P.type==="tag-post"?d.tagPost:d.postPost,re=Sn(Ot,Vt,Xt.min,Xt.max)*_.alpha;Gs(g,_,$,S,L,Z,re)}for(let _ of t){let{x:P,y:$}=_.simulationData;if(!P||!$)continue;let S=P+l/2,L=$+c/2;Ks(g,_,S,L)}for(let _ of t){let{x:P,y:$}=_.simulationData;if(!P||!$)continue;let S=P+l/2,L=$+c/2;Js(g,_.label,S,L,_.radius)}g.restore(),r.updateAll(A),requestAnimationFrame(O)}}return requestAnimationFrame(O),()=>{x=!0,a.destroy()}}function Zs(t,e,r,a,l,c){ze(t).call(i().container(()=>t).subject(()=>e.nodes.find(h=>h.id===r.hoveredNodeId)).on("start",function(h){h.active||a.alphaTarget(1).restart(),h.subject.fx=h.subject.x,h.subject.fy=h.subject.y,h.subject.__initialDragPos={x:h.subject.x,y:h.subject.y,fx:h.subject.fx,fy:h.subject.fy},r.dragStartTime=Date.now(),r.dragging=!0}).on("drag",function(h){let d=h.subject.__initialDragPos;h.subject.fx=d.x+(h.x-d.x)/l.k,h.subject.fy=d.y+(h.y-d.y)/l.k}).on("end",function(h){if(h.active||a.alphaTarget(0),h.subject.fx=null,h.subject.fy=null,r.dragging=!1,Date.now()-r.dragStartTime<500){let d="/"+e.nodes.find(w=>w.id===h.subject.id).id;window.spaNavigate(new URL(d,window.location.toString()))}}))}function tl(t,e,r,a,l){t.addEventListener("click",c=>{let h=t.getBoundingClientRect(),d=c.clientX-h.left,w=c.clientY-h.top,g=(d-l.x)/l.k,x=(w-l.y)/l.k;for(let O of e){let{x:A,y:_}=O.simulationData;if(!A||!_)continue;let P=A+r/2,$=_+a/2,S=g-P,L=x-$;if(Math.sqrt(S*S+L*L)<O.radius){let Z="/"+O.simulationData.id;window.spaNavigate(new URL(Z,window.location.toString()));break}}})}function el(t,e,r,a,l,c,h){ze(t).call(Is().extent([[0,0],[e,r]]).scaleExtent([.25,4]).on("zoom",({transform:d})=>{h.x=d.x,h.y=d.y,h.k=d.k;let w=d.k*a,g=Math.max((w-1)/3.75,0);for(let x of l)if(!x.active){let O=x.simulationData.id.startsWith("tags/"),A=x.simulationData.id===c;x.label.alpha=O||A?1:g}}))}function nl(t,e,r,a,l,c,h,d){t.addEventListener("mousemove",w=>{let g=t.getBoundingClientRect(),x=w.clientX-g.left,O=w.clientY-g.top,A=(x-h.x)/h.k,_=(O-h.y)/h.k,P=null,$=1/0;for(let S of e){let{x:L,y:Z}=S.simulationData;if(!L||!Z)continue;let vt=L+l/2,F=Z+c/2,Ot=A-vt,Vt=_-F,Xt=Math.sqrt(Ot*Ot+Vt*Vt);Xt<S.radius&&Xt<$&&(P=S.simulationData.id,$=Xt)}if(P!==a.hoveredNodeId){if(a.hoveredNodeId=P,P){if(e.find(S=>S.simulationData.id===P)){let S=new Set;for(let L of r)L.simulationData.source.id===P&&S.add(L.simulationData.target.id),L.simulationData.target.id===P&&S.add(L.simulationData.source.id);a.hoveredNeighbours=S;for(let L of e)L.active=L.simulationData.id===P||S.has(L.simulationData.id);for(let L of r)L.active=L.simulationData.source.id===P||L.simulationData.target.id===P}t.style.cursor="pointer"}else{for(let S of e)S.active=!1;for(let S of r)S.active=!1;a.hoveredNeighbours.clear(),t.style.cursor="default"}a.dragging||d()}}),t.addEventListener("mouseleave",()=>{if(a.hoveredNodeId!==null){a.hoveredNodeId=null,a.hoveredNeighbours.clear();for(let w of e)w.active=!1;for(let w of r)w.active=!1;t.style.cursor="default",a.dragging||d()}})}function rl(t){return typeof t=="number"?{tagTag:t,tagPost:t,postPost:t}:{tagTag:t?.tagTag??30,tagPost:t?.tagPost??30,postPost:t?.postPost??30}}function il(t){return{tagTag:t?.tagTag??2,tagPost:t?.tagPost??1,postPost:t?.postPost??1}}function ol(t){if(!t)return{tagTag:{min:.3,max:1},tagPost:{min:.2,max:1},postPost:{min:.1,max:.8}};if("tagTag"in t||"tagPost"in t||"postPost"in t){let l=t;return{tagTag:{min:l.tagTag?.min??.3,max:l.tagTag?.max??1},tagPost:{min:l.tagPost?.min??.2,max:l.tagPost?.max??1},postPost:{min:l.postPost?.min??.1,max:l.postPost?.max??.8}}}let e=t,r=e.min??.2,a=e.max??1;return{tagTag:{min:r,max:a},tagPost:{min:r,max:a},postPost:{min:r,max:a}}}function al(t){return typeof t=="number"?{tags:t,posts:t}:{tags:t?.tags??4,posts:t?.posts??2}}function sl(t){return{baseY:t?.baseY??1.2,scaleFactor:t?.scaleFactor??.05}}async function Ui(t,e){let r=ct(e);e.startsWith("tags/")&&!r.endsWith("/")&&(r=r+"/");let a=Wt();pt(t);let l=await je();await Ke.preloadIcons(Mn(l));let{drag:c,zoom:h,depth:d,scale:w,repelForce:g,centerForce:x,linkDistance:O,fontSize:A,opacityScale:_,removeTags:P,showTags:$,focusOnHover:S,enableRadial:L,linkStrength:Z,tagColorGradient:vt,edgeOpacity:F,baseSize:Ot,labelAnchor:Vt}=Le(t),Xt=rl(O),re=il(Z),Se=ol(F),ue=al(Ot),qe=sl(Vt),Ge=await fe(),{links:Qe,tags:V}=hn(Ge,l,$,P),It=new Set(Ge.keys()),et=en(r,Qe,It,V,d,$),Dt=xn(et,Ge),te=zn(Dt,Qe,et),ce=We(V,l),he=tn(V,l),ke=t.offsetWidth,Te=Math.max(t.offsetHeight,250),kn=$s(te,ue,ce),Ze=qs(te,kn,{repelForce:g,centerForce:x},Xt,re,L??!1,ke,Te),un=Rs(),qn=Fs(r,a,un,he),wn=new zs,bn={hoveredNodeId:null,hoveredNeighbours:new Set,dragStartTime:0,dragging:!1},or=[],Or=[],ui={x:0,y:0,k:1},Yi=()=>{Ys(wn,or,Or,bn.hoveredNodeId,un,w,S??!1)};wn.clear();let Ur=Bs(ke,Te);t.appendChild(Ur.canvas);for(let Ki of te.nodes){let Ji=await Hs({node:Ki,nodeRadius:kn,color:qn,computedStyleMap:un,scale:w,opacityScale:_,fontSize:A,slug:r,labelAnchorConfig:qe,tagIndex:l},bn,bn,or,Or,Yi);Or.push(Ji.nodeRenderData)}for(let Ki of te.links){let Ji=Vs(Ki,un);or.push(Ji)}return nl(Ur.canvas,Or,or,bn,ke,Te,ui,Yi),c?Zs(Ur.canvas,te,bn,Ze,ui,Yi):tl(Ur.canvas,Or,ke,Te,ui),h&&el(Ur.canvas,ke,Te,_,Or,r,ui),Qs(Or,or,wn,Ur,ke,Te,Xt,Se,ui)}var Wi=[],Si=[];function _o(){for(let t of Wi)t();Wi=[]}function Xi(){for(let t of Si)t();Si=[]}async function ll(t){let e=t.detail.url,r=ct(e);e.startsWith("tags/")&&!r.endsWith("/")&&(r=r+"/"),Ce(r),document.querySelectorAll(".global-graph-outer").forEach(A=>{A.parentElement!==document.body&&document.body.appendChild(A)});async function a(){_o();let A=document.getElementsByClassName("graph-container");for(let _ of A)Wi.push(await Ui(_,e))}await a();let l=()=>{a()};document.addEventListener("themechange",l),window.addCleanup(()=>{document.removeEventListener("themechange",l)});async function c(){Xi();let A=document.getElementsByClassName("full-graph-container");for(let _ of A)Si.push(await Ui(_,e))}await c();let h=()=>{c()};document.addEventListener("themechange",h),window.addCleanup(()=>{document.removeEventListener("themechange",h)});let d=[...document.getElementsByClassName("global-graph-outer")];async function w(){let A=jt(window);for(let _ of d){_.classList.add("active");let P=_.querySelector(".global-graph-container");dt(_,g),P&&Si.push(await Ui(P,A))}}function g(){Xi();for(let A of d)A.classList.remove("active")}async function x(A){A.key==="g"&&(A.ctrlKey||A.metaKey)&&!A.shiftKey&&(A.preventDefault(),d.some(_=>_.classList.contains("active"))?g():w())}let O=document.getElementsByClassName("global-graph-icon");Array.from(O).forEach(A=>{A.addEventListener("click",w),window.addCleanup(()=>A.removeEventListener("click",w))}),document.addEventListener("keydown",x),window.addCleanup(()=>{document.removeEventListener("keydown",x),_o(),Xi()})}document.addEventListener("nav",ll)})(),(function(){var ve=class{cache=new Map;parseIconId(rt){let G=rt.split(":");if(G.length!==2)return console.warn(`Invalid icon identifier format: ${rt}. Expected "provider:icon-name"`),null;let[lt,K]=G;return lt!=="mdi"&&lt!=="custom"?(console.warn(`Unknown icon provider: ${lt}. Supported: mdi, custom`),null):{provider:lt,iconName:K}}getIconUrl(rt,G){switch(rt){case"mdi":return`https://cdn.jsdelivr.net/npm/@mdi/svg@7.4.47/svg/${G}.svg`;case"custom":return`/static/icons/${G}.svg`;default:throw new Error(`No URL builder for provider: ${rt}`)}}async fetchIcon(rt){let G=this.parseIconId(rt);if(!G)return null;let lt=this.getIconUrl(G.provider,G.iconName);try{let K=await fetch(lt);return K.ok?await K.text():(console.warn(`Failed to fetch icon ${rt} from ${lt}: ${K.status}`),null)}catch(K){return console.warn(`Error fetching icon ${rt}:`,K),null}}async getIcon(rt){if(this.cache.has(rt))return this.cache.get(rt);let G=await this.fetchIcon(rt);if(!G)return null;G=G.replace(/\sfill="[^"]*"/g,""),G=G.replace(/<path\s/g,'<path fill="white" '),G=G.replace(/<circle\s/g,'<circle fill="white" '),G=G.replace(/<rect\s/g,'<rect fill="white" '),G=G.replace(/<ellipse\s/g,'<ellipse fill="white" '),G=G.replace(/<polygon\s/g,'<polygon fill="white" '),G=G.replace(/<polyline\s/g,'<polyline fill="white" ');let lt=`data:image/svg+xml;base64,${btoa(G)}`,K={svgContent:G,dataUri:lt};return this.cache.set(rt,K),K}async preloadIcons(rt){await Promise.all(rt.map(G=>this.getIcon(G)))}clearCache(){this.cache.clear()}},kt=new ve;async function Rt(){let rt=document.querySelectorAll("ul.tags[data-component='post-listing']");if(rt.length!==0)try{let G=await fetchTagData,lt=new Set;for(let K of rt){let we=K.querySelectorAll("li.tag-item");for(let Pe of we){let Ne=Pe.dataset.tag;if(!Ne)continue;let dt=G.tags[Ne];dt?.icon&&lt.add(dt.icon)}}lt.size>0&&await kt.preloadIcons(Array.from(lt));for(let K of rt){let we=K.dataset.showcount==="true",Pe=K.querySelectorAll("li.tag-item");for(let Ne of Pe){let dt=Ne.dataset.tag;if(!dt)continue;let pt=G.tags[dt];if(!pt)continue;let _t=Ne.querySelector("a.tag-link");if(!_t)continue;_t.href=`/tags/${dt}/`;let wt=_t.querySelector(".tag-icon-badge"),at=pt.color||"#888888";if(wt.style.borderColor=at,wt.setAttribute("title",dt),pt.icon){let Kt=await kt.getIcon(pt.icon);if(Kt){wt.innerHTML=Kt.svgContent;let Gt=wt.querySelector("svg");Gt&&(Gt.setAttribute("width","18"),Gt.setAttribute("height","18"),Gt.style.fill=at)}}let jt=_t.querySelector(".tag-name"),ct=dt.split("/").pop()||dt;if(jt.textContent=ct,we){let Kt=_t.querySelector(".tag-count");Kt.textContent=`(${pt.totalPostCount})`}else _t.querySelector(".tag-count")?.remove()}}}catch(G){console.error("Error initializing PostListing tags:",G),G instanceof Error&&(console.error("Error message:",G.message),console.error("Error stack:",G.stack))}}document.addEventListener("nav",Rt)})(),(function(){var ve=Object.create,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyNames,G=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,K=(n,o)=>()=>(n&&(o=n(n=0)),o),we=(n,o)=>()=>(o||n((o={exports:{}}).exports,o),o.exports),Pe=(n,o)=>{for(var i in o)kt(n,i,{get:o[i],enumerable:!0})},Ne=(n,o,i,u)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of rt(o))!lt.call(n,s)&&s!==i&&kt(n,s,{get:()=>o[s],enumerable:!(u=Rt(o,s))||u.enumerable});return n},dt=(n,o,i)=>(i=n!=null?ve(G(n)):{},Ne(o||!n||!n.__esModule?kt(i,"default",{value:n,enumerable:!0}):i,n)),pt=we((n,o)=>{"use strict";o.exports=u;function i(f){return f instanceof Buffer?Buffer.from(f):new f.constructor(f.buffer.slice(),f.byteOffset,f.length)}function u(f){if(f=f||{},f.circles)return s(f);let p=new Map;if(p.set(Date,j=>new Date(j)),p.set(Map,(j,W)=>new Map(v(Array.from(j),W))),p.set(Set,(j,W)=>new Set(v(Array.from(j),W))),f.constructorHandlers)for(let j of f.constructorHandlers)p.set(j[0],j[1]);let y=null;return f.proto?T:k;function v(j,W){let M=Object.keys(j),R=new Array(M.length);for(let z=0;z<M.length;z++){let B=M[z],ut=j[B];typeof ut!="object"||ut===null?R[B]=ut:ut.constructor!==Object&&(y=p.get(ut.constructor))?R[B]=y(ut,W):ArrayBuffer.isView(ut)?R[B]=i(ut):R[B]=W(ut)}return R}function k(j){if(typeof j!="object"||j===null)return j;if(Array.isArray(j))return v(j,k);if(j.constructor!==Object&&(y=p.get(j.constructor)))return y(j,k);let W={};for(let M in j){if(Object.hasOwnProperty.call(j,M)===!1)continue;let R=j[M];typeof R!="object"||R===null?W[M]=R:R.constructor!==Object&&(y=p.get(R.constructor))?W[M]=y(R,k):ArrayBuffer.isView(R)?W[M]=i(R):W[M]=k(R)}return W}function T(j){if(typeof j!="object"||j===null)return j;if(Array.isArray(j))return v(j,T);if(j.constructor!==Object&&(y=p.get(j.constructor)))return y(j,T);let W={};for(let M in j){let R=j[M];typeof R!="object"||R===null?W[M]=R:R.constructor!==Object&&(y=p.get(R.constructor))?W[M]=y(R,T):ArrayBuffer.isView(R)?W[M]=i(R):W[M]=T(R)}return W}}function s(f){let p=[],y=[],v=new Map;if(v.set(Date,M=>new Date(M)),v.set(Map,(M,R)=>new Map(T(Array.from(M),R))),v.set(Set,(M,R)=>new Set(T(Array.from(M),R))),f.constructorHandlers)for(let M of f.constructorHandlers)v.set(M[0],M[1]);let k=null;return f.proto?W:j;function T(M,R){let z=Object.keys(M),B=new Array(z.length);for(let ut=0;ut<z.length;ut++){let st=z[ut],Tt=M[st];if(typeof Tt!="object"||Tt===null)B[st]=Tt;else if(Tt.constructor!==Object&&(k=v.get(Tt.constructor)))B[st]=k(Tt,R);else if(ArrayBuffer.isView(Tt))B[st]=i(Tt);else{let Zt=p.indexOf(Tt);Zt!==-1?B[st]=y[Zt]:B[st]=R(Tt)}}return B}function j(M){if(typeof M!="object"||M===null)return M;if(Array.isArray(M))return T(M,j);if(M.constructor!==Object&&(k=v.get(M.constructor)))return k(M,j);let R={};p.push(M),y.push(R);for(let z in M){if(Object.hasOwnProperty.call(M,z)===!1)continue;let B=M[z];if(typeof B!="object"||B===null)R[z]=B;else if(B.constructor!==Object&&(k=v.get(B.constructor)))R[z]=k(B,j);else if(ArrayBuffer.isView(B))R[z]=i(B);else{let ut=p.indexOf(B);ut!==-1?R[z]=y[ut]:R[z]=j(B)}}return p.pop(),y.pop(),R}function W(M){if(typeof M!="object"||M===null)return M;if(Array.isArray(M))return T(M,W);if(M.constructor!==Object&&(k=v.get(M.constructor)))return k(M,W);let R={};p.push(M),y.push(R);for(let z in M){let B=M[z];if(typeof B!="object"||B===null)R[z]=B;else if(B.constructor!==Object&&(k=v.get(B.constructor)))R[z]=k(B,W);else if(ArrayBuffer.isView(B))R[z]=i(B);else{let ut=p.indexOf(B);ut!==-1?R[z]=y[ut]:R[z]=W(B)}}return p.pop(),y.pop(),R}}}),_t=we(()=>{}),wt={};Pe(wt,{Charset:()=>jr,Document:()=>Pr,Encoder:()=>Tr,Index:()=>Mr,IndexedDB:()=>Ir,Language:()=>$r,Resolver:()=>Nr,Worker:()=>Pn,default:()=>xr});function at(n,o,i){let u=typeof i,s=typeof n;if(u!=="undefined"){if(s!=="undefined"){if(i){if(s==="function"&&u===s)return function(y){return n(i(y))};if(o=n.constructor,o===i.constructor){if(o===Array)return i.concat(n);if(o===Map){var f=new Map(i);for(var p of n)f.set(p[0],p[1]);return f}if(o===Set){p=new Set(i);for(f of n.values())p.add(f);return p}}}return n}return i}return s==="undefined"?o:n}function jt(n,o){return typeof n>"u"?o:n}function ct(){return Object.create(null)}function Kt(n){return typeof n=="string"}function Gt(n){return typeof n=="object"}function _e(n,o){if(Kt(o))n=n[o];else for(let i=0;n&&i<o.length;i++)n=n[o[i]];return n}function be(n={}){if(!this||this.constructor!==be)return new be(...arguments);if(arguments.length)for(n=0;n<arguments.length;n++)this.assign(arguments[n]);else this.assign(n)}function Wt(n){n.F=null,n.B.clear(),n.D.clear()}function Ce(n,o,i){i||(o||typeof n!="object"?typeof o=="object"&&(i=o,o=0):i=n),i&&(n=i.query||n,o=i.limit||o);let u=""+(o||0);i&&(u+=(i.offset||0)+!!i.context+!!i.suggest+(i.resolve!==!1)+(i.resolution||this.resolution)+(i.boost||0)),n=(""+n).toLowerCase(),this.cache||(this.cache=new Me);let s=this.cache.get(n+u);if(!s){let f=i&&i.cache;f&&(i.cache=!1),s=this.search(n,o,i),f&&(i.cache=f),this.cache.set(n+u,s)}return s}function Me(n){this.limit=n&&n!==!0?n:1e3,this.cache=new Map,this.h=""}function Ke(n,o,i,u){let s=[];for(let f=0,p;f<n.index.length;f++)if(p=n.index[f],o>=p.length)o-=p.length;else{o=p[u?"splice":"slice"](o,i);let y=o.length;if(y&&(s=s.length?s.concat(o):o,i-=y,u&&(n.length-=y),!i))break;o=0}return s}function Le(n){if(!this||this.constructor!==Le)return new Le(n);this.index=n?[n]:[],this.length=n?n.length:0;let o=this;return new Proxy([],{get(i,u){if(u==="length")return o.length;if(u==="push")return function(s){o.index[o.index.length-1].push(s),o.length++};if(u==="pop")return function(){if(o.length)return o.length--,o.index[o.index.length-1].pop()};if(u==="indexOf")return function(s){let f=0;for(let p=0,y,v;p<o.index.length;p++){if(y=o.index[p],v=y.indexOf(s),v>=0)return f+v;f+=y.length}return-1};if(u==="includes")return function(s){for(let f=0;f<o.index.length;f++)if(o.index[f].includes(s))return!0;return!1};if(u==="slice")return function(s,f){return Ke(o,s||0,f||o.length,!1)};if(u==="splice")return function(s,f){return Ke(o,s||0,f||o.length,!0)};if(u==="constructor")return Array;if(typeof u!="symbol")return(i=o.index[u/2**31|0])&&i[u]},set(i,u,s){return i=u/2**31|0,(o.index[i]||(o.index[i]=[]))[u]=s,o.length++,!0}})}function fe(n=8){if(!this||this.constructor!==fe)return new fe(n);this.index=ct(),this.h=[],this.size=0,n>32?(this.B=je,this.A=BigInt(n)):(this.B=Qt,this.A=n)}function Ft(n=8){if(!this||this.constructor!==Ft)return new Ft(n);this.index=ct(),this.h=[],this.size=0,n>32?(this.B=je,this.A=BigInt(n)):(this.B=Qt,this.A=n)}function Qt(n){let o=2**this.A-1;if(typeof n=="number")return n&o;let i=0,u=this.A+1;for(let s=0;s<n.length;s++)i=(i*u^n.charCodeAt(s))&o;return this.A===32?i+2**31:i}function je(n){let o=BigInt(2)**this.A-BigInt(1);var i=typeof n;if(i==="bigint")return n&o;if(i==="number")return BigInt(n)&o;i=BigInt(0);let u=this.A+BigInt(1);for(let s=0;s<n.length;s++)i=(i*u^BigInt(n.charCodeAt(s)))&o;return i}async function Oe(n){n=n.data;var o=n.task;let i=n.id,u=n.args;switch(o){case"init":Fn=n.options||{},(o=n.factory)?(Function("return "+o)()(self),Tn=new self.FlexSearch.Index(Fn),delete self.FlexSearch):Tn=new pe(Fn),postMessage({id:i});break;default:let s;o==="export"&&(u[1]?(u[0]=Fn.export,u[2]=0,u[3]=1):u=null),o==="import"?u[0]&&(n=await Fn.import.call(Tn,u[0]),Tn.import(u[0],n)):((s=u&&Tn[o].apply(Tn,u))&&s.then&&(s=await s),s&&s.await&&(s=await s.await),o==="search"&&s.result&&(s=s.result)),postMessage(o==="search"?{id:i,msg:s}:{id:i})}}function He(n){cn.call(n,"add"),cn.call(n,"append"),cn.call(n,"search"),cn.call(n,"update"),cn.call(n,"remove"),cn.call(n,"searchCache")}function an(){br=ur=0}function cn(n){this[n+"Async"]=function(){let o=arguments;var i=o[o.length-1];let u;if(typeof i=="function"&&(u=i,delete o[o.length-1]),br?ur||(ur=Date.now()-Cr>=this.priority*this.priority*3):(br=setTimeout(an,0),Cr=Date.now()),ur){let f=this;return new Promise(p=>{setTimeout(function(){p(f[n+"Async"].apply(f,o))},0)})}let s=this[n].apply(this,o);return i=s.then?s:new Promise(f=>f(s)),u&&i.then(u),i}}function tn(n={},o){function i(y){function v(k){k=k.data||k;let T=k.id,j=T&&f.h[T];j&&(j(k.msg),delete f.h[T])}if(this.worker=y,this.h=ct(),this.worker)return s?this.worker.on("message",v):this.worker.onmessage=v,n.config?new Promise(function(k){En>1e9&&(En=0),f.h[++En]=function(){k(f)},f.worker.postMessage({id:En,task:"init",factory:u,options:n})}):(this.priority=n.priority||4,this.encoder=o||null,this.worker.postMessage({task:"init",factory:u,options:n}),this)}if(!this||this.constructor!==tn)return new tn(n);let u=typeof self<"u"?self._factory:typeof window<"u"?window._factory:null;u&&(u=u.toString());let s=typeof window>"u",f=this,p=Mn(u,s,n.worker);return p.then?p.then(function(y){return i.call(f,y)}):i.call(this,p)}function We(n){tn.prototype[n]=function(){let o=this,i=[].slice.call(arguments);var u=i[i.length-1];let s;return typeof u=="function"&&(s=u,i.pop()),u=new Promise(function(f){n==="export"&&typeof i[0]=="function"&&(i[0]=null),En>1e9&&(En=0),o.h[++En]=f,o.worker.postMessage({task:n,id:En,args:i})}),s?(u.then(s),this):u}}function Mn(n,o,i){return o?typeof module<"u"?new(_t()).Worker(__dirname+"/worker/node.js"):Promise.resolve().then(()=>dt(_t(),1)).then(function(u){return new u.Worker(import.meta.dirname+"/node/node.mjs")}):n?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+Oe.toString()],{type:"text/javascript"}))):new window.Worker(typeof i=="string"?i:import.meta.url.replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js").replace("flexsearch.bundle.module.min.mjs","module/worker/worker.js"),{type:"module"})}function sn(n,o,i,u,s,f){if(n=n[s],u===i.length-1)o[s]=f||n;else if(n)if(n.constructor===Array)for(o=o[s]=Array(n.length),s=0;s<n.length;s++)sn(n,o,i,u,s);else o=o[s]||(o[s]=ct()),s=i[++u],sn(n,o,i,u,s)}function Sn(n,o,i,u,s,f,p,y){if(n=n[p])if(u===o.length-1){if(n.constructor===Array){if(i[u]){for(o=0;o<n.length;o++)s.add(f,n[o],!0,!0);return}n=n.join(" ")}s.add(f,n,y,!0)}else if(n.constructor===Array)for(p=0;p<n.length;p++)Sn(n,o,i,u,s,f,p,y);else p=o[++u],Sn(n,o,i,u,s,f,p,y)}function hn(n,o,i,u){if(!n.length)return n;if(n.length===1)return n=n[0],n=i||n.length>o?n.slice(i,i+o):n,u?Mt.call(this,n):n;let s=[];for(let f=0,p,y;f<n.length;f++)if((p=n[f])&&(y=p.length)){if(i){if(i>=y){i-=y;continue}p=p.slice(i,i+o),y=p.length,i=0}if(y>o&&(p=p.slice(0,o),y=o),!s.length&&y>=o)return u?Mt.call(this,p):p;if(s.push(p),o-=y,!o)break}return s=s.length>1?[].concat.apply([],s):s[0],u?Mt.call(this,s):s}function en(n,o,i,u){var s=u[0];if(s[0]&&s[0].query)return n[o].apply(n,s);if(!(o!=="and"&&o!=="not"||n.result.length||n.await||s.suggest))return u.length>1&&(s=u[u.length-1]),(u=s.resolve)?n.await||n.result:n;let f=[],p=0,y=0,v,k,T,j,W;for(o=0;o<u.length;o++)if(s=u[o]){var M=void 0;if(s.constructor===N)M=s.await||s.result;else if(s.then||s.constructor===Array)M=s;else{p=s.limit||0,y=s.offset||0,T=s.suggest,k=s.resolve,v=((j=s.highlight||n.highlight)||s.enrich)&&k,M=s.queue;let R=s.async||M,z=s.index,B=s.query;if(z?n.index||(n.index=z):z=n.index,B||s.tag){let ut=s.field||s.pluck;if(ut&&(!B||n.query&&!j||(n.query=B,n.field=ut,n.highlight=j),z=z.index.get(ut)),M&&(W||n.await)){W=1;let st,Tt=n.C.length,Zt=new Promise(function(ge){st=ge});(function(ge,ne){Zt.h=function(){ne.index=null,ne.resolve=!1;let Yt=R?ge.searchAsync(ne):ge.search(ne);return Yt.then?Yt.then(function(Nt){return n.C[Tt]=Nt=Nt.result||Nt,st(Nt),Nt}):(Yt=Yt.result||Yt,st(Yt),Yt)}})(z,Object.assign({},s)),n.C.push(Zt),f[o]=Zt;continue}else s.resolve=!1,s.index=null,M=R?z.searchAsync(s):z.search(s),s.resolve=k,s.index=z}else if(s.and)M=xn(s,"and",z);else if(s.or)M=xn(s,"or",z);else if(s.not)M=xn(s,"not",z);else if(s.xor)M=xn(s,"xor",z);else continue}M.await?(W=1,M=M.await):M.then?(W=1,M=M.then(function(R){return R.result||R})):M=M.result||M,f[o]=M}if(W&&!n.await&&(n.await=new Promise(function(R){n.return=R})),W){let R=Promise.all(f).then(function(z){for(let B=0;B<n.C.length;B++)if(n.C[B]===R){n.C[B]=function(){return i.call(n,z,p,y,v,k,T,j)};break}Y(n)});n.C.push(R)}else if(n.await)n.C.push(function(){return i.call(n,f,p,y,v,k,T,j)});else return i.call(n,f,p,y,v,k,T,j);return k?n.await||n.result:n}function xn(n,o,i){n=n[o];let u=n[0]||n;return u.index||(u.index=i),i=new N(u),n.length>1&&(i=i[o].apply(i,n.slice(1))),i}function zn(n,o,i,u,s,f,p){return n.length&&(this.result.length&&n.push(this.result),n.length<2?this.result=n[0]:(this.result=xt(n,o,i,!1,this.h),i=0)),s&&(this.await=null),s?this.resolve(o,i,u,p):this}function Bn(n,o,i,u,s,f,p){if(!f&&!this.result.length)return s?this.result:this;let y;if(n.length)if(this.result.length&&n.unshift(this.result),n.length<2)this.result=n[0];else{let v=0;for(let k=0,T,j;k<n.length;k++)if((T=n[k])&&(j=T.length))v<j&&(v=j);else if(!f){v=0;break}v?(this.result=nt(n,v,o,i,f,this.h,s),y=!0):this.result=[]}else f||(this.result=n);return s&&(this.await=null),s?this.resolve(o,i,u,p,y):this}function Dn(n,o,i,u,s,f,p){if(n.length)if(this.result.length&&n.unshift(this.result),n.length<2)this.result=n[0];else{t:{f=i;var y=this.h;let v=[],k=ct(),T=0;for(let j=0,W;j<n.length;j++)if(W=n[j]){T<W.length&&(T=W.length);for(let M=0,R;M<W.length;M++)if(R=W[M])for(let z=0,B;z<R.length;z++)B=R[z],k[B]=k[B]?2:1}for(let j=0,W,M=0;j<T;j++)for(let R=0,z;R<n.length;R++)if((z=n[R])&&(W=z[j])){for(let B=0,ut;B<W.length;B++)if(ut=W[B],k[ut]===1)if(f)f--;else if(s){if(v.push(ut),v.length===o){n=v;break t}}else{let st=j+(R?y:0);if(v[st]||(v[st]=[]),v[st].push(ut),++M===o){n=v;break t}}}n=v}this.result=n,y=!0}else f||(this.result=n);return s&&(this.await=null),s?this.resolve(o,i,u,p,y):this}function An(n,o,i,u,s,f,p){if(!f&&!this.result.length)return s?this.result:this;if(n.length&&this.result.length){t:{f=i;var y=[];n=new Set(n.flat().flat());for(let v=0,k,T=0;v<this.result.length;v++)if(k=this.result[v]){for(let j=0,W;j<k.length;j++)if(W=k[j],!n.has(W)){if(f)f--;else if(s){if(y.push(W),y.length===o){n=y;break t}}else if(y[v]||(y[v]=[]),y[v].push(W),++T===o){n=y;break t}}}n=y}this.result=n,y=!0}return s&&(this.await=null),s?this.resolve(o,i,u,p,y):this}function On(n,o,i,u,s){let f,p,y;typeof s=="string"?(f=s,s=""):f=s.template,p=f.indexOf("$1"),y=f.substring(p+2),p=f.substring(0,p);let v=s&&s.boundary,k=!s||s.clip!==!1,T=s&&s.merge&&y&&p&&new RegExp(y+" "+p,"g");s=s&&s.ellipsis;var j=0;if(typeof s=="object"){var W=s.template;j=W.length-2,s=s.pattern}typeof s!="string"&&(s=s===!1?"":"..."),j&&(s=W.replace("$1",s)),W=s.length-j;let M,R;typeof v=="object"&&(M=v.before,M===0&&(M=-1),R=v.after,R===0&&(R=-1),v=v.total||9e5),j=new Map;for(let Nn=0,mn,ti,dr;Nn<o.length;Nn++){let Er;if(u)Er=o,dr=u;else{var z=o[Nn];if(dr=z.field,!dr)continue;Er=z.result}ti=i.get(dr),mn=ti.encoder,z=j.get(mn),typeof z!="string"&&(z=mn.encode(n),j.set(mn,z));for(let ln=0;ln<Er.length;ln++){var B=Er[ln].doc;if(!B||(B=_e(B,dr),!B))continue;var ut=B.trim().split(/\s+/);if(!ut.length)continue;B="";var st=[];let kr=[];for(var Tt=-1,Zt=-1,ge=0,ne=0;ne<ut.length;ne++){var Yt=ut[ne],Nt=mn.encode(Yt);Nt=Nt.length>1?Nt.join(" "):Nt[0];let Ht;if(Nt&&Yt){for(var ee=Yt.length,$e=(mn.split?Yt.replace(mn.split,""):Yt).length-Nt.length,me="",le=0,Je=0;Je<z.length;Je++){var pn=z[Je];if(pn){var Fe=pn.length;Fe+=$e<0?0:$e,le&&Fe<=le||(pn=Nt.indexOf(pn),pn>-1&&(me=(pn?Yt.substring(0,pn):"")+p+Yt.substring(pn,pn+Fe)+y+(pn+Fe<ee?Yt.substring(pn+Fe):""),le=Fe,Ht=!0))}}me&&(v&&(Tt<0&&(Tt=B.length+(B?1:0)),Zt=B.length+(B?1:0)+me.length,ge+=ee,kr.push(st.length),st.push({match:me})),B+=(B?" ":"")+me)}if(!Ht)Yt=ut[ne],B+=(B?" ":"")+Yt,v&&st.push({text:Yt});else if(v&&ge>=v)break}if(ge=kr.length*(f.length-2),M||R||v&&B.length-ge>v)if(ge=v+ge-W*2,ne=Zt-Tt,M>0&&(ne+=M),R>0&&(ne+=R),ne<=ge)ut=M?Tt-(M>0?M:0):Tt-((ge-ne)/2|0),st=R?Zt+(R>0?R:0):ut+ge,k||(ut>0&&B.charAt(ut)!==" "&&B.charAt(ut-1)!==" "&&(ut=B.indexOf(" ",ut),ut<0&&(ut=0)),st<B.length&&B.charAt(st-1)!==" "&&B.charAt(st)!==" "&&(st=B.lastIndexOf(" ",st),st<Zt?st=Zt:++st)),B=(ut?s:"")+B.substring(ut,st)+(st<B.length?s:"");else{for(Zt=[],Tt={},ge={},ne={},Yt={},Nt={},me=$e=ee=0,Je=le=1;;){var gn=void 0;for(let Ht=0,Be;Ht<kr.length;Ht++){if(Be=kr[Ht],me)if($e!==me){if(ne[Ht+1])continue;if(Be+=me,Tt[Be]){ee-=W,ge[Ht+1]=1,ne[Ht+1]=1;continue}if(Be>=st.length-1){if(Be>=st.length){ne[Ht+1]=1,Be>=ut.length&&(ge[Ht+1]=1);continue}ee-=W}if(B=st[Be].text,Fe=R&&Nt[Ht])if(Fe>0){if(B.length>Fe)if(ne[Ht+1]=1,k)B=B.substring(0,Fe);else continue;(Fe-=B.length)||(Fe=-1),Nt[Ht]=Fe}else{ne[Ht+1]=1;continue}if(ee+B.length+1<=v)B=" "+B,Zt[Ht]+=B;else if(k)gn=v-ee-1,gn>0&&(B=" "+B.substring(0,gn),Zt[Ht]+=B),ne[Ht+1]=1;else{ne[Ht+1]=1;continue}}else{if(ne[Ht])continue;if(Be-=$e,Tt[Be]){ee-=W,ne[Ht]=1,ge[Ht]=1;continue}if(Be<=0){if(Be<0){ne[Ht]=1,ge[Ht]=1;continue}ee-=W}if(B=st[Be].text,Fe=M&&Yt[Ht])if(Fe>0){if(B.length>Fe)if(ne[Ht]=1,k)B=B.substring(B.length-Fe);else continue;(Fe-=B.length)||(Fe=-1),Yt[Ht]=Fe}else{ne[Ht]=1;continue}if(ee+B.length+1<=v)B+=" ",Zt[Ht]=B+Zt[Ht];else if(k)gn=B.length+1-(v-ee),gn>=0&&gn<B.length&&(B=B.substring(gn)+" ",Zt[Ht]=B+Zt[Ht]),ne[Ht]=1;else{ne[Ht]=1;continue}}else{B=st[Be].match,M&&(Yt[Ht]=M),R&&(Nt[Ht]=R),Ht&&ee++;let ei;if(Be?!Ht&&W&&(ee+=W):(ge[Ht]=1,ne[Ht]=1),Be>=ut.length-1||Be<st.length-1&&st[Be+1].match?ei=1:W&&(ee+=W),ee-=f.length-2,!Ht||ee+B.length<=v)Zt[Ht]=B;else{gn=le=Je=ge[Ht]=0;break}ei&&(ge[Ht+1]=1,ne[Ht+1]=1)}ee+=B.length,gn=Tt[Be]=1}if(gn)$e===me?me++:$e++;else{if($e===me?le=0:Je=0,!le&&!Je)break;le?($e++,me=$e):me++}}B="";for(let Ht=0,Be;Ht<Zt.length;Ht++)Be=(ge[Ht]?Ht?" ":"":(Ht&&!s?" ":"")+s)+Zt[Ht],B+=Be;s&&!ge[Zt.length]&&(B+=s)}T&&(B=B.replace(T," ")),Er[ln].highlight=B}if(u)break}return o}function N(n,o){if(!this||this.constructor!==N)return new N(n,o);let i=0,u,s,f,p,y,v;if(n&&n.index){let k=n;if(o=k.index,i=k.boost||0,s=k.query){f=k.field||k.pluck,p=k.highlight;let T=k.resolve;n=k.async||k.queue,k.resolve=!1,k.index=null,n=n?o.searchAsync(k):o.search(k),k.resolve=T,k.index=o,n=n.result||n}else n=[]}if(n&&n.then){let k=this;n=n.then(function(T){k.C[0]=k.result=T.result||T,Y(k)}),u=[n],n=[],y=new Promise(function(T){v=T})}this.index=o||null,this.result=n||[],this.h=i,this.C=u||[],this.await=y||null,this.return=v||null,this.highlight=p||null,this.query=s||"",this.field=f||""}function Y(n,o){let i=n.result;var u=n.await;n.await=null;for(let s=0,f;s<n.C.length;s++)if(f=n.C[s]){if(typeof f=="function")i=f(),n.C[s]=i=i.result||i,s--;else if(f.h)i=f.h(),n.C[s]=i=i.result||i,s--;else if(f.then)return n.await=u}return u=n.return,n.C=[],n.return=null,o||u(i),i}function nt(n,o,i,u,s,f,p){let y=n.length,v=[],k,T;k=ct();for(let j=0,W,M,R,z;j<o;j++)for(let B=0;B<y;B++)if(R=n[B],j<R.length&&(W=R[j]))for(let ut=0;ut<W.length;ut++){if(M=W[ut],(T=k[M])?k[M]++:(T=0,k[M]=1),z=v[T]||(v[T]=[]),!p){let st=j+(B||!s?0:f||0);z=z[st]||(z[st]=[])}if(z.push(M),p&&i&&T===y-1&&z.length-u===i)return u?z.slice(u):z}if(n=v.length)if(s)v=v.length>1?xt(v,i,u,p,f):(v=v[0])&&i&&v.length>i||u?v.slice(u,i+u):v;else{if(n<y)return[];if(v=v[n-1],i||u)if(p)(v.length>i||u)&&(v=v.slice(u,i+u));else{s=[];for(let j=0,W;j<v.length;j++)if(W=v[j]){if(u&&W.length>u)u-=W.length;else if((i&&W.length>i||u)&&(W=W.slice(u,i+u),i-=W.length,u&&(u-=W.length)),s.push(W),!i)break}v=s}}return v}function xt(n,o,i,u,s){let f=[],p=ct(),y;var v=n.length;let k;if(u){for(s=v-1;s>=0;s--)if(k=(u=n[s])&&u.length){for(v=0;v<k;v++)if(y=u[v],!p[y]){if(p[y]=1,i)i--;else if(f.push(y),f.length===o)return f}}}else for(let T=v-1,j,W=0;T>=0;T--){j=n[T];for(let M=0;M<j.length;M++)if(k=(u=j[M])&&u.length){for(let R=0;R<k;R++)if(y=u[R],!p[y])if(p[y]=1,i)i--;else{let z=(M+(T<v-1&&s||0))/(T+1)|0;if((f[z]||(f[z]=[])).push(y),++W===o)return f}}}return f}function Lt(n,o,i,u,s){let f=ct(),p=[];for(let y=0,v;y<o.length;y++){v=o[y];for(let k=0;k<v.length;k++)f[v[k]]=1}if(s){for(let y=0,v;y<n.length;y++)if(v=n[y],f[v]){if(u)u--;else if(p.push(v),f[v]=0,i&&--i===0)break}}else for(let y=0,v,k;y<n.result.length;y++)for(v=n.result[y],o=0;o<v.length;o++)k=v[o],f[k]&&((p[y]||(p[y]=[])).push(k),f[k]=0);return p}function Ct(n){let o=[],i=ct(),u=ct();for(let s=0,f,p,y,v,k,T,j;s<n.length;s++){f=n[s],p=f.field,y=f.result;for(let W=0;W<y.length;W++)k=y[W],typeof k!="object"?k={id:v=k}:v=k.id,(T=i[v])?T.push(p):(k.field=i[v]=[p],o.push(k)),(j=k.highlight)&&(T=u[v],T||(u[v]=T={},k.highlight=T),T[p]=j)}return o}function qt(n,o,i,u,s){return n=this.tag.get(n),n?(n=n.get(o),n?(o=n.length-u,o>0&&((i&&o>i||u)&&(n=n.slice(u,u+i)),s&&(n=Mt.call(this,n))),n):[]):[]}function Mt(n){if(!this||!this.store)return n;if(this.db)return this.index.get(this.field[0]).db.enrich(n);let o=Array(n.length);for(let i=0,u;i<n.length;i++)u=n[i],o[i]={id:u,doc:this.store.get(u)};return o}function St(n){if(!this||this.constructor!==St)return new St(n);let o=n.document||n.doc||n,i,u;if(this.B=[],this.field=[],this.D=[],this.key=(i=o.key||o.id)&&de(i,this.D)||"id",(u=n.keystore||0)&&(this.keystore=u),this.fastupdate=!!n.fastupdate,this.reg=!this.fastupdate||n.worker||n.db?u?new Ft(u):new Set:u?new fe(u):new Map,this.h=(i=o.store||null)&&i&&i!==!0&&[],this.store=i?u?new fe(u):new Map:null,this.cache=(i=n.cache||null)&&new Me(i),n.cache=!1,this.worker=n.worker||!1,this.priority=n.priority||4,this.index=Jt.call(this,n,o),this.tag=null,(i=o.tag)&&(typeof i=="string"&&(i=[i]),i.length)){this.tag=new Map,this.A=[],this.F=[];for(let s=0,f,p;s<i.length;s++){if(f=i[s],p=f.field||f,!p)throw Error("The tag field from the document descriptor is undefined.");f.custom?this.A[s]=f.custom:(this.A[s]=de(p,this.D),f.filter&&(typeof this.A[s]=="string"&&(this.A[s]=new String(this.A[s])),this.A[s].G=f.filter)),this.F[s]=p,this.tag.set(p,new Map)}}if(this.worker){this.fastupdate=!1,n=[];for(let s of this.index.values())s.then&&n.push(s);if(n.length){let s=this;return Promise.all(n).then(function(f){let p=0;for(let y of s.index.entries()){let v=y[0],k=y[1];k.then&&(k=f[p],s.index.set(v,k),p++)}return s})}}else n.db&&(this.fastupdate=!1,this.mount(n.db))}function Jt(n,o){let i=new Map,u=o.index||o.field||o;Kt(u)&&(u=[u]);for(let f=0,p,y;f<u.length;f++){if(p=u[f],Kt(p)||(y=p,p=p.field),y=Gt(y)?Object.assign({},n,y):n,this.worker){var s=void 0;s=(s=y.encoder)&&s.encode?s:new be(typeof s=="string"?Zn[s]:s||{}),s=new tn(y,s),i.set(p,s)}this.worker||i.set(p,new pe(y,this.reg)),y.custom?this.B[f]=y.custom:(this.B[f]=de(p,this.D),y.filter&&(typeof this.B[f]=="string"&&(this.B[f]=new String(this.B[f])),this.B[f].G=y.filter)),this.field[f]=p}if(this.h){n=o.store,Kt(n)&&(n=[n]);for(let f=0,p,y;f<n.length;f++)p=n[f],y=p.field||p,p.custom?(this.h[f]=p.custom,p.custom.O=y):(this.h[f]=de(y,this.D),p.filter&&(typeof this.h[f]=="string"&&(this.h[f]=new String(this.h[f])),this.h[f].G=p.filter))}return i}function de(n,o){let i=n.split(":"),u=0;for(let s=0;s<i.length;s++)n=i[s],n[n.length-1]==="]"&&(n=n.substring(0,n.length-2))&&(o[u]=!0),n&&(i[u++]=n);return u<i.length&&(i.length=u),u>1?i:i[0]}function E(n,o=0){let i=[],u=[];o&&(o=25e4/o*5e3|0);for(let s of n.entries())u.push(s),u.length===o&&(i.push(u),u=[]);return u.length&&i.push(u),i}function D(n,o){o||(o=new Map);for(let i=0,u;i<n.length;i++)u=n[i],o.set(u[0],u[1]);return o}function q(n,o=0){let i=[],u=[];o&&(o=25e4/o*1e3|0);for(let s of n.entries())u.push([s[0],E(s[1])[0]||[]]),u.length===o&&(i.push(u),u=[]);return u.length&&i.push(u),i}function X(n,o){o||(o=new Map);for(let i=0,u,s;i<n.length;i++)u=n[i],s=o.get(u[0]),o.set(u[0],D(u[1],s));return o}function gt(n){let o=[],i=[];for(let u of n.keys())i.push(u),i.length===25e4&&(o.push(i),i=[]);return i.length&&o.push(i),o}function it(n,o){o||(o=new Set);for(let i=0;i<n.length;i++)o.add(n[i]);return o}function mt(n,o,i,u,s,f,p=0){let y=u&&u.constructor===Array;var v=y?u.shift():u;if(!v)return this.export(n,o,s,f+1);if((v=n((o?o+".":"")+(p+1)+"."+i,JSON.stringify(v)))&&v.then){let k=this;return v.then(function(){return mt.call(k,n,o,i,y?u:null,s,f,p+1)})}return mt.call(this,n,o,i,y?u:null,s,f,p+1)}function ie(n,o,i=0,u=0){if(i<this.field.length){let p=this.field[i];if((o=this.index.get(p).export(n,p,i,u=1))&&o.then){let y=this;return o.then(function(){return y.export(n,p,i+1)})}return this.export(n,p,i+1)}let s,f;switch(u){case 0:s="reg",f=gt(this.reg),o=null;break;case 1:s="tag",f=this.tag&&q(this.tag,this.reg.size),o=null;break;case 2:s="doc",f=this.store&&E(this.store),o=null;break;default:return}return mt.call(this,n,o,s,f||null,i,u)}function se(n,o){var i=n.split(".");i[i.length-1]==="json"&&i.pop();let u=i.length>2?i[0]:"";if(i=i.length>2?i[2]:i[1],this.worker&&u)return this.index.get(u).import(n);if(o){if(typeof o=="string"&&(o=JSON.parse(o)),u)return this.index.get(u).import(i,o);switch(i){case"reg":this.fastupdate=!1,this.reg=it(o,this.reg);for(let s=0,f;s<this.field.length;s++)f=this.index.get(this.field[s]),f.fastupdate=!1,f.reg=this.reg;if(this.worker){o=[];for(let s of this.index.values())o.push(s.import(n));return Promise.all(o)}break;case"tag":this.tag=X(o,this.tag);break;case"doc":this.store=D(o,this.store)}}}function Ie(n,o){let i="";for(let u of n.entries()){n=u[0];let s=u[1],f="";for(let p=0,y;p<s.length;p++){y=s[p]||[""];let v="";for(let k=0;k<y.length;k++)v+=(v?",":"")+(o==="string"?'"'+y[k]+'"':y[k]);v="["+v+"]",f+=(f?",":"")+v}f='["'+n+'",['+f+"]]",i+=(i?",":"")+f}return i}function Ve(n,o){let i=0;var u=typeof o>"u";if(n.constructor===Array){for(let s=0,f,p,y;s<n.length;s++)if((f=n[s])&&f.length){if(u)return 1;if(p=f.indexOf(o),p>=0){if(f.length>1)return f.splice(p,1),1;if(delete n[s],i)return 1;y=1}else{if(y)return 1;i++}}}else for(let s of n.entries())u=s[0],Ve(s[1],o)?i++:n.delete(u);return i}function Ut(n,o,i,u,s,f,p){let y,v;if(!(y=o[i])||p&&!y[p]){if(p?(o=y||(o[i]=ct()),o[p]=1,v=n.ctx,(y=v.get(p))?v=y:v.set(p,v=n.keystore?new fe(n.keystore):new Map)):(v=n.map,o[i]=1),(y=v.get(i))?v=y:v.set(i,v=y=[]),f){for(let k=0,T;k<y.length;k++)if((T=y[k])&&T.includes(s)){if(k<=u)return;T.splice(T.indexOf(s),1),n.fastupdate&&(o=n.reg.get(s))&&o.splice(o.indexOf(T),1);break}}if(v=v[u]||(v[u]=[]),v.push(s),v.length===2**31-1){if(o=new Le(v),n.fastupdate)for(let k of n.reg.values())k.includes(v)&&(k[k.indexOf(v)]=o);y[u]=v=o}n.fastupdate&&((u=n.reg.get(s))?u.push(v):n.reg.set(s,[v]))}}function ye(n,o,i,u,s){return i&&n>1?o+(u||0)<=n?i+(s||0):(n-1)/(o+(u||0))*(i+(s||0))+1|0:0}function bt(n,o,i,u,s,f,p){let y=n.length,v=n;if(y>1)v=nt(n,o,i,u,s,f,p);else if(y===1)return p?hn.call(null,n[0],i,u):new N(n[0],this);return p?v:new N(v,this)}function zt(n,o,i,u,s,f,p){return n=oe(this,n,o,i,u,s,f,p),this.db?n.then(function(y){return s?y||[]:new N(y,this)}):n&&n.length?s?hn.call(this,n,i,u):new N(n,this):s?[]:new N([],this)}function xe(n,o,i,u){let s=[];if(n&&n.length){if(n.length<=u){o.push(n);return}for(let f=0,p;f<u;f++)(p=n[f])&&(s[f]=p);if(s.length){o.push(s);return}}if(!i)return s}function oe(n,o,i,u,s,f,p,y){let v;return i&&(v=n.bidirectional&&o>i)&&(v=i,i=o,o=v),n.db?n.db.get(o,i,u,s,f,p,y):(n=i?(n=n.ctx.get(i))&&n.get(o):n.map.get(o),n)}function pe(n,o){if(!this||this.constructor!==pe)return new pe(n);if(n){var i=Kt(n)?n:n.preset;i&&(n=Object.assign({},cr[i],n))}else n={};i=n.context;let u=i===!0?{depth:1}:i||{},s=Kt(n.encoder)?Zn[n.encoder]:n.encode||n.encoder||{};this.encoder=s.encode?s:typeof s=="object"?new be(s):{encode:s},this.resolution=n.resolution||9,this.tokenize=i=(i=n.tokenize)&&i!=="default"&&i!=="exact"&&i||"strict",this.depth=i==="strict"&&u.depth||0,this.bidirectional=u.bidirectional!==!1,this.fastupdate=!!n.fastupdate,this.score=n.score||null,(i=n.keystore||0)&&(this.keystore=i),this.map=i?new fe(i):new Map,this.ctx=i?new fe(i):new Map,this.reg=o||(this.fastupdate?i?new fe(i):new Map:i?new Ft(i):new Set),this.N=u.resolution||3,this.rtl=s.rtl||n.rtl||!1,this.cache=(i=n.cache||null)&&new Me(i),this.resolve=n.resolve!==!1,(i=n.db)&&(this.db=this.mount(i)),this.M=n.commit!==!1,this.commit_task=[],this.commit_timer=null,this.priority=n.priority||4}function fn(n){n.commit_timer||(n.commit_timer=setTimeout(function(){n.commit_timer=null,n.db.commit(n)},1))}function De(n,o={}){if(!this||this.constructor!==De)return new De(n,o);typeof n=="object"&&(o=n,n=n.name),n||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(n?":"+n.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=o.field?o.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=o.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}function jn(n,o,i){let u=n.value,s,f=0;for(let p=0,y;p<u.length;p++){if(y=i?u:u[p]){for(let v=0,k,T;v<o.length;v++)if(T=o[v],k=y.indexOf(T),k>=0)if(s=1,y.length>1)y.splice(k,1);else{u[p]=[];break}f+=y.length}if(i)break}f?s&&n.update(u):n.delete(),n.continue()}function nn(n,o){return new Promise((i,u)=>{n.onsuccess=n.oncomplete=function(){o&&o(this.result),o=null,i(this.result)},n.onerror=n.onblocked=u,n=null})}var At,mr,Lr,Rn,Gn,ar,yr,Qn,sr,lr,vr,wr,Zn,Tn,Fn,br,Cr,ur,En,cr,hr,Hn,Ln,xr,Mr,jr,Tr,Pr,Pn,Nr,Ir,$r,Wr=K(()=>{mr=/[^\p{L}\p{N}]+/u,Lr=/(\d{3})/g,Rn=/(\D)(\d{3})/g,Gn=/(\d{3})(\D)/g,ar=/[\u0300-\u036f]/g,At=be.prototype,At.assign=function(n){this.normalize=at(n.normalize,!0,this.normalize);let o=n.include,i=o||n.exclude||n.split,u;if(i||i===""){if(typeof i=="object"&&i.constructor!==RegExp){let s="";u=!o,o||(s+="\\p{Z}"),i.letter&&(s+="\\p{L}"),i.number&&(s+="\\p{N}",u=!!o),i.symbol&&(s+="\\p{S}"),i.punctuation&&(s+="\\p{P}"),i.control&&(s+="\\p{C}"),(i=i.char)&&(s+=typeof i=="object"?i.join(""):i);try{this.split=new RegExp("["+(o?"^":"")+s+"]+","u")}catch{this.split=/\s+/}}else this.split=i,u=i===!1||"a1a".split(i).length<2;this.numeric=at(n.numeric,u)}else{try{this.split=at(this.split,mr)}catch{this.split=/\s+/}this.numeric=at(n.numeric,at(this.numeric,!0))}if(this.prepare=at(n.prepare,null,this.prepare),this.finalize=at(n.finalize,null,this.finalize),i=n.filter,this.filter=typeof i=="function"?i:at(i&&new Set(i),null,this.filter),this.dedupe=at(n.dedupe,!0,this.dedupe),this.matcher=at((i=n.matcher)&&new Map(i),null,this.matcher),this.mapper=at((i=n.mapper)&&new Map(i),null,this.mapper),this.stemmer=at((i=n.stemmer)&&new Map(i),null,this.stemmer),this.replacer=at(n.replacer,null,this.replacer),this.minlength=at(n.minlength,1,this.minlength),this.maxlength=at(n.maxlength,1024,this.maxlength),this.rtl=at(n.rtl,!1,this.rtl),(this.cache=i=at(n.cache,!0,this.cache))&&(this.F=null,this.L=typeof i=="number"?i:2e5,this.B=new Map,this.D=new Map,this.I=this.H=128),this.h="",this.J=null,this.A="",this.K=null,this.matcher)for(let s of this.matcher.keys())this.h+=(this.h?"|":"")+s;if(this.stemmer)for(let s of this.stemmer.keys())this.A+=(this.A?"|":"")+s;return this},At.addStemmer=function(n,o){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(n,o),this.A+=(this.A?"|":"")+n,this.K=null,this.cache&&Wt(this),this},At.addFilter=function(n){return typeof n=="function"?this.filter=n:(this.filter||(this.filter=new Set),this.filter.add(n)),this.cache&&Wt(this),this},At.addMapper=function(n,o){return typeof n=="object"?this.addReplacer(n,o):n.length>1?this.addMatcher(n,o):(this.mapper||(this.mapper=new Map),this.mapper.set(n,o),this.cache&&Wt(this),this)},At.addMatcher=function(n,o){return typeof n=="object"?this.addReplacer(n,o):n.length<2&&(this.dedupe||this.mapper)?this.addMapper(n,o):(this.matcher||(this.matcher=new Map),this.matcher.set(n,o),this.h+=(this.h?"|":"")+n,this.J=null,this.cache&&Wt(this),this)},At.addReplacer=function(n,o){return typeof n=="string"?this.addMatcher(n,o):(this.replacer||(this.replacer=[]),this.replacer.push(n,o),this.cache&&Wt(this),this)},At.encode=function(n,o){if(this.cache&&n.length<=this.H)if(this.F){if(this.B.has(n))return this.B.get(n)}else this.F=setTimeout(Wt,50,this);this.normalize&&(typeof this.normalize=="function"?n=this.normalize(n):n=ar?n.normalize("NFKD").replace(ar,"").toLowerCase():n.toLowerCase()),this.prepare&&(n=this.prepare(n)),this.numeric&&n.length>3&&(n=n.replace(Rn,"$1 $2").replace(Gn,"$1 $2").replace(Lr,"$1 "));let i=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),u=[],s=ct(),f,p,y=this.split||this.split===""?n.split(this.split):[n];for(let k=0,T,j;k<y.length;k++)if((T=j=y[k])&&!(T.length<this.minlength||T.length>this.maxlength)){if(o){if(s[T])continue;s[T]=1}else{if(f===T)continue;f=T}if(i)u.push(T);else if(!this.filter||(typeof this.filter=="function"?this.filter(T):!this.filter.has(T))){if(this.cache&&T.length<=this.I)if(this.F){var v=this.D.get(T);if(v||v===""){v&&u.push(v);continue}}else this.F=setTimeout(Wt,50,this);if(this.stemmer){this.K||(this.K=new RegExp("(?!^)("+this.A+")$"));let W;for(;W!==T&&T.length>2;)W=T,T=T.replace(this.K,M=>this.stemmer.get(M))}if(T&&(this.mapper||this.dedupe&&T.length>1)){v="";for(let W=0,M="",R,z;W<T.length;W++)R=T.charAt(W),R===M&&this.dedupe||((z=this.mapper&&this.mapper.get(R))||z===""?z===M&&this.dedupe||!(M=z)||(v+=z):v+=M=R);T=v}if(this.matcher&&T.length>1&&(this.J||(this.J=new RegExp("("+this.h+")","g")),T=T.replace(this.J,W=>this.matcher.get(W))),T&&this.replacer)for(v=0;T&&v<this.replacer.length;v+=2)T=T.replace(this.replacer[v],this.replacer[v+1]);if(this.cache&&j.length<=this.I&&(this.D.set(j,T),this.D.size>this.L&&(this.D.clear(),this.I=this.I/1.1|0)),T){if(T!==j)if(o){if(s[T])continue;s[T]=1}else{if(p===T)continue;p=T}u.push(T)}}}return this.finalize&&(u=this.finalize(u)||u),this.cache&&n.length<=this.H&&(this.B.set(n,u),this.B.size>this.L&&(this.B.clear(),this.H=this.H/1.1|0)),u},Me.prototype.set=function(n,o){this.cache.set(this.h=n,o),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},Me.prototype.get=function(n){let o=this.cache.get(n);return o&&this.h!==n&&(this.cache.delete(n),this.cache.set(this.h=n,o)),o},Me.prototype.remove=function(n){for(let o of this.cache){let i=o[0];o[1].includes(n)&&this.cache.delete(i)}},Me.prototype.clear=function(){this.cache.clear(),this.h=""},yr={normalize:!1,numeric:!1,dedupe:!1},Qn={},sr=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),lr=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),vr=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],wr={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,\u00DF:2,d:3,t:3,l:4,m:5,n:5,r:6},Zn={Exact:yr,Default:Qn,Normalize:Qn,LatinBalance:{mapper:sr},LatinAdvanced:{mapper:sr,matcher:lr,replacer:vr},LatinExtra:{mapper:sr,replacer:vr.concat([/(?!^)[aeo]/g,""]),matcher:lr},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(n){for(let i=0;i<n.length;i++){var o=n[i];let u=o.charAt(0),s=wr[u];for(let f=1,p;f<o.length&&(p=o.charAt(f),p==="h"||p==="w"||!(p=wr[p])||p===s||(u+=p,s=p,u.length!==4));f++);n[i]=u}}},CJK:{split:""},LatinExact:yr,LatinDefault:Qn,LatinSimple:Qn},Le.prototype.clear=function(){this.index.length=0},Le.prototype.push=function(){},fe.prototype.get=function(n){let o=this.index[this.B(n)];return o&&o.get(n)},fe.prototype.set=function(n,o){var i=this.B(n);let u=this.index[i];u?(i=u.size,u.set(n,o),(i-=u.size)&&this.size++):(this.index[i]=u=new Map([[n,o]]),this.h.push(u),this.size++)},Ft.prototype.add=function(n){var o=this.B(n);let i=this.index[o];i?(o=i.size,i.add(n),(o-=i.size)&&this.size++):(this.index[o]=i=new Set([n]),this.h.push(i),this.size++)},At=fe.prototype,At.has=Ft.prototype.has=function(n){let o=this.index[this.B(n)];return o&&o.has(n)},At.delete=Ft.prototype.delete=function(n){let o=this.index[this.B(n)];o&&o.delete(n)&&this.size--},At.clear=Ft.prototype.clear=function(){this.index=ct(),this.h=[],this.size=0},At.values=Ft.prototype.values=function*(){for(let n=0;n<this.h.length;n++)for(let o of this.h[n].values())yield o},At.keys=Ft.prototype.keys=function*(){for(let n=0;n<this.h.length;n++)for(let o of this.h[n].keys())yield o},At.entries=Ft.prototype.entries=function*(){for(let n=0;n<this.h.length;n++)for(let o of this.h[n].entries())yield o},En=0,We("add"),We("append"),We("search"),We("update"),We("remove"),We("clear"),We("export"),We("import"),tn.prototype.searchCache=Ce,He(tn.prototype),St.prototype.add=function(n,o,i){if(Gt(n)&&(o=n,n=_e(o,this.key)),o&&(n||n===0)){if(!i&&this.reg.has(n))return this.update(n,o);for(let y=0,v;y<this.field.length;y++){v=this.B[y];var u=this.index.get(this.field[y]);if(typeof v=="function"){var s=v(o);s&&u.add(n,s,i,!0)}else s=v.G,(!s||s(o))&&(v.constructor===String?v=[""+v]:Kt(v)&&(v=[v]),Sn(o,v,this.D,0,u,n,v[0],i))}if(this.tag)for(u=0;u<this.A.length;u++){var f=this.A[u];s=this.tag.get(this.F[u]);let y=ct();if(typeof f=="function"){if(f=f(o),!f)continue}else{var p=f.G;if(p&&!p(o))continue;f.constructor===String&&(f=""+f),f=_e(o,f)}if(s&&f){Kt(f)&&(f=[f]);for(let v=0,k,T;v<f.length;v++)if(k=f[v],!y[k]&&(y[k]=1,(p=s.get(k))?T=p:s.set(k,T=[]),!i||!T.includes(n))){if(T.length===2**31-1){if(p=new Le(T),this.fastupdate)for(let j of this.reg.values())j.includes(T)&&(j[j.indexOf(T)]=p);s.set(k,T=p)}T.push(n),this.fastupdate&&((p=this.reg.get(n))?p.push(T):this.reg.set(n,[T]))}}}if(this.store&&(!i||!this.store.has(n))){let y;if(this.h){y=ct();for(let v=0,k;v<this.h.length;v++){if(k=this.h[v],(i=k.G)&&!i(o))continue;let T;if(typeof k=="function"){if(T=k(o),!T)continue;k=[k.O]}else if(Kt(k)||k.constructor===String){y[k]=o[k];continue}sn(o,y,k,0,k[0],T)}}this.store.set(n,y||o)}this.worker&&(this.fastupdate||this.reg.add(n))}return this},N.prototype.or=function(){return en(this,"or",zn,arguments)},N.prototype.and=function(){return en(this,"and",Bn,arguments)},N.prototype.xor=function(){return en(this,"xor",Dn,arguments)},N.prototype.not=function(){return en(this,"not",An,arguments)},At=N.prototype,At.limit=function(n){if(this.await){let o=this;this.C.push(function(){return o.limit(n).result})}else if(this.result.length){let o=[];for(let i=0,u;i<this.result.length;i++)if(u=this.result[i])if(u.length<=n){if(o[i]=u,n-=u.length,!n)break}else{o[i]=u.slice(0,n);break}this.result=o}return this},At.offset=function(n){if(this.await){let o=this;this.C.push(function(){return o.offset(n).result})}else if(this.result.length){let o=[];for(let i=0,u;i<this.result.length;i++)(u=this.result[i])&&(u.length<=n?n-=u.length:(o[i]=u.slice(n),n=0));this.result=o}return this},At.boost=function(n){if(this.await){let o=this;this.C.push(function(){return o.boost(n).result})}else this.h+=n;return this},At.resolve=function(n,o,i,u,s){let f=this.await?Y(this,!0):this.result;if(f.then){let p=this;return f.then(function(){return p.resolve(n,o,i,u,s)})}return f.length&&(typeof n=="object"?(u=n.highlight||this.highlight,i=!!u||n.enrich,o=n.offset,n=n.limit):(u=u||this.highlight,i=!!u||i),f=s?i?Mt.call(this.index,f):f:hn.call(this.index,f,n||100,o,i)),this.finalize(f,u)},At.finalize=function(n,o){if(n.then){let u=this;return n.then(function(s){return u.finalize(s,o)})}o&&n.length&&this.query&&(n=On(this.query,n,this.index.index,this.field,o));let i=this.return;return this.highlight=this.index=this.result=this.C=this.await=this.return=null,this.query=this.field="",i&&i(n),n},ct(),St.prototype.search=function(n,o,i,u){i||(!o&&Gt(n)?(i=n,n=""):Gt(o)&&(i=o,o=0));let s=[];var f=[];let p,y,v,k,T,j,W=0,M=!0,R;if(i){i.constructor===Array&&(i={index:i}),n=i.query||n,p=i.pluck,y=i.merge,k=i.boost,j=p||i.field||(j=i.index)&&(j.index?null:j);var z=this.tag&&i.tag;v=i.suggest,M=i.resolve!==!1,T=i.cache,R=M&&this.store&&i.highlight;var B=!!R||M&&this.store&&i.enrich;o=i.limit||o;var ut=i.offset||0;if(o||(o=M?100:0),z&&(!this.db||!u)){z.constructor!==Array&&(z=[z]);var st=[];for(let Yt=0,Nt;Yt<z.length;Yt++)if(Nt=z[Yt],Nt.field&&Nt.tag){var Tt=Nt.tag;if(Tt.constructor===Array)for(var Zt=0;Zt<Tt.length;Zt++)st.push(Nt.field,Tt[Zt]);else st.push(Nt.field,Tt)}else{Tt=Object.keys(Nt);for(let ee=0,$e,me;ee<Tt.length;ee++)if($e=Tt[ee],me=Nt[$e],me.constructor===Array)for(Zt=0;Zt<me.length;Zt++)st.push($e,me[Zt]);else st.push($e,me)}if(z=st,!n){if(f=[],st.length)for(z=0;z<st.length;z+=2){if(this.db){if(u=this.index.get(st[z]),!u)continue;f.push(u=u.db.tag(st[z+1],o,ut,B))}else u=qt.call(this,st[z],st[z+1],o,ut,B);s.push(M?{field:st[z],tag:st[z+1],result:u}:[u])}if(f.length){let Yt=this;return Promise.all(f).then(function(Nt){for(let ee=0;ee<Nt.length;ee++)M?s[ee].result=Nt[ee]:s[ee]=Nt[ee];return M?s:new N(s.length>1?nt(s,1,0,0,v,k):s[0],Yt)})}return M?s:new N(s.length>1?nt(s,1,0,0,v,k):s[0],this)}}M||p||!(j=j||this.field)||(Kt(j)?p=j:(j.constructor===Array&&j.length===1&&(j=j[0]),p=j.field||j.index)),j&&j.constructor!==Array&&(j=[j])}j||(j=this.field);let ge;st=(this.worker||this.db)&&!u&&[];for(let Yt=0,Nt,ee,$e;Yt<j.length;Yt++){if(ee=j[Yt],this.db&&this.tag&&!this.B[Yt])continue;let me;if(Kt(ee)||(me=ee,ee=me.field,n=me.query||n,o=jt(me.limit,o),ut=jt(me.offset,ut),v=jt(me.suggest,v),R=M&&this.store&&jt(me.highlight,R),B=!!R||M&&this.store&&jt(me.enrich,B),T=jt(me.cache,T)),u)Nt=u[Yt];else{Tt=me||i||{},Zt=Tt.enrich;var ne=this.index.get(ee);if(z&&(this.db&&(Tt.tag=z,Tt.field=j,ge=ne.db.support_tag_search),!ge&&Zt&&(Tt.enrich=!1),ge||(Tt.limit=0,Tt.offset=0)),Nt=T?ne.searchCache(n,z&&!ge?0:o,Tt):ne.search(n,z&&!ge?0:o,Tt),z&&!ge&&(Tt.limit=o,Tt.offset=ut),Zt&&(Tt.enrich=Zt),st){st[Yt]=Nt;continue}}if($e=(Nt=Nt.result||Nt)&&Nt.length,z&&$e){if(Tt=[],Zt=0,this.db&&u){if(!ge)for(ne=j.length;ne<u.length;ne++){let le=u[ne];if(le&&le.length)Zt++,Tt.push(le);else if(!v)return M?s:new N(s,this)}}else for(let le=0,Je,pn;le<z.length;le+=2){if(Je=this.tag.get(z[le]),!Je){if(v)continue;return M?s:new N(s,this)}if(pn=(Je=Je&&Je.get(z[le+1]))&&Je.length)Zt++,Tt.push(Je);else if(!v)return M?s:new N(s,this)}if(Zt){if(Nt=Lt(Nt,Tt,o,ut,M),$e=Nt.length,!$e&&!v)return M?Nt:new N(Nt,this);Zt--}}if($e)f[W]=ee,s.push(Nt),W++;else if(j.length===1)return M?s:new N(s,this)}if(st){if(this.db&&z&&z.length&&!ge)for(B=0;B<z.length;B+=2){if(f=this.index.get(z[B]),!f){if(v)continue;return M?s:new N(s,this)}st.push(f.db.tag(z[B+1],o,ut,!1))}let Yt=this;return Promise.all(st).then(function(Nt){return i&&(i.resolve=M),Nt.length&&(Nt=Yt.search(n,o,i,Nt)),Nt})}if(!W)return M?s:new N(s,this);if(p&&(!B||!this.store))return s=s[0],M?s:new N(s,this);for(st=[],ut=0;ut<f.length;ut++){if(z=s[ut],B&&z.length&&typeof z[0].doc>"u"&&(this.db?st.push(z=this.index.get(this.field[0]).db.enrich(z)):z=Mt.call(this,z)),p)return M?R?On(n,z,this.index,p,R):z:new N(z,this);s[ut]={field:f[ut],result:z}}if(B&&this.db&&st.length){let Yt=this;return Promise.all(st).then(function(Nt){for(let ee=0;ee<Nt.length;ee++)s[ee].result=Nt[ee];return R&&(s=On(n,s,Yt.index,p,R)),y?Ct(s):s})}return R&&(s=On(n,s,this.index,p,R)),y?Ct(s):s},At=St.prototype,At.mount=function(n){let o=this.field;if(this.tag)for(let f=0,p;f<this.F.length;f++){p=this.F[f];var i=void 0;this.index.set(p,i=new pe({},this.reg)),o===this.field&&(o=o.slice(0)),o.push(p),i.tag=this.tag.get(p)}i=[];let u={db:n.db,type:n.type,fastupdate:n.fastupdate};for(let f=0,p,y;f<o.length;f++){u.field=y=o[f],p=this.index.get(y);let v=new n.constructor(n.id,u);v.id=n.id,i[f]=v.mount(p),p.document=!0,f?p.bypass=!0:p.store=this.store}let s=this;return this.db=Promise.all(i).then(function(){s.db=!0})},At.commit=async function(){let n=[];for(let o of this.index.values())n.push(o.commit());await Promise.all(n),this.reg.clear()},At.destroy=function(){let n=[];for(let o of this.index.values())n.push(o.destroy());return Promise.all(n)},At.append=function(n,o){return this.add(n,o,!0)},At.update=function(n,o){return this.remove(n).add(n,o)},At.remove=function(n){Gt(n)&&(n=_e(n,this.key));for(var o of this.index.values())o.remove(n,!0);if(this.reg.has(n)){if(this.tag&&!this.fastupdate)for(let i of this.tag.values())for(let u of i){o=u[0];let s=u[1],f=s.indexOf(n);f>-1&&(s.length>1?s.splice(f,1):i.delete(o))}this.store&&this.store.delete(n),this.reg.delete(n)}return this.cache&&this.cache.remove(n),this},At.clear=function(){let n=[];for(let o of this.index.values()){let i=o.clear();i.then&&n.push(i)}if(this.tag)for(let o of this.tag.values())o.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),n.length?Promise.all(n):this},At.contain=function(n){return this.db?this.index.get(this.field[0]).db.has(n):this.reg.has(n)},At.cleanup=function(){for(let n of this.index.values())n.cleanup();return this},At.get=function(n){return this.db?this.index.get(this.field[0]).db.enrich(n).then(function(o){return o[0]&&o[0].doc||null}):this.store.get(n)||null},At.set=function(n,o){return typeof n=="object"&&(o=n,n=_e(o,this.key)),this.store.set(n,o),this},At.searchCache=Ce,At.export=ie,At.import=se,He(St.prototype),pe.prototype.remove=function(n,o){let i=this.reg.size&&(this.fastupdate?this.reg.get(n):this.reg.has(n));if(i){if(this.fastupdate){for(let u=0,s,f;u<i.length;u++)if((s=i[u])&&(f=s.length))if(s[f-1]===n)s.pop();else{let p=s.indexOf(n);p>=0&&s.splice(p,1)}}else Ve(this.map,n),this.depth&&Ve(this.ctx,n);o||this.reg.delete(n)}return this.db&&(this.commit_task.push({del:n}),this.M&&fn(this)),this.cache&&this.cache.remove(n),this},cr={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}},pe.prototype.add=function(n,o,i,u){if(o&&(n||n===0)){if(!u&&!i&&this.reg.has(n))return this.update(n,o);u=this.depth,o=this.encoder.encode(o,!u);let k=o.length;if(k){let T=ct(),j=ct(),W=this.resolution;for(let M=0;M<k;M++){let R=o[this.rtl?k-1-M:M];var s=R.length;if(s&&(u||!j[R])){var f=this.score?this.score(o,R,M,null,0):ye(W,k,M),p="";switch(this.tokenize){case"tolerant":if(Ut(this,j,R,f,n,i),s>2){for(let z=1,B,ut,st,Tt;z<s-1;z++)B=R.charAt(z),ut=R.charAt(z+1),st=R.substring(0,z)+ut,Tt=R.substring(z+2),p=st+B+Tt,Ut(this,j,p,f,n,i),p=st+Tt,Ut(this,j,p,f,n,i);Ut(this,j,R.substring(0,R.length-1),f,n,i)}break;case"full":if(s>2){for(let z=0,B;z<s;z++)for(f=s;f>z;f--){p=R.substring(z,f),B=this.rtl?s-1-z:z;var y=this.score?this.score(o,R,M,p,B):ye(W,k,M,s,B);Ut(this,j,p,y,n,i)}break}case"bidirectional":case"reverse":if(s>1){for(y=s-1;y>0;y--){p=R[this.rtl?s-1-y:y]+p;var v=this.score?this.score(o,R,M,p,y):ye(W,k,M,s,y);Ut(this,j,p,v,n,i)}p=""}case"forward":if(s>1){for(y=0;y<s;y++)p+=R[this.rtl?s-1-y:y],Ut(this,j,p,f,n,i);break}default:if(Ut(this,j,R,f,n,i),u&&k>1&&M<k-1)for(s=this.N,p=R,f=Math.min(u+1,this.rtl?M+1:k-M),y=1;y<f;y++){R=o[this.rtl?k-1-M-y:M+y],v=this.bidirectional&&R>p;let z=this.score?this.score(o,p,M,R,y-1):ye(s+(k/2>s?0:1),k,M,f-1,y-1);Ut(this,T,v?p:R,z,n,i,v?R:p)}}}}this.fastupdate||this.reg.add(n)}}return this.db&&(this.commit_task.push(i?{ins:n}:{del:n}),this.M&&fn(this)),this},pe.prototype.search=function(n,o,i){if(i||(o||typeof n!="object"?typeof o=="object"&&(i=o,o=0):(i=n,n="")),i&&i.cache)return i.cache=!1,n=this.searchCache(n,o,i),i.cache=!0,n;let u=[],s,f,p,y=0,v,k,T,j,W;i&&(n=i.query||n,o=i.limit||o,y=i.offset||0,f=i.context,p=i.suggest,W=(v=i.resolve)&&i.enrich,T=i.boost,j=i.resolution,k=this.db&&i.tag),typeof v>"u"&&(v=this.resolve),f=this.depth&&f!==!1;let M=this.encoder.encode(n,!f);if(s=M.length,o=o||(v?100:0),s===1)return zt.call(this,M[0],"",o,y,v,W,k);if(s===2&&f&&!p)return zt.call(this,M[1],M[0],o,y,v,W,k);let R=ct(),z=0,B;if(f&&(B=M[0],z=1),j||j===0||(j=B?this.N:this.resolution),this.db){if(this.db.search&&(i=this.db.search(this,M,o,y,p,v,W,k),i!==!1))return i;let ut=this;return(async function(){for(let st,Tt;z<s;z++){if((Tt=M[z])&&!R[Tt]){if(R[Tt]=1,st=await oe(ut,Tt,B,0,0,!1,!1),st=xe(st,u,p,j)){u=st;break}B&&(p&&st&&u.length||(B=Tt))}p&&B&&z===s-1&&!u.length&&(j=ut.resolution,B="",z=-1,R=ct())}return bt(u,j,o,y,p,T,v)})()}for(let ut,st;z<s;z++){if((st=M[z])&&!R[st]){if(R[st]=1,ut=oe(this,st,B,0,0,!1,!1),ut=xe(ut,u,p,j)){u=ut;break}B&&(p&&ut&&u.length||(B=st))}p&&B&&z===s-1&&!u.length&&(j=this.resolution,B="",z=-1,R=ct())}return bt(u,j,o,y,p,T,v)},At=pe.prototype,At.mount=function(n){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),n.mount(this)},At.commit=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this)},At.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()},At.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db?(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[],this.db.clear()):this},At.append=function(n,o){return this.add(n,o,!0)},At.contain=function(n){return this.db?this.db.has(n):this.reg.has(n)},At.update=function(n,o){let i=this,u=this.remove(n);return u&&u.then?u.then(()=>i.add(n,o)):this.add(n,o)},At.cleanup=function(){return this.fastupdate?(Ve(this.map),this.depth&&Ve(this.ctx),this):this},At.searchCache=Ce,At.export=function(n,o,i=0,u=0){let s,f;switch(u){case 0:s="reg",f=gt(this.reg);break;case 1:s="cfg",f=null;break;case 2:s="map",f=E(this.map,this.reg.size);break;case 3:s="ctx",f=q(this.ctx,this.reg.size);break;default:return}return mt.call(this,n,o,s,f,i,u)},At.import=function(n,o){if(o)switch(typeof o=="string"&&(o=JSON.parse(o)),n=n.split("."),n[n.length-1]==="json"&&n.pop(),n.length===3&&n.shift(),n=n.length>1?n[1]:n[0],n){case"reg":this.fastupdate=!1,this.reg=it(o,this.reg);break;case"map":this.map=D(o,this.map);break;case"ctx":this.ctx=X(o,this.ctx)}},At.serialize=function(n=!0){let o="",i="",u="";if(this.reg.size){let f;for(var s of this.reg.keys())f||(f=typeof s),o+=(o?",":"")+(f==="string"?'"'+s+'"':s);o="index.reg=new Set(["+o+"]);",i=Ie(this.map,f),i="index.map=new Map(["+i+"]);";for(let p of this.ctx.entries()){s=p[0];let y=Ie(p[1],f);y="new Map(["+y+"])",y='["'+s+'",'+y+"]",u+=(u?",":"")+y}u="index.ctx=new Map(["+u+"]);"}return n?"function inject(index){"+o+i+u+"}":o+i+u},He(pe.prototype),hr=typeof window<"u"&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),Hn=["map","ctx","tag","reg","cfg"],Ln=ct(),At=De.prototype,At.mount=function(n){return n.index?n.mount(this):(n.db=this,this.open())},At.open=function(){if(this.db)return this.db;let n=this;navigator.storage&&navigator.storage.persist&&navigator.storage.persist(),Ln[n.id]||(Ln[n.id]=[]),Ln[n.id].push(n.field);let o=hr.open(n.id,1);return o.onupgradeneeded=function(){let i=n.db=this.result;for(let u=0,s;u<Hn.length;u++){s=Hn[u];for(let f=0,p;f<Ln[n.id].length;f++)p=Ln[n.id][f],i.objectStoreNames.contains(s+(s!=="reg"&&p?":"+p:""))||i.createObjectStore(s+(s!=="reg"&&p?":"+p:""))}},n.db=nn(o,function(i){n.db=i,n.db.onversionchange=function(){n.close()}})},At.close=function(){this.db&&this.db.close(),this.db=null},At.destroy=function(){let n=hr.deleteDatabase(this.id);return nn(n)},At.clear=function(){let n=[];for(let i=0,u;i<Hn.length;i++){u=Hn[i];for(let s=0,f;s<Ln[this.id].length;s++)f=Ln[this.id][s],n.push(u+(u!=="reg"&&f?":"+f:""))}let o=this.db.transaction(n,"readwrite");for(let i=0;i<n.length;i++)o.objectStore(n[i]).clear();return nn(o)},At.get=function(n,o,i=0,u=0,s=!0,f=!1){n=this.db.transaction((o?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((o?"ctx":"map")+(this.field?":"+this.field:"")).get(o?o+":"+n:n);let p=this;return nn(n).then(function(y){let v=[];if(!y||!y.length)return v;if(s){if(!i&&!u&&y.length===1)return y[0];for(let k=0,T;k<y.length;k++)if((T=y[k])&&T.length){if(u>=T.length){u-=T.length;continue}let j=i?u+Math.min(T.length-u,i):T.length;for(let W=u;W<j;W++)v.push(T[W]);if(u=0,v.length===i)break}return f?p.enrich(v):v}return y})},At.tag=function(n,o=0,i=0,u=!1){n=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(n);let s=this;return nn(n).then(function(f){return!f||!f.length||i>=f.length?[]:!o&&!i?f:(f=f.slice(i,i+o),u?s.enrich(f):f)})},At.enrich=function(n){typeof n!="object"&&(n=[n]);let o=this.db.transaction("reg","readonly").objectStore("reg"),i=[];for(let u=0;u<n.length;u++)i[u]=nn(o.get(n[u]));return Promise.all(i).then(function(u){for(let s=0;s<u.length;s++)u[s]={id:n[s],doc:u[s]?JSON.parse(u[s]):null};return u})},At.has=function(n){return n=this.db.transaction("reg","readonly").objectStore("reg").getKey(n),nn(n).then(function(o){return!!o})},At.search=null,At.info=function(){},At.transaction=function(n,o,i){n+=n!=="reg"&&this.field?":"+this.field:"";let u=this.h[n+":"+o];if(u)return i.call(this,u);let s=this.db.transaction(n,o);this.h[n+":"+o]=u=s.objectStore(n);let f=i.call(this,u);return this.h[n+":"+o]=null,nn(s).finally(function(){return f})},At.commit=async function(n){let o=n.commit_task,i=[];n.commit_task=[];for(let u=0,s;u<o.length;u++)s=o[u],s.del&&i.push(s.del);i.length&&await this.remove(i),n.reg.size&&(await this.transaction("map","readwrite",function(u){for(let s of n.map){let f=s[0],p=s[1];p.length&&(u.get(f).onsuccess=function(){let y=this.result;var v;if(y&&y.length){let k=Math.max(y.length,p.length);for(let T=0,j,W;T<k;T++)if((W=p[T])&&W.length){if((j=y[T])&&j.length)for(v=0;v<W.length;v++)j.push(W[v]);else y[T]=W;v=1}}else y=p,v=1;v&&u.put(y,f)})}}),await this.transaction("ctx","readwrite",function(u){for(let s of n.ctx){let f=s[0],p=s[1];for(let y of p){let v=y[0],k=y[1];k.length&&(u.get(f+":"+v).onsuccess=function(){let T=this.result;var j;if(T&&T.length){let W=Math.max(T.length,k.length);for(let M=0,R,z;M<W;M++)if((z=k[M])&&z.length){if((R=T[M])&&R.length)for(j=0;j<z.length;j++)R.push(z[j]);else T[M]=z;j=1}}else T=k,j=1;j&&u.put(T,f+":"+v)})}}}),n.store?await this.transaction("reg","readwrite",function(u){for(let s of n.store){let f=s[0],p=s[1];u.put(typeof p=="object"?JSON.stringify(p):1,f)}}):n.bypass||await this.transaction("reg","readwrite",function(u){for(let s of n.reg.keys())u.put(1,s)}),n.tag&&await this.transaction("tag","readwrite",function(u){for(let s of n.tag){let f=s[0],p=s[1];p.length&&(u.get(f).onsuccess=function(){let y=this.result;y=y&&y.length?y.concat(p):p,u.put(y,f)})}}),n.map.clear(),n.ctx.clear(),n.tag&&n.tag.clear(),n.store&&n.store.clear(),n.document||n.reg.clear())},At.remove=function(n){return typeof n!="object"&&(n=[n]),Promise.all([this.transaction("map","readwrite",function(o){o.openCursor().onsuccess=function(){let i=this.result;i&&jn(i,n)}}),this.transaction("ctx","readwrite",function(o){o.openCursor().onsuccess=function(){let i=this.result;i&&jn(i,n)}}),this.transaction("tag","readwrite",function(o){o.openCursor().onsuccess=function(){let i=this.result;i&&jn(i,n,!0)}}),this.transaction("reg","readwrite",function(o){for(let i=0;i<n.length;i++)o.delete(n[i])})])},xr={Index:pe,Charset:Zn,Encoder:be,Document:St,Worker:tn,Resolver:N,IndexedDB:De,Language:{}},Mr=pe,jr=Zn,Tr=be,Pr=St,Pn=tn,Nr=N,Ir=De,$r={}});function Xr(n,o){if(!n)return;function i(s){s.target===this&&(s.preventDefault(),s.stopPropagation(),o())}function u(s){s.key.startsWith("Esc")&&(s.preventDefault(),o())}n?.addEventListener("click",i),window.addCleanup(()=>n?.removeEventListener("click",i)),document.addEventListener("keydown",u),window.addCleanup(()=>document.removeEventListener("keydown",u))}function Vn(n){for(;n.firstChild;)n.removeChild(n.firstChild)}var ci=Object.hasOwnProperty,_r=dt(pt(),1),Yr=(0,_r.default)();function Kr(n){let o=Gr(Dr(n,"index"),!0);return o.length===0?"/":o}var qr=(n,o,i)=>{let u=new URL(n.getAttribute(o),i);n.setAttribute(o,u.pathname+u.hash)};function Jr(n,o){n.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(i=>qr(i,"href",o)),n.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(i=>qr(i,"src",o))}function zr(n){let o=Kr(n);return o.startsWith("/")?o:`/${o}`}function Br(n,o){return n===o||n.endsWith("/"+o)}function Dr(n,o){return Br(n,o)&&(n=n.slice(0,-o.length)),n}function Gr(n,o){return n.startsWith("/")&&(n=n.substring(1)),!o&&n.endsWith("/")&&(n=n.slice(0,-1)),n}var m="basic",b="",C=new DOMParser,I=new Map,H=30,U=8,J=5,tt=!1,ft=null,yt=null,$t=null,ot=n=>{let o=[],i=-1,u=-1,s=n.toLowerCase(),f=0;for(let p of s){let y=p.codePointAt(0);y>=12352&&y<=12447||y>=12448&&y<=12543||y>=19968&&y<=40959||y>=44032&&y<=55215||y>=131072&&y<=173791?(i!==-1&&(o.push(s.slice(i,u)),i=-1),o.push(p)):y===32||y===9||y===10||y===13?i!==-1&&(o.push(s.slice(i,u)),i=-1):(i===-1&&(i=f),u=f+p.length),f+=p.length}return i!==-1&&o.push(s.slice(i)),o};async function Pt(){return $t||($t=(async()=>{ft||(ft=(await Promise.resolve().then(()=>(Wr(),wt))).default),yt||(yt=await(await fetch("/static/contentIndex.json")).json())})(),$t)}var Q=null;function ht(){!ft||Q||(Q=new ft.Document({encode:ot,document:{id:"id",tag:"tags",index:[{field:"title",tokenize:"forward"},{field:"content",tokenize:"forward"},{field:"tags",tokenize:"forward"}]}}))}function Bt(n){let o=n.split(/\s+/).filter(u=>u.trim()!==""),i=o.length;if(i>1)for(let u=1;u<i;u++)o.push(o.slice(0,u+1).join(" "));return o.sort((u,s)=>s.length-u.length)}function Et(n,o){let i=k=>o.some(T=>k.toLowerCase().startsWith(T.toLowerCase())),u=n.map(i),s=0,f=0;for(let k=0;k<Math.max(n.length-H,0);k++){let T=u.slice(k,k+H).reduce((j,W)=>j+(W?1:0),0);T>=s&&(s=T,f=k)}let p=Math.max(f-H,0),y=Math.min(p+2*H,n.length-1),v=n.slice(p,y);return{startIndex:p,endIndex:y,trimmedText:v}}function ae(n,o){return n.map(i=>{for(let u of o)if(i.toLowerCase().includes(u.toLowerCase())){let s=new RegExp(u.toLowerCase(),"gi");return i.replace(s,'<span class="highlight">$&</span>')}return i}).join(" ")}function Ae(n,o,i){let u=Bt(n),s=o.split(/\s+/).filter(v=>v!==""),f=0,p=s.length-1;if(i){let v=Et(s,u);f=v.startIndex,p=v.endIndex,s=v.trimmedText}let y=ae(s,u);return`${f===0?"":"..."}${y}${p===s.length-1?"":"..."}`}function Ee(n){let o=document.createElement("span");return o.className="highlight",o.textContent=n,o}function Re(n,o){if(n.nodeType===Node.TEXT_NODE){let i=n.nodeValue??"",u=new RegExp(o.toLowerCase(),"gi"),s=i.match(u);if(!s||s.length===0)return;let f=document.createElement("span"),p=0;for(let y of s){let v=i.indexOf(y,p);f.appendChild(document.createTextNode(i.slice(p,v))),f.appendChild(Ee(y)),p=v+y.length}f.appendChild(document.createTextNode(i.slice(p))),n.parentNode?.replaceChild(f,n)}else if(n.nodeType===Node.ELEMENT_NODE){if(n.classList.contains("highlight"))return;Array.from(n.childNodes).forEach(i=>Re(i,o))}}function rn(n,o){let i=Bt(n),u=C.parseFromString(o.innerHTML,"text/html");for(let s of i)Re(u.body,s);return u.body}async function Un(n){if(!Q)throw new Error("Search index not initialized");return await Q.searchAsync({query:n,limit:U,index:["title","content"]})}async function tr(n){if(!Q)throw new Error("Search index not initialized");return await Q.searchAsync({query:n,limit:U,index:["tags"]})}async function er(n,o){if(!Q)throw new Error("Search index not initialized");let i=await Q.searchAsync({query:o,limit:Math.max(U,1e4),index:["title","content"],tag:{tags:n}});for(let u of i)u.result=u.result.slice(0,U);return i}function Wn(n){let o=i=>{let u=n.filter(s=>s.field===i);return u.length===0?[]:[...u[0].result]};return[...new Set([...o("title"),...o("content"),...o("tags")])]}async function Xe(n){if(tt||!Q)return;let o=0,i=[];for(let[u,s]of Object.entries(n))i.push(Q.addAsync(o++,{id:o,slug:u,title:s.title,content:s.content,tags:s.tags}));await Promise.all(i),tt=!0}function Xn(n,o,i,u,s,f,p){return function(){n.classList.remove("active"),o.value="",p&&(p.style.zIndex=""),Vn(s),f&&Vn(f),i.classList.remove("display-results"),m="basic",u.focus()}}function Yn(n,o,i){return function(u){m=u,i&&(i.style.zIndex="1"),n.classList.add("active"),o.focus()}}function Ue(n){return function(o){return new URL(zr(o),location.toString())}}function dn(n,o){return!o||m!=="tags"?[]:o.map(i=>i.toLowerCase().includes(n.toLowerCase())?`<li><p class="match-tag">#${i}</p></li>`:`<li><p>#${i}</p></li>`).slice(0,J)}function Cn(n,o){return function(i,u){let s=o[u];return{id:u,slug:s,title:m==="tags"?n[s].title:Ae(i,n[s].title??""),content:Ae(i,n[s].content??"",!0),tags:dn(i.substring(1),n[s].tags)}}}function on(n,o,i){return function({slug:u,title:s,content:f,tags:p}){let y=p.length>0?`<ul class="tags">${p.join("")}</ul>`:"",v=document.createElement("a");v.classList.add("result-card"),v.id=u,v.href=n(u).toString(),v.innerHTML=`
      <h3 class="card-title">${s}</h3>
      ${y}
      <p class="card-description">${f}</p>
    `;let k=j=>{j.altKey||j.ctrlKey||j.metaKey||j.shiftKey||o()};async function T(j){if(!j.target)return;let W=j.target;await i(W)}return v.addEventListener("mouseenter",T),window.addCleanup(()=>v.removeEventListener("mouseenter",T)),v.addEventListener("click",k),window.addCleanup(()=>v.removeEventListener("click",k)),v}}function ze(n,o){n.innerHTML=`<a class="result-card no-match">
      <h3>No results.</h3>
      <p>Try another search term?</p>
  </a>`,o&&Vn(o)}async function _n(n,o){let i=n.firstElementChild;return i.classList.add("focus"),await o(i),i}function Ye(n,o,i,u){return async function(s,f){if(Vn(n),s.length===0){ze(n,o);return}n.append(...s.map(i)),f.value=await _n(n,u)}}function Qr(n){return async function(o){if(I.has(o))return I.get(o);let i=n(o).toString(),u=await fetch(i).then(s=>s.text()).then(s=>{if(s===void 0)throw new Error(`Could not fetch ${i}`);let f=C.parseFromString(s??"","text/html");return Jr(f,i),[...f.getElementsByClassName("popover-hint")]});return I.set(o,u),u}}function Ar(n,o,i,u){return async function(s){if(!n||!o||!s||!i)return;let f=s.id,p=await u(f).then(v=>v.flatMap(k=>[...rn(b,k).children])),y=document.createElement("div");y.classList.add("preview-inner"),y.append(...p),i.replaceChildren(y),[...i.getElementsByClassName("highlight")].sort((v,k)=>k.innerHTML.length-v.innerHTML.length)[0]?.scrollIntoView({block:"start"})}}function Zr(n,o,i,u,s){return n.key==="k"&&(n.ctrlKey||n.metaKey)&&!n.shiftKey?(n.preventDefault(),o.classList.contains("active")?i():u("basic"),!0):n.shiftKey&&(n.ctrlKey||n.metaKey)&&n.key.toLowerCase()==="k"?(n.preventDefault(),o.classList.contains("active")?i():(u("tags"),s.value="#"),!0):!1}async function fr(n,o){if(n.contains(document.activeElement)){let i=document.activeElement;if(i.classList.contains("no-match"))return;await o(i),i.click()}else{let i=document.getElementsByClassName("result-card")[0];if(!i||i.classList.contains("no-match"))return;await o(i),i.click()}}async function hi(n,o,i){if(n.contains(document.activeElement)){let u=o.value||document.activeElement,s=u?.previousElementSibling;u?.classList.remove("focus"),s?.focus(),s&&(o.value=s),await i(s)}}async function fi(n,o,i,u){if(document.activeElement===o||i.value!==null){let s=i.value||document.getElementsByClassName("result-card")[0],f=s?.nextElementSibling;s?.classList.remove("focus"),f?.focus(),f&&(i.value=f),await u(f)}}function Rr(n,o,i,u,s,f,p){return async function(y){Zr(y,n,u,s,i)||(p.value&&p.value.classList.remove("focus"),n.classList.contains("active")&&(y.key==="Enter"&&!y.isComposing?await fr(o,f):y.key==="ArrowUp"||y.shiftKey&&y.key==="Tab"?(y.preventDefault(),await hi(o,p,f)):(y.key==="ArrowDown"||y.key==="Tab")&&(y.preventDefault(),await fi(o,i,p,f))))}}function Fr(n,o,i,u){return async function(s){if(!n||!Q)return;b=s.target.value,n.classList.toggle("display-results",b!==""),m=b.startsWith("#")?"tags":"basic";let f;if(m==="tags"){b=b.substring(1).trim();let y=b.indexOf(" ");if(y!=-1){let v=b.substring(0,y),k=b.substring(y+1).trim();f=await er(v,k),m="basic",b=k}else f=await tr(b)}else f=await Un(b);let p=Wn(f).map(y=>o(b,y));await i(p,u)}}async function Oi(n,o){let i=n.querySelector(".search-container");if(!i)return;let u=i.closest(".sidebar"),s=n.querySelector(".search-button");if(!s)return;let f=n.querySelector(".search-bar");if(!f)return;let p=n.querySelector(".search-layout");if(!p)return;let y=!1;async function v(){if(!y){f.placeholder="Loading search...",f.disabled=!0;try{await Pt(),ht(),yt&&await Xe(yt),y=!0,f.placeholder=f.getAttribute("aria-label")||"Search",f.disabled=!1}catch(le){console.error("Failed to initialize search:",le),f.placeholder="Search unavailable",f.disabled=!1}}}let k=yt||{},T=Object.keys(k),j=p.dataset.preview==="true",W=document.createElement("div");W.className="results-container",p.appendChild(W);let M;j&&(M=document.createElement("div"),M.className="preview-container",p.appendChild(M));let R={value:null},z=Xn(i,f,p,s,W,M,u),B=Yn(i,f,u),ut=async le=>{await v(),B(le)},st=Ue(o),Tt=Qr(st),Zt=Ar(p,j,M,Tt),ge=Cn(k,T),ne=on(st,z,Zt),Yt=Ye(W,M,ne,Zt),Nt=Fr(p,ge,Yt,R),ee=()=>{let le=yt||{},Je=Object.keys(le);ge=Cn(le,Je),ne=on(st,z,Zt),Yt=Ye(W,M,ne,Zt),Nt=Fr(p,ge,Yt,R),f.removeEventListener("input",Nt),f.addEventListener("input",Nt)},$e=Rr(i,W,f,z,ut,Zt,R);document.addEventListener("keydown",$e),window.addCleanup(()=>document.removeEventListener("keydown",$e)),s.addEventListener("click",async()=>{await ut("basic")}),window.addCleanup(()=>s.removeEventListener("click",()=>ut("basic")));let me=async le=>{await v(),ee(),Nt(le)};f.addEventListener("input",me),window.addCleanup(()=>f.removeEventListener("input",me)),Xr(i,z)}async function Li(n){let o=n.detail.url,i=document.getElementsByClassName("search");for(let u of i)await Oi(u,o)}document.addEventListener("nav",Li)})(),(function(){var ve=Object.create,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyNames,G=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,K=(N,Y)=>()=>(Y||N((Y={exports:{}}).exports,Y),Y.exports),we=(N,Y,nt,xt)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let Lt of rt(Y))!lt.call(N,Lt)&&Lt!==nt&&kt(N,Lt,{get:()=>Y[Lt],enumerable:!(xt=Rt(Y,Lt))||xt.enumerable});return N},Pe=(N,Y,nt)=>(nt=N!=null?ve(G(N)):{},we(Y||!N||!N.__esModule?kt(nt,"default",{value:N,enumerable:!0}):nt,N)),Ne=K((N,Y)=>{"use strict";Y.exports=xt;function nt(Ct){return Ct instanceof Buffer?Buffer.from(Ct):new Ct.constructor(Ct.buffer.slice(),Ct.byteOffset,Ct.length)}function xt(Ct){if(Ct=Ct||{},Ct.circles)return Lt(Ct);let qt=new Map;if(qt.set(Date,E=>new Date(E)),qt.set(Map,(E,D)=>new Map(St(Array.from(E),D))),qt.set(Set,(E,D)=>new Set(St(Array.from(E),D))),Ct.constructorHandlers)for(let E of Ct.constructorHandlers)qt.set(E[0],E[1]);let Mt=null;return Ct.proto?de:Jt;function St(E,D){let q=Object.keys(E),X=new Array(q.length);for(let gt=0;gt<q.length;gt++){let it=q[gt],mt=E[it];typeof mt!="object"||mt===null?X[it]=mt:mt.constructor!==Object&&(Mt=qt.get(mt.constructor))?X[it]=Mt(mt,D):ArrayBuffer.isView(mt)?X[it]=nt(mt):X[it]=D(mt)}return X}function Jt(E){if(typeof E!="object"||E===null)return E;if(Array.isArray(E))return St(E,Jt);if(E.constructor!==Object&&(Mt=qt.get(E.constructor)))return Mt(E,Jt);let D={};for(let q in E){if(Object.hasOwnProperty.call(E,q)===!1)continue;let X=E[q];typeof X!="object"||X===null?D[q]=X:X.constructor!==Object&&(Mt=qt.get(X.constructor))?D[q]=Mt(X,Jt):ArrayBuffer.isView(X)?D[q]=nt(X):D[q]=Jt(X)}return D}function de(E){if(typeof E!="object"||E===null)return E;if(Array.isArray(E))return St(E,de);if(E.constructor!==Object&&(Mt=qt.get(E.constructor)))return Mt(E,de);let D={};for(let q in E){let X=E[q];typeof X!="object"||X===null?D[q]=X:X.constructor!==Object&&(Mt=qt.get(X.constructor))?D[q]=Mt(X,de):ArrayBuffer.isView(X)?D[q]=nt(X):D[q]=de(X)}return D}}function Lt(Ct){let qt=[],Mt=[],St=new Map;if(St.set(Date,q=>new Date(q)),St.set(Map,(q,X)=>new Map(de(Array.from(q),X))),St.set(Set,(q,X)=>new Set(de(Array.from(q),X))),Ct.constructorHandlers)for(let q of Ct.constructorHandlers)St.set(q[0],q[1]);let Jt=null;return Ct.proto?D:E;function de(q,X){let gt=Object.keys(q),it=new Array(gt.length);for(let mt=0;mt<gt.length;mt++){let ie=gt[mt],se=q[ie];if(typeof se!="object"||se===null)it[ie]=se;else if(se.constructor!==Object&&(Jt=St.get(se.constructor)))it[ie]=Jt(se,X);else if(ArrayBuffer.isView(se))it[ie]=nt(se);else{let Ie=qt.indexOf(se);Ie!==-1?it[ie]=Mt[Ie]:it[ie]=X(se)}}return it}function E(q){if(typeof q!="object"||q===null)return q;if(Array.isArray(q))return de(q,E);if(q.constructor!==Object&&(Jt=St.get(q.constructor)))return Jt(q,E);let X={};qt.push(q),Mt.push(X);for(let gt in q){if(Object.hasOwnProperty.call(q,gt)===!1)continue;let it=q[gt];if(typeof it!="object"||it===null)X[gt]=it;else if(it.constructor!==Object&&(Jt=St.get(it.constructor)))X[gt]=Jt(it,E);else if(ArrayBuffer.isView(it))X[gt]=nt(it);else{let mt=qt.indexOf(it);mt!==-1?X[gt]=Mt[mt]:X[gt]=E(it)}}return qt.pop(),Mt.pop(),X}function D(q){if(typeof q!="object"||q===null)return q;if(Array.isArray(q))return de(q,D);if(q.constructor!==Object&&(Jt=St.get(q.constructor)))return Jt(q,D);let X={};qt.push(q),Mt.push(X);for(let gt in q){let it=q[gt];if(typeof it!="object"||it===null)X[gt]=it;else if(it.constructor!==Object&&(Jt=St.get(it.constructor)))X[gt]=Jt(it,D);else if(ArrayBuffer.isView(it))X[gt]=nt(it);else{let mt=qt.indexOf(it);mt!==-1?X[gt]=Mt[mt]:X[gt]=D(it)}}return qt.pop(),Mt.pop(),X}}}),dt=Object.hasOwnProperty,pt=Pe(Ne(),1),_t=(0,pt.default)();function wt(N){let Y=Kt(ct(N,"index"),!0);return Y.length===0?"/":Y}function at(N){let Y=wt(N);return Y.startsWith("/")?Y:`/${Y}`}function jt(N,Y){return N===Y||N.endsWith("/"+Y)}function ct(N,Y){return jt(N,Y)&&(N=N.slice(0,-Y.length)),N}function Kt(N,Y){return N.startsWith("/")&&(N=N.substring(1)),!Y&&N.endsWith("/")&&(N=N.slice(0,-1)),N}function Gt(N){return N.trim().replace(/\/+$/,"")}var _e=class{cache=new Map;parseIconId(N){let Y=N.split(":");if(Y.length!==2)return console.warn(`Invalid icon identifier format: ${N}. Expected "provider:icon-name"`),null;let[nt,xt]=Y;return nt!=="mdi"&&nt!=="custom"?(console.warn(`Unknown icon provider: ${nt}. Supported: mdi, custom`),null):{provider:nt,iconName:xt}}getIconUrl(N,Y){switch(N){case"mdi":return`https://cdn.jsdelivr.net/npm/@mdi/svg@7.4.47/svg/${Y}.svg`;case"custom":return`/static/icons/${Y}.svg`;default:throw new Error(`No URL builder for provider: ${N}`)}}async fetchIcon(N){let Y=this.parseIconId(N);if(!Y)return null;let nt=this.getIconUrl(Y.provider,Y.iconName);try{let xt=await fetch(nt);return xt.ok?await xt.text():(console.warn(`Failed to fetch icon ${N} from ${nt}: ${xt.status}`),null)}catch(xt){return console.warn(`Error fetching icon ${N}:`,xt),null}}async getIcon(N){if(this.cache.has(N))return this.cache.get(N);let Y=await this.fetchIcon(N);if(!Y)return null;Y=Y.replace(/\sfill="[^"]*"/g,""),Y=Y.replace(/<path\s/g,'<path fill="white" '),Y=Y.replace(/<circle\s/g,'<circle fill="white" '),Y=Y.replace(/<rect\s/g,'<rect fill="white" '),Y=Y.replace(/<ellipse\s/g,'<ellipse fill="white" '),Y=Y.replace(/<polygon\s/g,'<polygon fill="white" '),Y=Y.replace(/<polyline\s/g,'<polyline fill="white" ');let nt=`data:image/svg+xml;base64,${btoa(Y)}`,xt={svgContent:Y,dataUri:nt};return this.cache.set(N,xt),xt}async preloadIcons(N){await Promise.all(N.map(Y=>this.getIcon(Y)))}clearCache(){this.cache.clear()}},be=new _e,Wt;function Ce(N){if(!N.useSavedState)return new Map;let Y=localStorage.getItem("tagTree");if(!Y)return new Map;let nt=JSON.parse(Y);return new Map(nt.map(xt=>[xt.path,xt.collapsed]))}function Me(){let N=JSON.stringify(Wt);localStorage.setItem("tagTree",N)}function Ke(){let N=sessionStorage.getItem("tagExplorerScrollTop");return N?parseInt(N):null}function Le(N){sessionStorage.setItem("tagExplorerScrollTop",N.scrollTop.toString())}function fe(N,Y){let nt=Wt.find(xt=>xt.path===N);nt?nt.collapsed=Y:Wt.push({path:N,collapsed:Y})}function Ft(N,Y){let nt=Gt(N);return Y.some(xt=>Gt(xt)===nt)}function Qt(N,Y){return!(Wt.find(nt=>nt.path===N)?.collapsed??Y.folderDefaultState==="collapsed")}function je(N,Y){return(nt,xt)=>{let Lt=Y.tags[nt],Ct=Y.tags[xt],qt=Lt?.totalPostCount??0,Mt=Ct?.totalPostCount??0,St=nt.split("/").pop()??"",Jt=xt.split("/").pop()??"";switch(N){case"count-desc":return Mt-qt;case"count-asc":return qt-Mt;case"alphabetical":return St.localeCompare(Jt,void 0,{numeric:!0,sensitivity:"base"});case"alphabetical-reverse":return Jt.localeCompare(St,void 0,{numeric:!0,sensitivity:"base"});default:return 0}}}function Oe(N,Y){return Y.tags[N]?.children??[]}async function He(N,Y,nt){let xt=document.getElementById("template-file-node").content.cloneNode(!0).querySelector("li"),Lt=xt.querySelector("a"),Ct=xt.querySelector(".file-icon"),qt=xt.querySelector(".file-title");if(Lt.href=at(nt.slug),Lt.dataset.for=nt.slug,qt.textContent=nt.title,N===nt.slug&&Lt.classList.add("active"),nt.tags.includes("private")){let Mt=await be.getIcon("mdi:lock");if(Mt){Ct.innerHTML=Mt.svgContent;let St=Ct.querySelector("svg");St&&(St.setAttribute("width","12"),St.setAttribute("height","12"),St.style.marginRight="4px")}}return xt}function an(N,Y,nt,xt,Lt){let Ct=N.querySelector(".tag-button"),qt=document.createElement("a");qt.href=at(`tags/${nt}`),qt.dataset.for=nt,qt.className="tag-link";let Mt=xt.tags[nt];Mt?.color&&qt.style.setProperty("--tag-color",Mt.color);let St=document.createElement("span");St.className="tag-title";let Jt=nt.split("/").pop()??nt;if(St.textContent=`#${Jt}`,qt.appendChild(St),Lt.showFileCount){let de=document.createElement("span");de.className="tag-count",de.textContent=` (${Mt?.totalPostCount??0})`,qt.appendChild(de)}Ct.replaceWith(qt)}function cn(N,Y,nt,xt){let Lt=N.querySelector(".tag-title"),Ct=Y.split("/").pop()??Y;Lt.textContent=`#${Ct}`;let qt=nt.tags[Y];if(qt?.color&&N.style.setProperty("--tag-color",qt.color),xt.showFileCount){let Mt=N.querySelector(".tag-count");Mt.textContent=` (${qt?.totalPostCount??0})`}else N.querySelector(".tag-count")?.remove()}async function tn(N,Y,nt,xt,Lt,Ct){let qt=Oe(nt,xt),Mt=je(Ct.tagNodeSort,xt);qt.sort(Mt);for(let Jt of qt){if(Ft(Jt,Ct.excludeTags))continue;let de=await We(Y,Jt,xt,Lt,Ct);N.appendChild(de)}let St=[];for(let[Jt,de]of Lt)de.tags.includes(nt)&&St.push([Jt,de]);St.sort(([,Jt],[,de])=>{let E=Jt.tags.includes("private"),D=de.tags.includes("private");return E!==D?E?1:-1:!Jt.date&&!de.date?0:Jt.date?de.date?new Date(de.date).getTime()-new Date(Jt.date).getTime():-1:1});for(let[Jt,de]of St){let E=await He(Y,Jt,de);N.appendChild(E)}}async function We(N,Y,nt,xt,Lt){console.log("_createTagNode:",Y);let Ct=document.getElementById("template-tag-node").content.cloneNode(!0).querySelector("li"),qt=Ct.querySelector(".tag-container"),Mt=qt.querySelector("div"),St=Ct.querySelector(".tag-outer"),Jt=St.querySelector("ul");return qt.dataset.tagpath=Y,console.log("_createTagNode: folderClickBehavior =",Lt.folderClickBehavior),Lt.folderClickBehavior==="link"?an(Mt,N,Y,nt,Lt):cn(Mt,Y,nt,Lt),console.log("_createTagNode: checking if should expand"),Qt(Y,Lt)&&St.classList.add("open"),console.log("_createTagNode: appending child nodes"),await tn(Jt,N,Y,nt,xt,Lt),Ct}function Mn(N){let Y=Ke();Y!==null?N.scrollTop=Y:N.querySelector(".active")?.scrollIntoView({behavior:"smooth"})}function sn(N){return N.nodeName==="svg"?N.parentElement:N.parentElement?.parentElement}function Sn(){let N=this.closest(".tag-explorer");if(!N)return;let Y=N.classList.toggle("collapsed");N.setAttribute("aria-expanded",Y?"false":"true"),Y?document.documentElement.classList.remove("mobile-no-scroll"):document.documentElement.classList.add("mobile-no-scroll")}function hn(N){N.stopPropagation();let Y=N.target;if(!Y)return;let nt=sn(Y);if(!nt)return;let xt=nt.nextElementSibling;if(!xt)return;let Lt=xt.classList.toggle("open"),Ct=nt.dataset.tagpath;fe(Ct,!Lt),Me()}function en(N,Y){let nt=N.getElementsByClassName("tag-explorer-toggle");for(let Lt of nt)Lt.addEventListener("click",Sn),window.addCleanup(()=>Lt.removeEventListener("click",Sn));if(Y.folderClickBehavior==="collapse"){let Lt=N.getElementsByClassName("tag-button");for(let Ct of Lt)Ct.addEventListener("click",hn),window.addCleanup(()=>Ct.removeEventListener("click",hn))}let xt=N.getElementsByClassName("tag-fold-icon");for(let Lt of xt)Lt.addEventListener("click",hn),window.addCleanup(()=>Lt.removeEventListener("click",hn))}function xn(N){return{...JSON.parse(N.dataset.opts||"{}"),folderClickBehavior:N.dataset.behavior||"collapse",folderDefaultState:N.dataset.collapsed||"collapsed",useSavedState:N.dataset.savestate==="true"}}function zn(N,Y){let nt=Ce(Y);Wt=N.allTags.map(xt=>({path:xt,collapsed:nt.get(xt)??Y.folderDefaultState==="collapsed"}))}async function Bn(N,Y,nt,xt,Lt){let Ct=document.createDocumentFragment();console.log("_renderTagTree: topLevelTags =",nt.topLevelTags);let qt=nt.topLevelTags.filter(St=>!Ft(St,Lt.excludeTags));console.log("_renderTagTree: filtered topLevelTags =",qt);let Mt=je(Lt.tagNodeSort,nt);console.log("_renderTagTree: sortFn =",Mt),qt.sort(Mt),console.log("_renderTagTree: sorted topLevelTags =",qt);for(let St of qt){console.log("_renderTagTree: Creating node for tag =",St);let Jt=await We(Y,St,nt,xt,Lt);Ct.appendChild(Jt)}N.insertBefore(Ct,N.firstChild)}function Dn(){for(let N of document.getElementsByClassName("tag-explorer")){let Y=N.querySelector(".mobile-tag-explorer");Y?.checkVisibility()&&(N.classList.add("collapsed"),N.setAttribute("aria-expanded","false"),document.documentElement.classList.remove("mobile-no-scroll"),Y.classList.remove("hide-until-loaded"))}}function An(){let N=document.querySelector(".tag-explorer");N&&!N.classList.contains("collapsed")&&document.documentElement.classList.add("mobile-no-scroll")}async function On(N){let Y=document.querySelectorAll("div.tag-explorer");try{await be.preloadIcons(["mdi:lock"]),console.log("TagExplorer: Fetching TagIndex...");let nt=await fetchTagData;console.log("TagExplorer: TagIndex loaded",nt),console.log("TagExplorer: Fetching content index...");let xt=await fetch("/static/contentIndex.json");console.log("TagExplorer: Content index response status:",xt.status);let Lt=await xt.json();console.log("TagExplorer: Content data loaded, entries:",Object.keys(Lt).length);let Ct=new Map(Object.entries(Lt));console.log("TagExplorer: Content index map created");for(let qt of Y){let Mt=xn(qt);zn(nt,Mt);let St=qt.querySelector(".tag-explorer-ul");St&&(await Bn(St,N,nt,Ct,Mt),Mn(St),en(qt,Mt))}console.log("TagExplorer: Initialization complete")}catch(nt){console.error("Error initializing TagExplorer:",nt),nt instanceof Error&&(console.error("Error message:",nt.message),console.error("Error stack:",nt.stack))}}document.addEventListener("prenav",async()=>{let N=document.querySelector(".tag-explorer-ul");N&&Le(N)}),document.addEventListener("nav",async N=>{await On(N.detail.url),Dn()}),window.addEventListener("resize",An)})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-0");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){function ve(lt){for(let K of lt){let we=K.target.id,Pe=document.querySelectorAll(`a[data-for="${we}"]`),Ne=K.rootBounds?.height;Ne&&Pe.length>0&&(K.boundingClientRect.y<Ne?Pe.forEach(dt=>dt.classList.add("in-view")):Pe.forEach(dt=>dt.classList.remove("in-view")))}}var kt=new IntersectionObserver(ve);function Rt(){this.classList.toggle("collapsed"),this.setAttribute("aria-expanded",this.getAttribute("aria-expanded")==="true"?"false":"true");let lt=this.nextElementSibling;lt&&lt.classList.toggle("collapsed")}function rt(){kt.disconnect(),document.querySelectorAll("h1[id], h2[id], h3[id], h4[id], h5[id], h6[id]").forEach(lt=>kt.observe(lt))}function G(){for(let lt of document.getElementsByClassName("toc")){let K=lt.querySelector(".toc-header"),we=lt.querySelector(".toc-content");if(!K||!we)return;K.addEventListener("click",Rt),window.addCleanup(()=>K.removeEventListener("click",Rt))}}document.addEventListener("nav",()=>{G(),rt()})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-1");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-2");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-3");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-4");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-5");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){async function ve(){if(!document.querySelector("style[data-annotation-viewer-scoped-css]"))try{let dt=(await(await fetch("https://cdn.jsdelivr.net/npm/pdfjs-dist@5.4.530/web/pdf_viewer.min.css")).text()).replace(/([^\r\n,{}]+)(,(?=[^}]*{)|\s*{)/g,(_t,wt,at)=>wt.trim().startsWith("@")||wt.trim().match(/^(:root|html|body)\s*$/)?_t:`.annotation-viewer ${wt}${at}`),pt=document.createElement("style");pt.setAttribute("data-annotation-viewer-scoped-css","true"),pt.textContent=dt,document.head.appendChild(pt)}catch(dt){console.error("Failed to load and scope PDF.js CSS:",dt);let pt=document.createElement("link");pt.rel="stylesheet",pt.href="https://cdn.jsdelivr.net/npm/pdfjs-dist@5.4.530/web/pdf_viewer.min.css",document.head.appendChild(pt)}return new Promise((dt,pt)=>{let _t=document.createElement("script");_t.src="https://cdn.jsdelivr.net/npm/pdfjs-dist@5.4.530/build/pdf.min.mjs",_t.type="module",_t.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdn.jsdelivr.net/npm/pdfjs-dist@5.4.530/build/pdf.worker.min.mjs",dt()},_t.onerror=pt,document.head.appendChild(_t)})}function kt(){let dt=document.getElementById("annotations-data");if(dt)try{window.annotationsData=JSON.parse(dt.textContent||"[]"),console.log("[Annotations] Loaded",window.annotationsData.length,"annotations")}catch(pt){console.error("[Annotations] Failed to parse annotations data:",pt)}}async function Rt(dt,pt,_t,wt){let at=dt.getViewport({scale:_t}),jt=await dt.getTextContent(),ct=jt.items.map(Kt=>Kt.str).join("");return{pageNum:pt,text:ct,positions:[],textItems:jt.items,viewport:at,startOffset:wt,endOffset:wt+ct.length}}function rt(dt){return window.pdfTextData?window.pdfTextData.find(pt=>dt>=pt.startOffset&&dt<pt.endOffset)?.pageNum??null:null}function G(dt,pt){let _t=document.createElement("div");_t.className="pdf-page-wrapper",_t.setAttribute("data-page-num",dt.toString()),_t.style.position="relative",_t.style.width=`${pt.width}px`,_t.style.height=`${pt.height}px`;let wt=document.createElement("canvas");wt.className="pdf-page",wt.setAttribute("data-page-num",dt.toString()),wt.height=pt.height,wt.width=pt.width,wt.style.display="block";let at=document.createElement("div");at.className="textLayer",at.setAttribute("data-page-num",dt.toString());let jt=document.createElement("div");return jt.className="pdf-highlight-layer",jt.style.width=pt.width+"px",jt.style.height=pt.height+"px",_t.appendChild(wt),_t.appendChild(at),_t.appendChild(jt),_t}async function lt(dt,pt,_t){let wt=pt.getContext("2d");if(!wt)return;await dt.render({canvasContext:wt,viewport:_t}).promise;let at=pt.parentElement?.querySelector(".textLayer");if(at)try{let jt=await dt.getTextContent();window.pdfjsLib.TextLayer&&await new window.pdfjsLib.TextLayer({textContentSource:jt,container:at,viewport:_t}).render()}catch(jt){console.warn("Could not render text layer:",jt)}}function K(dt,pt){if(!window.pdfTextData)return null;let _t=window.pdfTextData.find(Wt=>dt>=Wt.startOffset&&dt<Wt.endOffset);if(!_t)return null;let wt=document.querySelector("#pdf-viewer")?.querySelector(`.pdf-page-wrapper[data-page-num="${_t.pageNum}"]`)?.querySelector(".textLayer");if(!wt)return null;let at=Array.from(wt.querySelectorAll("span")),jt=dt-_t.startOffset,ct=0,Kt=null;for(let Wt of at){let Ce=Wt.textContent||"",Me=ct,Ke=ct+Ce.length;if(jt>=Me&&jt<Ke){Kt=Wt;break}ct=Ke}if(!Kt)return null;let Gt=document.querySelector(".annotation-pdf-container");if(!Gt)return null;let _e=Kt.getBoundingClientRect(),be=Gt.getBoundingClientRect();return Gt.scrollTop+(_e.top-be.top)}function we(dt){let pt=dt.querySelector(".annotation-pdf-container"),_t=dt.querySelector(".annotation-sidebar"),wt=Array.from(_t?.querySelectorAll(".annotation-item")||[]);if(wt.length===0||!pt||!_t)return;wt.forEach(Ft=>{let Qt=parseInt(Ft.getAttribute("data-start")||"0"),je=parseInt(Ft.getAttribute("data-end")||"0");if(Qt&&je&&window.pdfTextData){let Oe=K(Qt,je),He=rt(Qt);Oe!==null&&He!==null&&(Ft.setAttribute("data-pdf-y",Oe.toString()),Ft.setAttribute("data-pdf-page",He.toString()),console.log("[Annotation]",Ft.getAttribute("data-annotation-id"),"at page",He,"scroll y:",Oe))}});let at=null,jt=null,ct=null,Kt=null;function Gt(Ft,Qt=600){at=Ft,Kt&&clearTimeout(Kt),Ft!==null&&(Kt=setTimeout(()=>{at=null,jt=null},Qt))}function _e(Ft){return!(at==="programmatic"&&jt===Ft||at==="pdf"&&Ft===_t||at==="sidebar"&&Ft===pt)}let be=!1,Wt=!1;pt.addEventListener("mouseenter",()=>{be=!0}),pt.addEventListener("mouseleave",()=>{be=!1}),_t.addEventListener("mouseenter",()=>{Wt=!0}),_t.addEventListener("mouseleave",()=>{Wt=!1});let Ce=()=>{_e(pt)&&(be&&at!=="pdf"&&Gt("pdf"),ct&&clearTimeout(ct),ct=setTimeout(()=>{if(at!=="pdf")return;let Ft=pt.scrollTop+pt.clientHeight/2,Qt=null,je=1/0;wt.forEach(Oe=>{let He=parseFloat(Oe.getAttribute("data-pdf-y")||"0");if(He>0){let an=Math.abs(He-Ft);an<je&&(je=an,Qt=Oe)}}),Qt&&Ke(Qt)},150))},Me=()=>{_e(_t)&&(Wt&&at!=="sidebar"&&Gt("sidebar"),ct&&clearTimeout(ct),ct=setTimeout(()=>{if(at!=="sidebar")return;let Ft=_t.scrollTop+_t.clientHeight/2,Qt=null,je=1/0;wt.forEach(Oe=>{let He=Oe.offsetTop+Oe.clientHeight/2,an=Math.abs(He-Ft);an<je&&(je=an,Qt=Oe)}),Qt&&Le(Qt)},150))};function Ke(Ft){fe(Ft),Gt("programmatic",600),jt=_t;let Qt=Ft.offsetTop-_t.clientHeight/2+Ft.clientHeight/2;_t.scrollTo({top:Qt,behavior:"smooth"})}function Le(Ft){fe(Ft);let Qt=parseFloat(Ft.getAttribute("data-pdf-y")||"0");if(Qt>0){Gt("programmatic",600),jt=pt;let je=Qt-pt.clientHeight/2;pt.scrollTo({top:je,behavior:"smooth"})}}function fe(Ft){wt.forEach(Oe=>{Oe===Ft?Oe.classList.add("active"):Oe.classList.remove("active")});let Qt=Ft.getAttribute("data-annotation-id"),je=window.annotationsData?.find(Oe=>Oe.id===Qt);je&&window.renderHighlights(je)}pt.addEventListener("scroll",Ce),_t.addEventListener("scroll",Me),wt.forEach(Ft=>{Ft.addEventListener("click",()=>{let Qt=parseFloat(Ft.getAttribute("data-pdf-y")||"0");if(Qt>0){Gt("programmatic",600),jt=pt;let je=Qt-pt.clientHeight/2;pt.scrollTo({top:je,behavior:"smooth"}),fe(Ft)}})}),Gt("pdf",100),setTimeout(()=>Ce(),50)}async function Pe(){let dt=document.querySelector(".annotation-viewer");if(!dt)return;let pt=dt.getAttribute("data-pdf-url");if(!pt)return;let _t=dt.querySelector("#pdf-viewer");if(_t)try{let wt=await window.pdfjsLib.getDocument(pt).promise;_t.innerHTML="";let at=(_t.parentElement?.clientWidth||800)-32,jt=0;for(let _e=1;_e<=wt.numPages;_e++){let be=(await wt.getPage(_e)).getViewport({scale:1});jt=Math.max(jt,be.width)}let ct=at/jt;console.log("[PDF] Container width:",at,"Max page width:",jt,"Scale:",ct);let Kt=[],Gt=0;for(let _e=1;_e<=wt.numPages;_e++){let be=await wt.getPage(_e),Wt=await Rt(be,_e,ct,Gt);Kt.push(Wt),Gt=Wt.endOffset;let Ce=G(_e,Wt.viewport);_t.appendChild(Ce);let Me=Ce.querySelector("canvas");Me&&await lt(be,Me,Wt.viewport)}console.log("[PDF] Extracted text length:",Gt),console.log("[PDF] Pages:",Kt.length),window.pdfTextData=Kt,window.pdfScale=ct,we(dt)}catch(wt){console.error("Error loading PDF:",wt),_t.innerHTML=`<div class="pdf-error">Failed to load PDF: ${wt.message}</div>`}}function Ne(dt){if(document.querySelectorAll(".pdf-text-highlight").forEach(Le=>Le.remove()),!dt.target||dt.target.length===0)return;let pt=dt.target.find(Le=>Le.selector?.some(fe=>fe.type==="TextPositionSelector"));if(!pt)return;let _t=pt.selector?.find(Le=>Le.type==="TextPositionSelector");if(!_t)return;let wt=_t.start,at=_t.end,jt=window.pdfTextData;if(!jt)return;let ct=jt.find(Le=>wt>=Le.startOffset&&wt<Le.endOffset);if(!ct)return;let Kt=document.querySelector("#pdf-viewer")?.querySelector(`.pdf-page-wrapper[data-page-num="${ct.pageNum}"]`),Gt=Kt?.querySelector(".textLayer"),_e=Kt?.querySelector(".pdf-highlight-layer");if(!Gt||!_e)return;let be=Array.from(Gt.querySelectorAll("span")),Wt=wt-ct.startOffset,Ce=Math.min(at-ct.startOffset,ct.text.length),Me=0,Ke=[];for(let Le of be){let fe=Le.textContent||"",Ft=Me,Qt=Me+fe.length;Ft<Ce&&Qt>Wt&&Ke.push(Le),Me=Qt}for(let Le of Ke){let fe=Le.getBoundingClientRect(),Ft=_e.getBoundingClientRect(),Qt=document.createElement("div");Qt.className="pdf-text-highlight",Qt.style.position="absolute",Qt.style.left=`${fe.left-Ft.left}px`,Qt.style.top=`${fe.top-Ft.top}px`,Qt.style.width=`${fe.width}px`,Qt.style.height=`${fe.height}px`,_e.appendChild(Qt)}}(async()=>{if(!document.querySelector(".annotation-viewer"))return;await ve();async function dt(){let pt=document.querySelector(".annotation-viewer");pt&&pt.getAttribute("data-initialized")!=="true"&&(pt.setAttribute("data-initialized","true"),kt(),await Pe())}document.addEventListener("DOMContentLoaded",dt),document.addEventListener("nav",dt),(document.readyState==="complete"||document.readyState==="interactive")&&await dt(),window.renderHighlights=Ne})()})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-7");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-8");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){document.addEventListener("nav",ve=>{const kt=new IntersectionObserver(G=>{for(const lt of G){const K=lt.target.parentElement;if(!K)return;lt.isIntersecting?K.classList.remove("gradient-active"):K.classList.add("gradient-active")}}),Rt=document.getElementById("list-9");if(!Rt)return;const rt=Rt.querySelector(".overflow-end");rt&&(kt.observe(rt),window.addCleanup(()=>kt.disconnect()))})})(),(function(){var ve=Object.create,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyNames,G=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,K=(m,b)=>()=>(b||m((b={exports:{}}).exports,b),b.exports),we=(m,b,C,I)=>{if(b&&typeof b=="object"||typeof b=="function")for(let H of rt(b))!lt.call(m,H)&&H!==C&&kt(m,H,{get:()=>b[H],enumerable:!(I=Rt(b,H))||I.enumerable});return m},Pe=(m,b,C)=>(C=m!=null?ve(G(m)):{},we(b||!m||!m.__esModule?kt(C,"default",{value:m,enumerable:!0}):C,m)),Ne=K((m,b)=>{"use strict";b.exports=I;function C(U){return U instanceof Buffer?Buffer.from(U):new U.constructor(U.buffer.slice(),U.byteOffset,U.length)}function I(U){if(U=U||{},U.circles)return H(U);let J=new Map;if(J.set(Date,ot=>new Date(ot)),J.set(Map,(ot,Pt)=>new Map(ft(Array.from(ot),Pt))),J.set(Set,(ot,Pt)=>new Set(ft(Array.from(ot),Pt))),U.constructorHandlers)for(let ot of U.constructorHandlers)J.set(ot[0],ot[1]);let tt=null;return U.proto?$t:yt;function ft(ot,Pt){let Q=Object.keys(ot),ht=new Array(Q.length);for(let Bt=0;Bt<Q.length;Bt++){let Et=Q[Bt],ae=ot[Et];typeof ae!="object"||ae===null?ht[Et]=ae:ae.constructor!==Object&&(tt=J.get(ae.constructor))?ht[Et]=tt(ae,Pt):ArrayBuffer.isView(ae)?ht[Et]=C(ae):ht[Et]=Pt(ae)}return ht}function yt(ot){if(typeof ot!="object"||ot===null)return ot;if(Array.isArray(ot))return ft(ot,yt);if(ot.constructor!==Object&&(tt=J.get(ot.constructor)))return tt(ot,yt);let Pt={};for(let Q in ot){if(Object.hasOwnProperty.call(ot,Q)===!1)continue;let ht=ot[Q];typeof ht!="object"||ht===null?Pt[Q]=ht:ht.constructor!==Object&&(tt=J.get(ht.constructor))?Pt[Q]=tt(ht,yt):ArrayBuffer.isView(ht)?Pt[Q]=C(ht):Pt[Q]=yt(ht)}return Pt}function $t(ot){if(typeof ot!="object"||ot===null)return ot;if(Array.isArray(ot))return ft(ot,$t);if(ot.constructor!==Object&&(tt=J.get(ot.constructor)))return tt(ot,$t);let Pt={};for(let Q in ot){let ht=ot[Q];typeof ht!="object"||ht===null?Pt[Q]=ht:ht.constructor!==Object&&(tt=J.get(ht.constructor))?Pt[Q]=tt(ht,$t):ArrayBuffer.isView(ht)?Pt[Q]=C(ht):Pt[Q]=$t(ht)}return Pt}}function H(U){let J=[],tt=[],ft=new Map;if(ft.set(Date,Q=>new Date(Q)),ft.set(Map,(Q,ht)=>new Map($t(Array.from(Q),ht))),ft.set(Set,(Q,ht)=>new Set($t(Array.from(Q),ht))),U.constructorHandlers)for(let Q of U.constructorHandlers)ft.set(Q[0],Q[1]);let yt=null;return U.proto?Pt:ot;function $t(Q,ht){let Bt=Object.keys(Q),Et=new Array(Bt.length);for(let ae=0;ae<Bt.length;ae++){let Ae=Bt[ae],Ee=Q[Ae];if(typeof Ee!="object"||Ee===null)Et[Ae]=Ee;else if(Ee.constructor!==Object&&(yt=ft.get(Ee.constructor)))Et[Ae]=yt(Ee,ht);else if(ArrayBuffer.isView(Ee))Et[Ae]=C(Ee);else{let Re=J.indexOf(Ee);Re!==-1?Et[Ae]=tt[Re]:Et[Ae]=ht(Ee)}}return Et}function ot(Q){if(typeof Q!="object"||Q===null)return Q;if(Array.isArray(Q))return $t(Q,ot);if(Q.constructor!==Object&&(yt=ft.get(Q.constructor)))return yt(Q,ot);let ht={};J.push(Q),tt.push(ht);for(let Bt in Q){if(Object.hasOwnProperty.call(Q,Bt)===!1)continue;let Et=Q[Bt];if(typeof Et!="object"||Et===null)ht[Bt]=Et;else if(Et.constructor!==Object&&(yt=ft.get(Et.constructor)))ht[Bt]=yt(Et,ot);else if(ArrayBuffer.isView(Et))ht[Bt]=C(Et);else{let ae=J.indexOf(Et);ae!==-1?ht[Bt]=tt[ae]:ht[Bt]=ot(Et)}}return J.pop(),tt.pop(),ht}function Pt(Q){if(typeof Q!="object"||Q===null)return Q;if(Array.isArray(Q))return $t(Q,Pt);if(Q.constructor!==Object&&(yt=ft.get(Q.constructor)))return yt(Q,Pt);let ht={};J.push(Q),tt.push(ht);for(let Bt in Q){let Et=Q[Bt];if(typeof Et!="object"||Et===null)ht[Bt]=Et;else if(Et.constructor!==Object&&(yt=ft.get(Et.constructor)))ht[Bt]=yt(Et,Pt);else if(ArrayBuffer.isView(Et))ht[Bt]=C(Et);else{let ae=J.indexOf(Et);ae!==-1?ht[Bt]=tt[ae]:ht[Bt]=Pt(Et)}}return J.pop(),tt.pop(),ht}}}),dt=/<link rel="canonical" href="([^"]*)">/;async function pt(m){let b=await fetch(`${m}`);if(!b.headers.get("content-type")?.startsWith("text/html"))return b;let C=await b.clone().text(),[I,H]=C.match(dt)??[];return H?fetch(`${new URL(H,m)}`):b}async function _t(m){try{return await pt(m)}catch(b){return console.error(b),null}}var wt=Math.min,at=Math.max,jt=Math.round,ct=m=>({x:m,y:m}),Kt={left:"right",right:"left",bottom:"top",top:"bottom"},Gt={start:"end",end:"start"};function _e(m,b,C){return at(m,wt(b,C))}function be(m,b){return typeof m=="function"?m(b):m}function Wt(m){return m.split("-")[0]}function Ce(m){return m.split("-")[1]}function Me(m){return m==="x"?"y":"x"}function Ke(m){return m==="y"?"height":"width"}var Le=new Set(["top","bottom"]);function fe(m){return Le.has(Wt(m))?"y":"x"}function Ft(m){return Me(fe(m))}function Qt(m,b,C){C===void 0&&(C=!1);let I=Ce(m),H=Ft(m),U=Ke(H),J=H==="x"?I===(C?"end":"start")?"right":"left":I==="start"?"bottom":"top";return b.reference[U]>b.floating[U]&&(J=sn(J)),[J,sn(J)]}function je(m){let b=sn(m);return[Oe(m),b,Oe(b)]}function Oe(m){return m.replace(/start|end/g,b=>Gt[b])}var He=["left","right"],an=["right","left"],cn=["top","bottom"],tn=["bottom","top"];function We(m,b,C){switch(m){case"top":case"bottom":return C?b?an:He:b?He:an;case"left":case"right":return b?cn:tn;default:return[]}}function Mn(m,b,C,I){let H=Ce(m),U=We(Wt(m),C==="start",I);return H&&(U=U.map(J=>J+"-"+H),b&&(U=U.concat(U.map(Oe)))),U}function sn(m){return m.replace(/left|right|bottom|top/g,b=>Kt[b])}function Sn(m){return{top:0,right:0,bottom:0,left:0,...m}}function hn(m){return typeof m!="number"?Sn(m):{top:m,right:m,bottom:m,left:m}}function en(m){let{x:b,y:C,width:I,height:H}=m;return{width:I,height:H,top:C,left:b,right:b+I,bottom:C+H,x:b,y:C}}function xn(m,b,C){let{reference:I,floating:H}=m,U=fe(b),J=Ft(b),tt=Ke(J),ft=Wt(b),yt=U==="y",$t=I.x+I.width/2-H.width/2,ot=I.y+I.height/2-H.height/2,Pt=I[tt]/2-H[tt]/2,Q;switch(ft){case"top":Q={x:$t,y:I.y-H.height};break;case"bottom":Q={x:$t,y:I.y+I.height};break;case"right":Q={x:I.x+I.width,y:ot};break;case"left":Q={x:I.x-H.width,y:ot};break;default:Q={x:I.x,y:I.y}}switch(Ce(b)){case"start":Q[J]-=Pt*(C&&yt?-1:1);break;case"end":Q[J]+=Pt*(C&&yt?-1:1);break}return Q}var zn=async(m,b,C)=>{let{placement:I="bottom",strategy:H="absolute",middleware:U=[],platform:J}=C,tt=U.filter(Boolean),ft=await(J.isRTL==null?void 0:J.isRTL(b)),yt=await J.getElementRects({reference:m,floating:b,strategy:H}),{x:$t,y:ot}=xn(yt,I,ft),Pt=I,Q={},ht=0;for(let Bt=0;Bt<tt.length;Bt++){let{name:Et,fn:ae}=tt[Bt],{x:Ae,y:Ee,data:Re,reset:rn}=await ae({x:$t,y:ot,initialPlacement:I,placement:Pt,strategy:H,middlewareData:Q,rects:yt,platform:J,elements:{reference:m,floating:b}});$t=Ae??$t,ot=Ee??ot,Q={...Q,[Et]:{...Q[Et],...Re}},rn&&ht<=50&&(ht++,typeof rn=="object"&&(rn.placement&&(Pt=rn.placement),rn.rects&&(yt=rn.rects===!0?await J.getElementRects({reference:m,floating:b,strategy:H}):rn.rects),{x:$t,y:ot}=xn(yt,Pt,ft)),Bt=-1)}return{x:$t,y:ot,placement:Pt,strategy:H,middlewareData:Q}};async function Bn(m,b){var C;b===void 0&&(b={});let{x:I,y:H,platform:U,rects:J,elements:tt,strategy:ft}=m,{boundary:yt="clippingAncestors",rootBoundary:$t="viewport",elementContext:ot="floating",altBoundary:Pt=!1,padding:Q=0}=be(b,m),ht=hn(Q),Bt=tt[Pt?ot==="floating"?"reference":"floating":ot],Et=en(await U.getClippingRect({element:(C=await(U.isElement==null?void 0:U.isElement(Bt)))==null||C?Bt:Bt.contextElement||await(U.getDocumentElement==null?void 0:U.getDocumentElement(tt.floating)),boundary:yt,rootBoundary:$t,strategy:ft})),ae=ot==="floating"?{x:I,y:H,width:J.floating.width,height:J.floating.height}:J.reference,Ae=await(U.getOffsetParent==null?void 0:U.getOffsetParent(tt.floating)),Ee=await(U.isElement==null?void 0:U.isElement(Ae))?await(U.getScale==null?void 0:U.getScale(Ae))||{x:1,y:1}:{x:1,y:1},Re=en(U.convertOffsetParentRelativeRectToViewportRelativeRect?await U.convertOffsetParentRelativeRectToViewportRelativeRect({elements:tt,rect:ae,offsetParent:Ae,strategy:ft}):ae);return{top:(Et.top-Re.top+ht.top)/Ee.y,bottom:(Re.bottom-Et.bottom+ht.bottom)/Ee.y,left:(Et.left-Re.left+ht.left)/Ee.x,right:(Re.right-Et.right+ht.right)/Ee.x}}var Dn=function(m){return m===void 0&&(m={}),{name:"flip",options:m,async fn(b){var C,I;let{placement:H,middlewareData:U,rects:J,initialPlacement:tt,platform:ft,elements:yt}=b,{mainAxis:$t=!0,crossAxis:ot=!0,fallbackPlacements:Pt,fallbackStrategy:Q="bestFit",fallbackAxisSideDirection:ht="none",flipAlignment:Bt=!0,...Et}=be(m,b);if((C=U.arrow)!=null&&C.alignmentOffset)return{};let ae=Wt(H),Ae=fe(tt),Ee=Wt(tt)===tt,Re=await(ft.isRTL==null?void 0:ft.isRTL(yt.floating)),rn=Pt||(Ee||!Bt?[sn(tt)]:je(tt)),Un=ht!=="none";!Pt&&Un&&rn.push(...Mn(tt,Bt,ht,Re));let tr=[tt,...rn],er=await Bn(b,Et),Wn=[],Xe=((I=U.flip)==null?void 0:I.overflows)||[];if($t&&Wn.push(er[ae]),ot){let dn=Qt(H,J,Re);Wn.push(er[dn[0]],er[dn[1]])}if(Xe=[...Xe,{placement:H,overflows:Wn}],!Wn.every(dn=>dn<=0)){var Xn,Yn;let dn=(((Xn=U.flip)==null?void 0:Xn.index)||0)+1,Cn=tr[dn];if(Cn&&(!(ot==="alignment"&&Ae!==fe(Cn))||Xe.every(ze=>fe(ze.placement)===Ae?ze.overflows[0]>0:!0)))return{data:{index:dn,overflows:Xe},reset:{placement:Cn}};let on=(Yn=Xe.filter(ze=>ze.overflows[0]<=0).sort((ze,_n)=>ze.overflows[1]-_n.overflows[1])[0])==null?void 0:Yn.placement;if(!on)switch(Q){case"bestFit":{var Ue;let ze=(Ue=Xe.filter(_n=>{if(Un){let Ye=fe(_n.placement);return Ye===Ae||Ye==="y"}return!0}).map(_n=>[_n.placement,_n.overflows.filter(Ye=>Ye>0).reduce((Ye,Qr)=>Ye+Qr,0)]).sort((_n,Ye)=>_n[1]-Ye[1])[0])==null?void 0:Ue[0];ze&&(on=ze);break}case"initialPlacement":on=tt;break}if(H!==on)return{reset:{placement:on}}}return{}}}};function An(m){let b=wt(...m.map(U=>U.left)),C=wt(...m.map(U=>U.top)),I=at(...m.map(U=>U.right)),H=at(...m.map(U=>U.bottom));return{x:b,y:C,width:I-b,height:H-C}}function On(m){let b=m.slice().sort((H,U)=>H.y-U.y),C=[],I=null;for(let H=0;H<b.length;H++){let U=b[H];!I||U.y-I.y>I.height/2?C.push([U]):C[C.length-1].push(U),I=U}return C.map(H=>en(An(H)))}var N=function(m){return m===void 0&&(m={}),{name:"inline",options:m,async fn(b){let{placement:C,elements:I,rects:H,platform:U,strategy:J}=b,{padding:tt=2,x:ft,y:yt}=be(m,b),$t=Array.from(await(U.getClientRects==null?void 0:U.getClientRects(I.reference))||[]),ot=On($t),Pt=en(An($t)),Q=hn(tt);function ht(){if(ot.length===2&&ot[0].left>ot[1].right&&ft!=null&&yt!=null)return ot.find(Et=>ft>Et.left-Q.left&&ft<Et.right+Q.right&&yt>Et.top-Q.top&&yt<Et.bottom+Q.bottom)||Pt;if(ot.length>=2){if(fe(C)==="y"){let Xe=ot[0],Xn=ot[ot.length-1],Yn=Wt(C)==="top",Ue=Xe.top,dn=Xn.bottom,Cn=Yn?Xe.left:Xn.left,on=Yn?Xe.right:Xn.right,ze=on-Cn,_n=dn-Ue;return{top:Ue,bottom:dn,left:Cn,right:on,width:ze,height:_n,x:Cn,y:Ue}}let Et=Wt(C)==="left",ae=at(...ot.map(Xe=>Xe.right)),Ae=wt(...ot.map(Xe=>Xe.left)),Ee=ot.filter(Xe=>Et?Xe.left===Ae:Xe.right===ae),Re=Ee[0].top,rn=Ee[Ee.length-1].bottom,Un=Ae,tr=ae,er=tr-Un,Wn=rn-Re;return{top:Re,bottom:rn,left:Un,right:tr,width:er,height:Wn,x:Un,y:Re}}return Pt}let Bt=await U.getElementRects({reference:{getBoundingClientRect:ht},floating:I.floating,strategy:J});return H.reference.x!==Bt.reference.x||H.reference.y!==Bt.reference.y||H.reference.width!==Bt.reference.width||H.reference.height!==Bt.reference.height?{reset:{rects:Bt}}:{}}}},Y=function(m){return m===void 0&&(m={}),{name:"shift",options:m,async fn(b){let{x:C,y:I,placement:H}=b,{mainAxis:U=!0,crossAxis:J=!1,limiter:tt={fn:Et=>{let{x:ae,y:Ae}=Et;return{x:ae,y:Ae}}},...ft}=be(m,b),yt={x:C,y:I},$t=await Bn(b,ft),ot=fe(Wt(H)),Pt=Me(ot),Q=yt[Pt],ht=yt[ot];if(U){let Et=Pt==="y"?"top":"left",ae=Pt==="y"?"bottom":"right",Ae=Q+$t[Et],Ee=Q-$t[ae];Q=_e(Ae,Q,Ee)}if(J){let Et=ot==="y"?"top":"left",ae=ot==="y"?"bottom":"right",Ae=ht+$t[Et],Ee=ht-$t[ae];ht=_e(Ae,ht,Ee)}let Bt=tt.fn({...b,[Pt]:Q,[ot]:ht});return{...Bt,data:{x:Bt.x-C,y:Bt.y-I,enabled:{[Pt]:U,[ot]:J}}}}}};function nt(){return typeof window<"u"}function xt(m){return qt(m)?(m.nodeName||"").toLowerCase():"#document"}function Lt(m){var b;return(m==null||(b=m.ownerDocument)==null?void 0:b.defaultView)||window}function Ct(m){var b;return(b=(qt(m)?m.ownerDocument:m.document)||window.document)==null?void 0:b.documentElement}function qt(m){return nt()?m instanceof Node||m instanceof Lt(m).Node:!1}function Mt(m){return nt()?m instanceof Element||m instanceof Lt(m).Element:!1}function St(m){return nt()?m instanceof HTMLElement||m instanceof Lt(m).HTMLElement:!1}function Jt(m){return!nt()||typeof ShadowRoot>"u"?!1:m instanceof ShadowRoot||m instanceof Lt(m).ShadowRoot}var de=new Set(["inline","contents"]);function E(m){let{overflow:b,overflowX:C,overflowY:I,display:H}=bt(m);return/auto|scroll|overlay|hidden|clip/.test(b+I+C)&&!de.has(H)}var D=new Set(["table","td","th"]);function q(m){return D.has(xt(m))}var X=[":popover-open",":modal"];function gt(m){return X.some(b=>{try{return m.matches(b)}catch{return!1}})}var it=["transform","translate","scale","rotate","perspective"],mt=["transform","translate","scale","rotate","perspective","filter"],ie=["paint","layout","strict","content"];function se(m){let b=Ve(),C=Mt(m)?bt(m):m;return it.some(I=>C[I]?C[I]!=="none":!1)||(C.containerType?C.containerType!=="normal":!1)||!b&&(C.backdropFilter?C.backdropFilter!=="none":!1)||!b&&(C.filter?C.filter!=="none":!1)||mt.some(I=>(C.willChange||"").includes(I))||ie.some(I=>(C.contain||"").includes(I))}function Ie(m){let b=xe(m);for(;St(b)&&!ye(b);){if(se(b))return b;if(gt(b))return null;b=xe(b)}return null}function Ve(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var Ut=new Set(["html","body","#document"]);function ye(m){return Ut.has(xt(m))}function bt(m){return Lt(m).getComputedStyle(m)}function zt(m){return Mt(m)?{scrollLeft:m.scrollLeft,scrollTop:m.scrollTop}:{scrollLeft:m.scrollX,scrollTop:m.scrollY}}function xe(m){if(xt(m)==="html")return m;let b=m.assignedSlot||m.parentNode||Jt(m)&&m.host||Ct(m);return Jt(b)?b.host:b}function oe(m){let b=xe(m);return ye(b)?m.ownerDocument?m.ownerDocument.body:m.body:St(b)&&E(b)?b:oe(b)}function pe(m,b,C){var I;b===void 0&&(b=[]),C===void 0&&(C=!0);let H=oe(m),U=H===((I=m.ownerDocument)==null?void 0:I.body),J=Lt(H);if(U){let tt=fn(J);return b.concat(J,J.visualViewport||[],E(H)?H:[],tt&&C?pe(tt):[])}return b.concat(H,pe(H,[],C))}function fn(m){return m.parent&&Object.getPrototypeOf(m.parent)?m.frameElement:null}function De(m){let b=bt(m),C=parseFloat(b.width)||0,I=parseFloat(b.height)||0,H=St(m),U=H?m.offsetWidth:C,J=H?m.offsetHeight:I,tt=jt(C)!==U||jt(I)!==J;return tt&&(C=U,I=J),{width:C,height:I,$:tt}}function jn(m){return Mt(m)?m:m.contextElement}function nn(m){let b=jn(m);if(!St(b))return ct(1);let C=b.getBoundingClientRect(),{width:I,height:H,$:U}=De(b),J=(U?jt(C.width):C.width)/I,tt=(U?jt(C.height):C.height)/H;return(!J||!Number.isFinite(J))&&(J=1),(!tt||!Number.isFinite(tt))&&(tt=1),{x:J,y:tt}}var At=ct(0);function mr(m){let b=Lt(m);return!Ve()||!b.visualViewport?At:{x:b.visualViewport.offsetLeft,y:b.visualViewport.offsetTop}}function Lr(m,b,C){return b===void 0&&(b=!1),!C||b&&C!==Lt(m)?!1:b}function Rn(m,b,C,I){b===void 0&&(b=!1),C===void 0&&(C=!1);let H=m.getBoundingClientRect(),U=jn(m),J=ct(1);b&&(I?Mt(I)&&(J=nn(I)):J=nn(m));let tt=Lr(U,C,I)?mr(U):ct(0),ft=(H.left+tt.x)/J.x,yt=(H.top+tt.y)/J.y,$t=H.width/J.x,ot=H.height/J.y;if(U){let Pt=Lt(U),Q=I&&Mt(I)?Lt(I):I,ht=Pt,Bt=fn(ht);for(;Bt&&I&&Q!==ht;){let Et=nn(Bt),ae=Bt.getBoundingClientRect(),Ae=bt(Bt),Ee=ae.left+(Bt.clientLeft+parseFloat(Ae.paddingLeft))*Et.x,Re=ae.top+(Bt.clientTop+parseFloat(Ae.paddingTop))*Et.y;ft*=Et.x,yt*=Et.y,$t*=Et.x,ot*=Et.y,ft+=Ee,yt+=Re,ht=Lt(Bt),Bt=fn(ht)}}return en({width:$t,height:ot,x:ft,y:yt})}function Gn(m,b){let C=zt(m).scrollLeft;return b?b.left+C:Rn(Ct(m)).left+C}function ar(m,b){let C=m.getBoundingClientRect(),I=C.left+b.scrollLeft-Gn(m,C),H=C.top+b.scrollTop;return{x:I,y:H}}function yr(m){let{elements:b,rect:C,offsetParent:I,strategy:H}=m,U=H==="fixed",J=Ct(I),tt=b?gt(b.floating):!1;if(I===J||tt&&U)return C;let ft={scrollLeft:0,scrollTop:0},yt=ct(1),$t=ct(0),ot=St(I);if((ot||!ot&&!U)&&((xt(I)!=="body"||E(J))&&(ft=zt(I)),St(I))){let Q=Rn(I);yt=nn(I),$t.x=Q.x+I.clientLeft,$t.y=Q.y+I.clientTop}let Pt=J&&!ot&&!U?ar(J,ft):ct(0);return{width:C.width*yt.x,height:C.height*yt.y,x:C.x*yt.x-ft.scrollLeft*yt.x+$t.x+Pt.x,y:C.y*yt.y-ft.scrollTop*yt.y+$t.y+Pt.y}}function Qn(m){return Array.from(m.getClientRects())}function sr(m){let b=Ct(m),C=zt(m),I=m.ownerDocument.body,H=at(b.scrollWidth,b.clientWidth,I.scrollWidth,I.clientWidth),U=at(b.scrollHeight,b.clientHeight,I.scrollHeight,I.clientHeight),J=-C.scrollLeft+Gn(m),tt=-C.scrollTop;return bt(I).direction==="rtl"&&(J+=at(b.clientWidth,I.clientWidth)-H),{width:H,height:U,x:J,y:tt}}var lr=25;function vr(m,b){let C=Lt(m),I=Ct(m),H=C.visualViewport,U=I.clientWidth,J=I.clientHeight,tt=0,ft=0;if(H){U=H.width,J=H.height;let $t=Ve();(!$t||$t&&b==="fixed")&&(tt=H.offsetLeft,ft=H.offsetTop)}let yt=Gn(I);if(yt<=0){let $t=I.ownerDocument,ot=$t.body,Pt=getComputedStyle(ot),Q=$t.compatMode==="CSS1Compat"&&parseFloat(Pt.marginLeft)+parseFloat(Pt.marginRight)||0,ht=Math.abs(I.clientWidth-ot.clientWidth-Q);ht<=lr&&(U-=ht)}else yt<=lr&&(U+=yt);return{width:U,height:J,x:tt,y:ft}}var wr=new Set(["absolute","fixed"]);function Zn(m,b){let C=Rn(m,!0,b==="fixed"),I=C.top+m.clientTop,H=C.left+m.clientLeft,U=St(m)?nn(m):ct(1),J=m.clientWidth*U.x,tt=m.clientHeight*U.y,ft=H*U.x,yt=I*U.y;return{width:J,height:tt,x:ft,y:yt}}function Tn(m,b,C){let I;if(b==="viewport")I=vr(m,C);else if(b==="document")I=sr(Ct(m));else if(Mt(b))I=Zn(b,C);else{let H=mr(m);I={x:b.x-H.x,y:b.y-H.y,width:b.width,height:b.height}}return en(I)}function Fn(m,b){let C=xe(m);return C===b||!Mt(C)||ye(C)?!1:bt(C).position==="fixed"||Fn(C,b)}function br(m,b){let C=b.get(m);if(C)return C;let I=pe(m,[],!1).filter(tt=>Mt(tt)&&xt(tt)!=="body"),H=null,U=bt(m).position==="fixed",J=U?xe(m):m;for(;Mt(J)&&!ye(J);){let tt=bt(J),ft=se(J);!ft&&tt.position==="fixed"&&(H=null),(U?!ft&&!H:!ft&&tt.position==="static"&&H&&wr.has(H.position)||E(J)&&!ft&&Fn(m,J))?I=I.filter(yt=>yt!==J):H=tt,J=xe(J)}return b.set(m,I),I}function Cr(m){let{element:b,boundary:C,rootBoundary:I,strategy:H}=m,U=[...C==="clippingAncestors"?gt(b)?[]:br(b,this._c):[].concat(C),I],J=U[0],tt=U.reduce((ft,yt)=>{let $t=Tn(b,yt,H);return ft.top=at($t.top,ft.top),ft.right=wt($t.right,ft.right),ft.bottom=wt($t.bottom,ft.bottom),ft.left=at($t.left,ft.left),ft},Tn(b,J,H));return{width:tt.right-tt.left,height:tt.bottom-tt.top,x:tt.left,y:tt.top}}function ur(m){let{width:b,height:C}=De(m);return{width:b,height:C}}function En(m,b,C){let I=St(b),H=Ct(b),U=C==="fixed",J=Rn(m,!0,U,b),tt={scrollLeft:0,scrollTop:0},ft=ct(0);function yt(){ft.x=Gn(H)}if(I||!I&&!U)if((xt(b)!=="body"||E(H))&&(tt=zt(b)),I){let Q=Rn(b,!0,U,b);ft.x=Q.x+b.clientLeft,ft.y=Q.y+b.clientTop}else H&&yt();U&&!I&&H&&yt();let $t=H&&!I&&!U?ar(H,tt):ct(0),ot=J.left+tt.scrollLeft-ft.x-$t.x,Pt=J.top+tt.scrollTop-ft.y-$t.y;return{x:ot,y:Pt,width:J.width,height:J.height}}function cr(m){return bt(m).position==="static"}function hr(m,b){if(!St(m)||bt(m).position==="fixed")return null;if(b)return b(m);let C=m.offsetParent;return Ct(m)===C&&(C=C.ownerDocument.body),C}function Hn(m,b){let C=Lt(m);if(gt(m))return C;if(!St(m)){let H=xe(m);for(;H&&!ye(H);){if(Mt(H)&&!cr(H))return H;H=xe(H)}return C}let I=hr(m,b);for(;I&&q(I)&&cr(I);)I=hr(I,b);return I&&ye(I)&&cr(I)&&!se(I)?C:I||Ie(m)||C}var Ln=async function(m){let b=this.getOffsetParent||Hn,C=this.getDimensions,I=await C(m.floating);return{reference:En(m.reference,await b(m.floating),m.strategy),floating:{x:0,y:0,width:I.width,height:I.height}}};function xr(m){return bt(m).direction==="rtl"}var Mr={convertOffsetParentRelativeRectToViewportRelativeRect:yr,getDocumentElement:Ct,getClippingRect:Cr,getOffsetParent:Hn,getElementRects:Ln,getClientRects:Qn,getDimensions:ur,getScale:nn,isElement:Mt,isRTL:xr},jr=Y,Tr=Dn,Pr=N,Pn=(m,b,C)=>{let I=new Map,H={platform:Mr,...C},U={...H.platform,_c:I};return zn(m,b,{...H,platform:U})};async function Nr(m,b,C){let{x:I,y:H}=await Pn(m,b,{strategy:"fixed",middleware:[Pr({x:C.clientX,y:C.clientY}),jr(),Tr()]});Object.assign(b.style,{transform:`translate(${I.toFixed()}px, ${H.toFixed()}px)`})}function Ir(m){let b=document.createElement("img");return b.src=m.toString(),b.alt=m.pathname,b}function $r(m){let b=document.createElement("iframe");return b.src=m.toString(),b}function Wr(m){let b=document.createElement("div");b.id=m,b.classList.add("popover");let C=document.createElement("div");return C.classList.add("popover-inner"),b.appendChild(C),{popoverElement:b,popoverInner:C}}var Xr=Object.hasOwnProperty,Vn=Pe(Ne(),1),ci=(0,Vn.default)(),_r=(m,b,C)=>{let I=new URL(m.getAttribute(b),C);m.setAttribute(b,I.pathname+I.hash)};function Yr(m,b){m.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(C=>_r(C,"href",b)),m.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(C=>_r(C,"src",b))}async function Kr(m,b,C){let I=await b.text(),H=m.parseFromString(I,"text/html");Yr(H,C),H.querySelectorAll("[id]").forEach(J=>{let tt=`popover-internal-${J.id}`;J.id=tt});let U=[...H.getElementsByClassName("popover-hint")];return U.length===0?null:U}async function qr(m,b,C,I){let[H]=C.headers.get("Content-Type").split(";"),[U,J]=H.split("/");switch(b.dataset.contentType=H??void 0,U){case"image":return b.appendChild(Ir(I)),!0;case"application":return J==="pdf"?(b.appendChild($r(I)),!0):!1;default:{let tt=await Kr(m,C,I);if(!tt)return!1;tt.forEach(yt=>b.appendChild(yt));let ft=window.setupTagList;if(typeof ft=="function")try{await new Promise(yt=>requestAnimationFrame(yt)),await ft(b)}catch(yt){console.warn("Popover: setupTagList failed",yt)}return!0}}}var Jr=class{domParser=new DOMParser;activeAnchor=null;clearActivePopover(){this.activeAnchor=null,document.querySelectorAll(".popover").forEach(m=>m.classList.remove("active-popover"))}async showPopover(m,b,C,I){if(this.clearActivePopover(),m.classList.add("active-popover"),await Nr(b,m,I),C!==""){let H=m.querySelector(".popover-inner"),U=`#popover-internal-${C.slice(1)}`,J=H.querySelector(U);J&&H.scroll({top:J.offsetTop-12,behavior:"instant"})}}async handleMouseEnter(m,b){if(this.activeAnchor=m,m.dataset.noPopover==="true")return;let C=new URL(m.href),I=decodeURIComponent(C.hash);C.hash="",C.search="";let H=`popover-${m.pathname}`,U=document.getElementById(H);if(U){await this.showPopover(U,m,I,b);return}let J=await _t(C);if(!J)return;let{popoverElement:tt,popoverInner:ft}=Wr(H);await qr(this.domParser,ft,J,C)&&(document.getElementById(H)||(document.body.appendChild(tt),this.activeAnchor===m&&await this.showPopover(tt,m,I,b)))}},zr=new Jr;async function Br(m){let b=m.currentTarget;if(!b)return;let C={clientX:m.clientX,clientY:m.clientY};await zr.handleMouseEnter(b,C)}function Dr(){zr.clearActivePopover()}function Gr(){let m=[...document.querySelectorAll("a.internal")];for(let b of m)b.addEventListener("mouseenter",Br),b.addEventListener("mouseleave",Dr),window.addCleanup(()=>{b.removeEventListener("mouseenter",Br),b.removeEventListener("mouseleave",Dr)})}document.addEventListener("nav",Gr)})(),(function(){const ve=document.createElement("script");ve.src="https://plausible.io/js/script.manual.js",ve.setAttribute("data-domain",location.hostname),ve.defer=!0,ve.onload=()=>{window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},plausible("pageview"),document.addEventListener("nav",()=>{plausible("pageview")})},document.head.appendChild(ve)})(),(function(){var ve=Object.create,kt=Object.defineProperty,Rt=Object.getOwnPropertyDescriptor,rt=Object.getOwnPropertyNames,G=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,K=(E,D)=>()=>(D||E((D={exports:{}}).exports,D),D.exports),we=(E,D,q,X)=>{if(D&&typeof D=="object"||typeof D=="function")for(let gt of rt(D))!lt.call(E,gt)&&gt!==q&&kt(E,gt,{get:()=>D[gt],enumerable:!(X=Rt(D,gt))||X.enumerable});return E},Pe=(E,D,q)=>(q=E!=null?ve(G(E)):{},we(D||!E||!E.__esModule?kt(q,"default",{value:E,enumerable:!0}):q,E)),Ne=K((E,D)=>{"use strict";D.exports=X;function q(it){return it instanceof Buffer?Buffer.from(it):new it.constructor(it.buffer.slice(),it.byteOffset,it.length)}function X(it){if(it=it||{},it.circles)return gt(it);let mt=new Map;if(mt.set(Date,Ut=>new Date(Ut)),mt.set(Map,(Ut,ye)=>new Map(se(Array.from(Ut),ye))),mt.set(Set,(Ut,ye)=>new Set(se(Array.from(Ut),ye))),it.constructorHandlers)for(let Ut of it.constructorHandlers)mt.set(Ut[0],Ut[1]);let ie=null;return it.proto?Ve:Ie;function se(Ut,ye){let bt=Object.keys(Ut),zt=new Array(bt.length);for(let xe=0;xe<bt.length;xe++){let oe=bt[xe],pe=Ut[oe];typeof pe!="object"||pe===null?zt[oe]=pe:pe.constructor!==Object&&(ie=mt.get(pe.constructor))?zt[oe]=ie(pe,ye):ArrayBuffer.isView(pe)?zt[oe]=q(pe):zt[oe]=ye(pe)}return zt}function Ie(Ut){if(typeof Ut!="object"||Ut===null)return Ut;if(Array.isArray(Ut))return se(Ut,Ie);if(Ut.constructor!==Object&&(ie=mt.get(Ut.constructor)))return ie(Ut,Ie);let ye={};for(let bt in Ut){if(Object.hasOwnProperty.call(Ut,bt)===!1)continue;let zt=Ut[bt];typeof zt!="object"||zt===null?ye[bt]=zt:zt.constructor!==Object&&(ie=mt.get(zt.constructor))?ye[bt]=ie(zt,Ie):ArrayBuffer.isView(zt)?ye[bt]=q(zt):ye[bt]=Ie(zt)}return ye}function Ve(Ut){if(typeof Ut!="object"||Ut===null)return Ut;if(Array.isArray(Ut))return se(Ut,Ve);if(Ut.constructor!==Object&&(ie=mt.get(Ut.constructor)))return ie(Ut,Ve);let ye={};for(let bt in Ut){let zt=Ut[bt];typeof zt!="object"||zt===null?ye[bt]=zt:zt.constructor!==Object&&(ie=mt.get(zt.constructor))?ye[bt]=ie(zt,Ve):ArrayBuffer.isView(zt)?ye[bt]=q(zt):ye[bt]=Ve(zt)}return ye}}function gt(it){let mt=[],ie=[],se=new Map;if(se.set(Date,bt=>new Date(bt)),se.set(Map,(bt,zt)=>new Map(Ve(Array.from(bt),zt))),se.set(Set,(bt,zt)=>new Set(Ve(Array.from(bt),zt))),it.constructorHandlers)for(let bt of it.constructorHandlers)se.set(bt[0],bt[1]);let Ie=null;return it.proto?ye:Ut;function Ve(bt,zt){let xe=Object.keys(bt),oe=new Array(xe.length);for(let pe=0;pe<xe.length;pe++){let fn=xe[pe],De=bt[fn];if(typeof De!="object"||De===null)oe[fn]=De;else if(De.constructor!==Object&&(Ie=se.get(De.constructor)))oe[fn]=Ie(De,zt);else if(ArrayBuffer.isView(De))oe[fn]=q(De);else{let jn=mt.indexOf(De);jn!==-1?oe[fn]=ie[jn]:oe[fn]=zt(De)}}return oe}function Ut(bt){if(typeof bt!="object"||bt===null)return bt;if(Array.isArray(bt))return Ve(bt,Ut);if(bt.constructor!==Object&&(Ie=se.get(bt.constructor)))return Ie(bt,Ut);let zt={};mt.push(bt),ie.push(zt);for(let xe in bt){if(Object.hasOwnProperty.call(bt,xe)===!1)continue;let oe=bt[xe];if(typeof oe!="object"||oe===null)zt[xe]=oe;else if(oe.constructor!==Object&&(Ie=se.get(oe.constructor)))zt[xe]=Ie(oe,Ut);else if(ArrayBuffer.isView(oe))zt[xe]=q(oe);else{let pe=mt.indexOf(oe);pe!==-1?zt[xe]=ie[pe]:zt[xe]=Ut(oe)}}return mt.pop(),ie.pop(),zt}function ye(bt){if(typeof bt!="object"||bt===null)return bt;if(Array.isArray(bt))return Ve(bt,ye);if(bt.constructor!==Object&&(Ie=se.get(bt.constructor)))return Ie(bt,ye);let zt={};mt.push(bt),ie.push(zt);for(let xe in bt){let oe=bt[xe];if(typeof oe!="object"||oe===null)zt[xe]=oe;else if(oe.constructor!==Object&&(Ie=se.get(oe.constructor)))zt[xe]=Ie(oe,ye);else if(ArrayBuffer.isView(oe))zt[xe]=q(oe);else{let pe=mt.indexOf(oe);pe!==-1?zt[xe]=ie[pe]:zt[xe]=ye(oe)}}return mt.pop(),ie.pop(),zt}}}),dt=E=>(D,q)=>D[`node${E}`]===q[`node${E}`],pt=dt("Name"),_t=dt("Type"),wt=dt("Value");function at(E,D){if(E.attributes.length===0&&D.attributes.length===0)return[];let q=[],X=new Map,gt=new Map;for(let it of E.attributes)X.set(it.name,it.value);for(let it of D.attributes){let mt=X.get(it.name);it.value===mt?X.delete(it.name):(typeof mt<"u"&&X.delete(it.name),gt.set(it.name,it.value))}for(let it of X.keys())q.push({type:5,name:it});for(let[it,mt]of gt.entries())q.push({type:4,name:it,value:mt});return q}function jt(E,D=!0){let q=`${E.localName}`;for(let{name:X,value:gt}of E.attributes)D&&X.startsWith("data-")||(q+=`[${X}=${gt}]`);return q+=E.innerHTML,q}function ct(E){switch(E.tagName){case"BASE":case"TITLE":return E.localName;case"META":{if(E.hasAttribute("name"))return`meta[name="${E.getAttribute("name")}"]`;if(E.hasAttribute("property"))return`meta[name="${E.getAttribute("property")}"]`;break}case"LINK":{if(E.hasAttribute("rel")&&E.hasAttribute("href"))return`link[rel="${E.getAttribute("rel")}"][href="${E.getAttribute("href")}"]`;if(E.hasAttribute("href"))return`link[href="${E.getAttribute("href")}"]`;break}}return jt(E)}function Kt(E){let[D,q=""]=E.split("?");return`${D}?t=${Date.now()}&${q.replace(/t=\d+/g,"")}`}function Gt(E){if(E.nodeType===1&&E.hasAttribute("data-persist"))return E;if(E.nodeType===1&&E.localName==="script"){let D=document.createElement("script");for(let{name:q,value:X}of E.attributes)q==="src"&&(X=Kt(X)),D.setAttribute(q,X);return D.innerHTML=E.innerHTML,D}return E.cloneNode(!0)}function _e(E,D){if(E.children.length===0&&D.children.length===0)return[];let q=[],X=new Map,gt=new Map,it=new Map;for(let mt of E.children)X.set(ct(mt),mt);for(let mt of D.children){let ie=ct(mt),se=X.get(ie);se?jt(mt,!1)!==jt(se,!1)&&gt.set(ie,Gt(mt)):it.set(ie,Gt(mt)),X.delete(ie)}for(let mt of E.childNodes){if(mt.nodeType===1){let ie=ct(mt);if(X.has(ie)){q.push({type:1});continue}else if(gt.has(ie)){let se=gt.get(ie);q.push({type:3,attributes:at(mt,se),children:be(mt,se)});continue}}q.push(void 0)}for(let mt of it.values())q.push({type:0,node:Gt(mt)});return q}function be(E,D){let q=[],X=Math.max(E.childNodes.length,D.childNodes.length);for(let gt=0;gt<X;gt++){let it=E.childNodes.item(gt),mt=D.childNodes.item(gt);q[gt]=Wt(it,mt)}return q}function Wt(E,D){if(!E)return{type:0,node:Gt(D)};if(!D)return{type:1};if(_t(E,D)){if(E.nodeType===3){let q=E.nodeValue,X=D.nodeValue;if(q.trim().length===0&&X.trim().length===0)return}if(E.nodeType===1){if(pt(E,D)){let q=E.tagName==="HEAD"?_e:be;return{type:3,attributes:at(E,D),children:q(E,D)}}return{type:2,node:Gt(D)}}else return E.nodeType===9?Wt(E.documentElement,D.documentElement):wt(E,D)?void 0:{type:2,value:D.nodeValue}}return{type:2,node:Gt(D)}}function Ce(E,D){if(D.length!==0)for(let{type:q,name:X,value:gt}of D)q===5?E.removeAttribute(X):q===4&&E.setAttribute(X,gt)}async function Me(E,D,q){if(!D)return;let X;switch(E.nodeType===9?(E=E.documentElement,X=E):q?X=q:X=E,D.type){case 0:{let{node:gt}=D;E.appendChild(gt);return}case 1:{if(!X)return;E.removeChild(X);return}case 2:{if(!X)return;let{node:gt,value:it}=D;if(typeof it=="string"){X.nodeValue=it;return}X.replaceWith(gt);return}case 3:{if(!X)return;let{attributes:gt,children:it}=D;Ce(X,gt);let mt=Array.from(X.childNodes);await Promise.all(it.map((ie,se)=>Me(X,ie,mt[se])));return}}}function Ke(E,D){let q=Wt(E,D);return Me(E,q)}var Le=Object.hasOwnProperty,fe=Pe(Ne(),1),Ft=(0,fe.default)();function Qt(E){return E.document.body.dataset.slug}var je=(E,D,q)=>{let X=new URL(E.getAttribute(D),q);E.setAttribute(D,X.pathname+X.hash)};function Oe(E,D){E.querySelectorAll('[href=""], [href^="./"], [href^="../"]').forEach(q=>je(q,"href",D)),E.querySelectorAll('[src=""], [src^="./"], [src^="../"]').forEach(q=>je(q,"src",D))}var He=/<link rel="canonical" href="([^"]*)">/;async function an(E){let D=await fetch(`${E}`);if(!D.headers.get("content-type")?.startsWith("text/html"))return D;let q=await D.clone().text(),[X,gt]=q.match(He)??[];return gt?fetch(`${new URL(gt,E)}`):D}var cn=1,tn=new Set,We=document.createElement("route-announcer"),Mn=!1,sn;function Sn(E){return E?.nodeType===cn}function hn(E){try{let D=new URL(E);if(window.location.origin===D.origin)return!0}catch{}return!1}function en(E){let D=E.origin===window.location.origin,q=E.pathname===window.location.pathname;return D&&q}function xn(E){if(!Sn(E.target)||E.target.attributes.getNamedItem("target")?.value==="_blank")return;let D=E.target.closest("a");if(!D||"routerIgnore"in D.dataset)return;let{href:q}=D;if(hn(q))return{url:new URL(q),scroll:"routerNoscroll"in D.dataset?!1:void 0}}function zn(E){let D=new CustomEvent("nav",{detail:{url:E}});document.dispatchEvent(D)}function Bn(){let E=new CustomEvent("prenav",{detail:{}});document.dispatchEvent(E)}function Dn(){tn.forEach(E=>E()),tn.clear()}function An(){document.querySelectorAll('script[src][data-persist="false"]:not([data-loaded])').forEach(E=>{let D=document.createElement("script");D.src=E.src,D.type=E.type||"module",Array.from(E.attributes).forEach(q=>{q.name.startsWith("data-")&&D.setAttribute(q.name,q.value)}),D.dataset.loaded="true",E.replaceWith(D)})}function On(){let E=document.createElement("div");E.className="navigation-progress",E.style.width="0",document.body.contains(E)||document.body.appendChild(E),setTimeout(()=>{E.style.width="80%"},100)}function N(E,D){let q=E.querySelector("title")?.textContent;if(q)document.title=q;else{let X=document.querySelector("h1");q=X?.innerText??X?.textContent??D.pathname}return q}function Y(E,D){We.textContent!==D&&(We.textContent=D),We.dataset.persist="",E.body.appendChild(We)}function nt(E){E.hash?document.getElementById(decodeURIComponent(E.hash.substring(1)))?.scrollIntoView():window.scrollTo({top:0})}function xt(E){document.head.querySelectorAll(":not([data-persist])").forEach(q=>q.remove());let D=[];return E.head.querySelectorAll("link, meta, script, style").forEach(q=>{if(q.tagName==="SCRIPT"){let X=document.createElement("script");if(Array.from(q.attributes).forEach(gt=>{X.setAttribute(gt.name,gt.value)}),q.src){let gt=new Promise((it,mt)=>{X.onload=()=>it(),X.onerror=()=>mt(new Error(`Failed to load script: ${q.src}`))});D.push(gt),X.src=q.src}else X.textContent=q.textContent;document.head.appendChild(X)}else if(q.tagName==="LINK"&&q.rel==="stylesheet"){let X=document.createElement("link");Array.from(q.attributes).forEach(it=>{X.setAttribute(it.name,it.value)});let gt=new Promise((it,mt)=>{X.onload=()=>it(),X.onerror=()=>mt(new Error(`Failed to load stylesheet: ${q.href}`))});D.push(gt),document.head.appendChild(X)}else document.head.appendChild(q)}),Promise.all(D).then(()=>{})}async function Lt(E){return await an(E).then(D=>{if(D.headers.get("content-type")?.startsWith("text/html"))return D.text();window.location.assign(E)}).catch(()=>{window.location.assign(E)})}async function Ct(E,D){On(),sn=sn||new DOMParser;let q=await Lt(E);if(!q)return;Bn(),Dn();let X=sn.parseFromString(q,"text/html");Oe(X,E);let gt=N(X,E);Y(X,gt),Ke(document.body,X.body),An(),D||nt(E),await xt(X),D||history.pushState({},"",E),zn(Qt(window)),delete We.dataset.persist}function qt(E){return en(E)&&E.hash?(document.getElementById(decodeURIComponent(E.hash.substring(1)))?.scrollIntoView(),history.pushState({},"",E),!0):!1}async function Mt(E){let D=xn(E);if(!D||E.ctrlKey||E.metaKey)return;let{url:q}=D;E.preventDefault(),!qt(q)&&Jt(q,!1)}function St(E){let D=xn(E);window.location.hash&&window.location.pathname===D?.url?.pathname||Jt(new URL(window.location.toString()),!0)}window.addCleanup=E=>tn.add(E);async function Jt(E,D=!1){if(!Mn){Mn=!0;try{await Ct(E,D)}catch(q){console.error(q),window.location.assign(E)}finally{Mn=!1}}}window.spaNavigate=Jt;function de(){return typeof window<"u"&&(window.addEventListener("click",Mt),window.addEventListener("popstate",St)),new class{go(E){let D=new URL(E,window.location.toString());return Jt(D,!1)}back(){return window.history.back()}forward(){return window.history.forward()}}}if(de(),zn(Qt(window)),!customElements.get("route-announcer")){let E={"aria-live":"assertive","aria-atomic":"true",style:"position: absolute; left: 0; top: 0; clip: rect(0 0 0 0); clip-path: inset(50%); overflow: hidden; white-space: nowrap; width: 1px; height: 1px"};customElements.define("route-announcer",class extends HTMLElement{constructor(){super()}connectedCallback(){for(let[D,q]of Object.entries(E))this.setAttribute(D,q)}})}})();
