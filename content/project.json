{
  "$schema": "../node_modules/nx/schemas/project-schema.json",
  "name": "vault",
  "root": "content",
  "projectType": "library",
  "targets": {
    "precommit": {
      "//": "Runs all pre-commit tasks related to setting up the vault prior to builds and commits.",
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "nx run vault:sync",
          "nx run vault:index-tags"
        ],
        "cwd": "content",
        "parallel": false
      }
    },
    "sync": {
      "//": "Extract frontmatter from private content and create cleaned versions in public.",
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "node utils/extract-private-metadata.mjs"
        ],
        "parallel": false,
        "cwd": "content"
      }
    },
    "index-tags": {
      "//": "Generate index.md files for all tags found in markdown frontmatter.",
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "node utils/generate-tag-indexes.mjs"
        ],
        "parallel": false,
        "cwd": "content"
      }
    },
    "download-annotation-pdfs": {
      "//": "Download PDFs referenced in annotation-target frontmatter to public/assets/annotated-documents/",
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "node utils/download-annotation-pdfs.mjs"
        ],
        "parallel": false,
        "cwd": "content"
      }
    },
    "list-non-private": {
      "//": "List all markdown files in content/public without 'private' tag or description field.",
      "executor": "nx:run-commands",
      "options": {
        "commands": [
          "node utils/list-non-private-files.mjs"
        ],
        "parallel": false,
        "cwd": "content"
      }
    }
  }
}
